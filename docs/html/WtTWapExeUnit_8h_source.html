<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WonderTrader: src/WtExeFact/WtTWapExeUnit.h 源文件</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">WonderTrader<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">高性能量化交易平台</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function() { init_codefold(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('WtTWapExeUnit_8h_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">载入中...</div>
<div class="SRStatus" id="Searching">搜索中...</div>
<div class="SRStatus" id="NoMatches">未找到</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">WtTWapExeUnit.h</div></div>
</div><!--header-->
<div class="contents">
<a href="WtTWapExeUnit_8h.html">浏览该文件的文档.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span> </div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="preprocessor">#pragma once</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="preprocessor">#include &quot;<a class="code" href="WtOrdMon_8h.html">WtOrdMon.h</a>&quot;</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="preprocessor">#include &quot;../Includes/ExecuteDefs.h&quot;</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="preprocessor">#include &quot;../Share/StdUtils.hpp&quot;</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span> </div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno"><a class="line" href="WtTWapExeUnit_8h.html#a17226795848decb565e90624584e5c0f">   13</a></span><a class="code hl_variable" href="WtTWapExeUnit_8h.html#a17226795848decb565e90624584e5c0f">USING_NS_WTP</a>;</div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span> </div>
<div class="foldopen" id="foldopen00021" data-start="{" data-end="};">
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno"><a class="line" href="classWtTWapExeUnit.html">   21</a></span><span class="keyword">class </span><a class="code hl_class" href="classWtTWapExeUnit.html">WtTWapExeUnit</a> : <span class="keyword">public</span> <a class="code hl_class" href="classExecuteUnit.html">ExecuteUnit</a></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span>{</div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span>    <a class="code hl_function" href="classWtTWapExeUnit.html#ab733ee29b928acf44dc20a9c5fd15b94">WtTWapExeUnit</a>();</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span> </div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>    <span class="keyword">virtual</span> <a class="code hl_function" href="classWtTWapExeUnit.html#a0db4f43dc019e345bab1b22e22dbb664">~WtTWapExeUnit</a>();</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span> </div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>    <span class="keywordtype">void</span>    <a class="code hl_function" href="classWtTWapExeUnit.html#aec40191924670aed44a4bc1f359a59ce">do_calc</a>();</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span> </div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>    <span class="keywordtype">void</span>    <a class="code hl_function" href="classWtTWapExeUnit.html#aa29e0c4842c19bf3fcfb49d3a7932194">fire_at_once</a>(<span class="keywordtype">double</span> qty);</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span> </div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>    <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_function" href="classWtTWapExeUnit.html#a71bd78507c6f5830a9576d64451bb5cc">getFactName</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span> </div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>    <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_function" href="classWtTWapExeUnit.html#a3ba5f7021815179e6f4b22ae0b133aae">getName</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span> </div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classWtTWapExeUnit.html#ae0fd0bef76915282635600bd95fa099a">init</a>(<a class="code hl_class" href="classExecuteContext.html">ExecuteContext</a>* ctx, <span class="keyword">const</span> <span class="keywordtype">char</span>* stdCode, <a class="code hl_class" href="classWTSVariant.html">WTSVariant</a>* cfg) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span> </div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classWtTWapExeUnit.html#a858f9463edc3c299c72256d8dae24e09">on_order</a>(uint32_t localid, <span class="keyword">const</span> <span class="keywordtype">char</span>* stdCode, <span class="keywordtype">bool</span> isBuy, <span class="keywordtype">double</span> leftover, <span class="keywordtype">double</span> <a class="code hl_variable" href="demo__send__order_8cpp.html#a04f887fc8800d4727971dbb8eb550132">price</a>, <span class="keywordtype">bool</span> isCanceled) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span> </div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classWtTWapExeUnit.html#ac4939a45c0be329ff6db63b7951e3ecf">on_tick</a>(<a class="code hl_class" href="classWTSTickData.html">WTSTickData</a>* newTick) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span> </div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classWtTWapExeUnit.html#a5401631c68061e60e79623df9643371e">on_trade</a>(uint32_t localid, <span class="keyword">const</span> <span class="keywordtype">char</span>* stdCode, <span class="keywordtype">bool</span> isBuy, <span class="keywordtype">double</span> vol, <span class="keywordtype">double</span> <a class="code hl_variable" href="demo__send__order_8cpp.html#a04f887fc8800d4727971dbb8eb550132">price</a>) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span> </div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classWtTWapExeUnit.html#addea2ead64dd25f0c743515146782270">on_entrust</a>(uint32_t localid, <span class="keyword">const</span> <span class="keywordtype">char</span>* stdCode, <span class="keywordtype">bool</span> bSuccess, <span class="keyword">const</span> <span class="keywordtype">char</span>* message) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span> </div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classWtTWapExeUnit.html#ae6bbf91f37f9fa55b37080f3a4767601">set_position</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* stdCode, <span class="keywordtype">double</span> newVol) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span> </div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classWtTWapExeUnit.html#a1784fe78abd2597f4cc516a586a2591d">on_channel_ready</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span> </div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classWtTWapExeUnit.html#a927c0b6dbf0d47af7dfd775b84eaeab1">on_channel_lost</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span> </div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span> </div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno"><a class="line" href="classWtTWapExeUnit.html#a81c31704435d28aaff8cfbb0eddcd10a">  145</a></span>    <a class="code hl_class" href="classWTSTickData.html">WTSTickData</a>*     <a class="code hl_variable" href="classWtTWapExeUnit.html#a81c31704435d28aaff8cfbb0eddcd10a">_last_tick</a>;</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span> </div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno"><a class="line" href="classWtTWapExeUnit.html#aebd680d734a32a033306d23542407e7f">  148</a></span>    <span class="keywordtype">double</span>          <a class="code hl_variable" href="classWtTWapExeUnit.html#aebd680d734a32a033306d23542407e7f">_target_pos</a>;</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span> </div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno"><a class="line" href="classWtTWapExeUnit.html#a2b667a0f6d978d65061e16f150cc8897">  151</a></span>    <span class="keywordtype">bool</span>            <a class="code hl_variable" href="classWtTWapExeUnit.html#a2b667a0f6d978d65061e16f150cc8897">_channel_ready</a>;</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span> </div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno"><a class="line" href="classWtTWapExeUnit.html#a8b4ff828807f2c2800f5ebd8a3e5ed12">  154</a></span>    <a class="code hl_typedef" href="group__MutexUtils.html#gaff888cdcc14f5ebb7a1a9c9f7b52846f">StdUniqueMutex</a>  <a class="code hl_variable" href="classWtTWapExeUnit.html#a8b4ff828807f2c2800f5ebd8a3e5ed12">_mtx_calc</a>;</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span> </div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno"><a class="line" href="classWtTWapExeUnit.html#ad93eecdd84c47a54dfe09868460b807d">  157</a></span>    <a class="code hl_class" href="classWTSCommodityInfo.html">WTSCommodityInfo</a>* <a class="code hl_variable" href="classWtTWapExeUnit.html#ad93eecdd84c47a54dfe09868460b807d">_comm_info</a>;</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span> </div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span><span class="comment">    /***---begin---23.5.18---zhaoyk***/</span></div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno"><a class="line" href="classWtTWapExeUnit.html#a65fe131ef581e1ebda347cfc07b56540">  161</a></span>    <a class="code hl_class" href="classWTSSessionInfo.html">WTSSessionInfo</a>* <a class="code hl_variable" href="classWtTWapExeUnit.html#a65fe131ef581e1ebda347cfc07b56540">_sess_info</a>;</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span> </div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno"><a class="line" href="classWtTWapExeUnit.html#ab7bd9f80d7111658af528415eae5b92c">  164</a></span>    uint32_t        <a class="code hl_variable" href="classWtTWapExeUnit.html#ab7bd9f80d7111658af528415eae5b92c">_cancel_times</a>;</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span><span class="comment">    /***---end---23.5.18---zhaoyk***/</span></div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span> </div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span> </div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span> </div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno"><a class="line" href="classWtTWapExeUnit.html#a980b892aac389d748f17f2cf03053a8b">  172</a></span>    <a class="code hl_class" href="classWtOrdMon.html">WtOrdMon</a>        <a class="code hl_variable" href="classWtTWapExeUnit.html#a980b892aac389d748f17f2cf03053a8b">_orders_mon</a>;</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span> </div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno"><a class="line" href="classWtTWapExeUnit.html#af12d7de91c0d70dff854e22dfaa4e424">  175</a></span>    uint32_t        <a class="code hl_variable" href="classWtTWapExeUnit.html#af12d7de91c0d70dff854e22dfaa4e424">_cancel_cnt</a>;</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span> </div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span> </div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno"><a class="line" href="classWtTWapExeUnit.html#a34b7e761e7b58ae009f5fc8a51bf1ed8">  181</a></span>    uint32_t        <a class="code hl_variable" href="classWtTWapExeUnit.html#a34b7e761e7b58ae009f5fc8a51bf1ed8">_total_secs</a>;</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span> </div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno"><a class="line" href="classWtTWapExeUnit.html#a6a91bf61f7b6b28221b97b23049bcb75">  184</a></span>    uint32_t        <a class="code hl_variable" href="classWtTWapExeUnit.html#a6a91bf61f7b6b28221b97b23049bcb75">_total_times</a>;</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span> </div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno"><a class="line" href="classWtTWapExeUnit.html#a285ecb3b7746cc9e53bf69fe65393555">  187</a></span>    uint32_t        <a class="code hl_variable" href="classWtTWapExeUnit.html#a285ecb3b7746cc9e53bf69fe65393555">_tail_secs</a>;</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span> </div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno"><a class="line" href="classWtTWapExeUnit.html#aeb69ce6d2e291050bb30fe3201b69e52">  190</a></span>    uint32_t        <a class="code hl_variable" href="classWtTWapExeUnit.html#aeb69ce6d2e291050bb30fe3201b69e52">_ord_sticky</a>;</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span> </div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno"><a class="line" href="classWtTWapExeUnit.html#a3be7a482dd2b87fac5ddb722e1726ec9">  193</a></span>    uint32_t        <a class="code hl_variable" href="classWtTWapExeUnit.html#a3be7a482dd2b87fac5ddb722e1726ec9">_price_mode</a>;</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span> </div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno"><a class="line" href="classWtTWapExeUnit.html#a1fefc7c4fd5419fc707983547d633d17">  196</a></span>    uint32_t        <a class="code hl_variable" href="classWtTWapExeUnit.html#a1fefc7c4fd5419fc707983547d633d17">_price_offset</a>;</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span> </div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno"><a class="line" href="classWtTWapExeUnit.html#afaab205e728c1dee4c0f40fe8b42690f">  199</a></span>    uint32_t        <a class="code hl_variable" href="classWtTWapExeUnit.html#afaab205e728c1dee4c0f40fe8b42690f">_begin_time</a>;</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span> </div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno"><a class="line" href="classWtTWapExeUnit.html#a564ab089736062415b0d13c071dfd077">  202</a></span>    uint32_t        <a class="code hl_variable" href="classWtTWapExeUnit.html#a564ab089736062415b0d13c071dfd077">_end_time</a>;</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span> </div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno"><a class="line" href="classWtTWapExeUnit.html#a97765414fe01c3238bed7709aac2b52e">  205</a></span>    <span class="keywordtype">double</span>          <a class="code hl_variable" href="classWtTWapExeUnit.html#a97765414fe01c3238bed7709aac2b52e">_min_open_lots</a>;</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span> </div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno"><a class="line" href="classWtTWapExeUnit.html#abb712a26c40958ac76945478dc15fd7b">  208</a></span>    <span class="keywordtype">double</span>          <a class="code hl_variable" href="classWtTWapExeUnit.html#abb712a26c40958ac76945478dc15fd7b">_order_lots</a>;</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span> </div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno"><a class="line" href="classWtTWapExeUnit.html#a36787bf47823edb1d414f480a24fb4a5">  211</a></span>    <span class="keywordtype">bool</span>            <a class="code hl_variable" href="classWtTWapExeUnit.html#a36787bf47823edb1d414f480a24fb4a5">isCanCancel</a>;</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span> </div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno"><a class="line" href="classWtTWapExeUnit.html#ab81a41b3b51bca408bbc6db8a246b8bd">  216</a></span>    <span class="keywordtype">double</span>          <a class="code hl_variable" href="classWtTWapExeUnit.html#ab81a41b3b51bca408bbc6db8a246b8bd">_this_target</a>;</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span> </div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno"><a class="line" href="classWtTWapExeUnit.html#a84428e2ecae22d40c5400bd0ea3f2c0b">  219</a></span>    uint32_t        <a class="code hl_variable" href="classWtTWapExeUnit.html#a84428e2ecae22d40c5400bd0ea3f2c0b">_fire_span</a>;</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span> </div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno"><a class="line" href="classWtTWapExeUnit.html#ad54bd4b9ad13fb23ee78700da50acca9">  222</a></span>    uint32_t        <a class="code hl_variable" href="classWtTWapExeUnit.html#ad54bd4b9ad13fb23ee78700da50acca9">_fired_times</a>;</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span> </div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno"><a class="line" href="classWtTWapExeUnit.html#abb001b966a4bf83d5053db9330d27411">  225</a></span>    uint64_t        <a class="code hl_variable" href="classWtTWapExeUnit.html#abb001b966a4bf83d5053db9330d27411">_last_fire_time</a>;</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span> </div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno"><a class="line" href="classWtTWapExeUnit.html#a0a3052fef9ce0d96336fa1a30ad006bf">  228</a></span>    uint64_t        <a class="code hl_variable" href="classWtTWapExeUnit.html#a0a3052fef9ce0d96336fa1a30ad006bf">_last_place_time</a>;</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span> </div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno"><a class="line" href="classWtTWapExeUnit.html#a74b1d880ecc314ef1dae83cb66130bfa">  231</a></span>    uint64_t        <a class="code hl_variable" href="classWtTWapExeUnit.html#a74b1d880ecc314ef1dae83cb66130bfa">_last_tick_time</a>;</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span> </div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno"><a class="line" href="classWtTWapExeUnit.html#a10d8c9c0e7ea6082994dfa9ddbde4111">  234</a></span>    std::atomic&lt;bool&gt; <a class="code hl_variable" href="classWtTWapExeUnit.html#a10d8c9c0e7ea6082994dfa9ddbde4111">_in_calc</a>;</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span> </div>
<div class="foldopen" id="foldopen00241" data-start="{" data-end="};">
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno"><a class="line" href="structWtTWapExeUnit_1_1__CalcFlag.html">  241</a></span>    <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="structWtTWapExeUnit_1_1__CalcFlag.html">_CalcFlag</a></div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>    {</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno"><a class="line" href="structWtTWapExeUnit_1_1__CalcFlag.html#a09752581e0e0983085dbbc31de0909a5">  244</a></span>        <span class="keywordtype">bool</span> <a class="code hl_variable" href="structWtTWapExeUnit_1_1__CalcFlag.html#a09752581e0e0983085dbbc31de0909a5">_result</a>;</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span> </div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno"><a class="line" href="structWtTWapExeUnit_1_1__CalcFlag.html#a5d5a9ac9f7ccfeac3c50bc1b969b4cb0">  247</a></span>        std::atomic&lt;bool&gt;* <a class="code hl_variable" href="structWtTWapExeUnit_1_1__CalcFlag.html#a5d5a9ac9f7ccfeac3c50bc1b969b4cb0">_flag</a>;</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span> </div>
<div class="foldopen" id="foldopen00253" data-start="{" data-end="}">
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno"><a class="line" href="structWtTWapExeUnit_1_1__CalcFlag.html#ae0d1d733e959bf9c2cdd55ae7b4d3776">  253</a></span>        <a class="code hl_function" href="structWtTWapExeUnit_1_1__CalcFlag.html#ae0d1d733e959bf9c2cdd55ae7b4d3776">_CalcFlag</a>(std::atomic&lt;bool&gt;*flag) :<a class="code hl_variable" href="structWtTWapExeUnit_1_1__CalcFlag.html#a5d5a9ac9f7ccfeac3c50bc1b969b4cb0">_flag</a>(flag) {</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>            <a class="code hl_variable" href="structWtTWapExeUnit_1_1__CalcFlag.html#a09752581e0e0983085dbbc31de0909a5">_result</a> = <a class="code hl_variable" href="structWtTWapExeUnit_1_1__CalcFlag.html#a5d5a9ac9f7ccfeac3c50bc1b969b4cb0">_flag</a>-&gt;exchange(<span class="keyword">true</span>, std::memory_order_acq_rel);</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>        }</div>
</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span> </div>
<div class="foldopen" id="foldopen00260" data-start="{" data-end="}">
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno"><a class="line" href="structWtTWapExeUnit_1_1__CalcFlag.html#af8c9d4cae428968e4b2a6b29042e1802">  260</a></span>        <a class="code hl_function" href="structWtTWapExeUnit_1_1__CalcFlag.html#af8c9d4cae428968e4b2a6b29042e1802">~_CalcFlag</a>() {</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="structWtTWapExeUnit_1_1__CalcFlag.html#a5d5a9ac9f7ccfeac3c50bc1b969b4cb0">_flag</a>)</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>                <a class="code hl_variable" href="structWtTWapExeUnit_1_1__CalcFlag.html#a5d5a9ac9f7ccfeac3c50bc1b969b4cb0">_flag</a>-&gt;exchange(<span class="keyword">false</span>, std::memory_order_acq_rel);</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>        }</div>
</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span> </div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno"><a class="line" href="structWtTWapExeUnit_1_1__CalcFlag.html#a4a4e1164b954e246b06d543f752a358b">  269</a></span>        <span class="keyword">operator</span> bool()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="structWtTWapExeUnit_1_1__CalcFlag.html#a09752581e0e0983085dbbc31de0909a5">_result</a>; }</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno"><a class="line" href="classWtTWapExeUnit.html#a812ae75c93cee26438e03bda0b92cf4e">  270</a></span>    }<a class="code hl_typedef" href="classWtTWapExeUnit.html#a812ae75c93cee26438e03bda0b92cf4e">CalcFlag</a>;</div>
</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>};</div>
</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span> </div>
<div class="ttc" id="aWtOrdMon_8h_html"><div class="ttname"><a href="WtOrdMon_8h.html">WtOrdMon.h</a></div><div class="ttdoc">订单监控器头文件</div></div>
<div class="ttc" id="aWtTWapExeUnit_8h_html_a17226795848decb565e90624584e5c0f"><div class="ttname"><a href="WtTWapExeUnit_8h.html#a17226795848decb565e90624584e5c0f">USING_NS_WTP</a></div><div class="ttdeci">USING_NS_WTP</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8h_source.html#l00013">WtTWapExeUnit.h:13</a></div></div>
<div class="ttc" id="aclassExecuteContext_html"><div class="ttname"><a href="classExecuteContext.html">ExecuteContext</a></div><div class="ttdef"><b>Definition</b> <a href="ExecuteDefs_8h_source.html#l00026">ExecuteDefs.h:27</a></div></div>
<div class="ttc" id="aclassExecuteUnit_html"><div class="ttname"><a href="classExecuteUnit.html">ExecuteUnit</a></div><div class="ttdef"><b>Definition</b> <a href="ExecuteDefs_8h_source.html#l00148">ExecuteDefs.h:149</a></div></div>
<div class="ttc" id="aclassWTSCommodityInfo_html"><div class="ttname"><a href="classWTSCommodityInfo.html">WTSCommodityInfo</a></div><div class="ttdoc">品种信息类</div><div class="ttdef"><b>Definition</b> <a href="WTSContractInfo_8hpp_source.html#l00020">WTSContractInfo.hpp:21</a></div></div>
<div class="ttc" id="aclassWTSSessionInfo_html"><div class="ttname"><a href="classWTSSessionInfo.html">WTSSessionInfo</a></div><div class="ttdoc">会话信息类</div><div class="ttdef"><b>Definition</b> <a href="WTSSessionInfo_8hpp_source.html#l00020">WTSSessionInfo.hpp:21</a></div></div>
<div class="ttc" id="aclassWTSTickData_html"><div class="ttname"><a href="classWTSTickData.html">WTSTickData</a></div><div class="ttdoc">Tick数据对象</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01251">WTSDataDef.hpp:1252</a></div></div>
<div class="ttc" id="aclassWTSVariant_html"><div class="ttname"><a href="classWTSVariant.html">WTSVariant</a></div><div class="ttdoc">变量类</div><div class="ttdef"><b>Definition</b> <a href="WTSVariant_8hpp_source.html#l00037">WTSVariant.hpp:38</a></div></div>
<div class="ttc" id="aclassWtOrdMon_html"><div class="ttname"><a href="classWtOrdMon.html">WtOrdMon</a></div><div class="ttdoc">订单监控器类</div><div class="ttdef"><b>Definition</b> <a href="WtOrdMon_8h_source.html#l00034">WtOrdMon.h:35</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html"><div class="ttname"><a href="classWtTWapExeUnit.html">WtTWapExeUnit</a></div><div class="ttdoc">TWAP执行单元类</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8h_source.html#l00021">WtTWapExeUnit.h:22</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_a0a3052fef9ce0d96336fa1a30ad006bf"><div class="ttname"><a href="classWtTWapExeUnit.html#a0a3052fef9ce0d96336fa1a30ad006bf">WtTWapExeUnit::_last_place_time</a></div><div class="ttdeci">uint64_t _last_place_time</div><div class="ttdoc">上次下单时间，上一次成功下单的时间戳</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8h_source.html#l00228">WtTWapExeUnit.h:228</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_a0db4f43dc019e345bab1b22e22dbb664"><div class="ttname"><a href="classWtTWapExeUnit.html#a0db4f43dc019e345bab1b22e22dbb664">WtTWapExeUnit::~WtTWapExeUnit</a></div><div class="ttdeci">virtual ~WtTWapExeUnit()</div><div class="ttdoc">析构函数</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8cpp_source.html#l00057">WtTWapExeUnit.cpp:57</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_a10d8c9c0e7ea6082994dfa9ddbde4111"><div class="ttname"><a href="classWtTWapExeUnit.html#a10d8c9c0e7ea6082994dfa9ddbde4111">WtTWapExeUnit::_in_calc</a></div><div class="ttdeci">std::atomic&lt; bool &gt; _in_calc</div><div class="ttdoc">计算锁标志，防止多线程同时执行计算</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8h_source.html#l00234">WtTWapExeUnit.h:234</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_a1784fe78abd2597f4cc516a586a2591d"><div class="ttname"><a href="classWtTWapExeUnit.html#a1784fe78abd2597f4cc516a586a2591d">WtTWapExeUnit::on_channel_ready</a></div><div class="ttdeci">virtual void on_channel_ready() override</div><div class="ttdoc">处理交易通道就绪</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8cpp_source.html#l00253">WtTWapExeUnit.cpp:253</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_a1fefc7c4fd5419fc707983547d633d17"><div class="ttname"><a href="classWtTWapExeUnit.html#a1fefc7c4fd5419fc707983547d633d17">WtTWapExeUnit::_price_offset</a></div><div class="ttdeci">uint32_t _price_offset</div><div class="ttdoc">挂单价格偏移，相对于基准价格的偏移量，买入时为正，卖出时为负</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8h_source.html#l00196">WtTWapExeUnit.h:196</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_a285ecb3b7746cc9e53bf69fe65393555"><div class="ttname"><a href="classWtTWapExeUnit.html#a285ecb3b7746cc9e53bf69fe65393555">WtTWapExeUnit::_tail_secs</a></div><div class="ttdeci">uint32_t _tail_secs</div><div class="ttdoc">执行尾部时间，单位秒，用于收尾阶段的特殊处理</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8h_source.html#l00187">WtTWapExeUnit.h:187</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_a2b667a0f6d978d65061e16f150cc8897"><div class="ttname"><a href="classWtTWapExeUnit.html#a2b667a0f6d978d65061e16f150cc8897">WtTWapExeUnit::_channel_ready</a></div><div class="ttdeci">bool _channel_ready</div><div class="ttdoc">交易通道是否就绪</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8h_source.html#l00151">WtTWapExeUnit.h:151</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_a34b7e761e7b58ae009f5fc8a51bf1ed8"><div class="ttname"><a href="classWtTWapExeUnit.html#a34b7e761e7b58ae009f5fc8a51bf1ed8">WtTWapExeUnit::_total_secs</a></div><div class="ttdeci">uint32_t _total_secs</div><div class="ttdoc">参数</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8h_source.html#l00181">WtTWapExeUnit.h:181</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_a36787bf47823edb1d414f480a24fb4a5"><div class="ttname"><a href="classWtTWapExeUnit.html#a36787bf47823edb1d414f480a24fb4a5">WtTWapExeUnit::isCanCancel</a></div><div class="ttdeci">bool isCanCancel</div><div class="ttdoc">订单是否可以被撤销，当订单价格被修正为涨跌停价格时为false</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8h_source.html#l00211">WtTWapExeUnit.h:211</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_a3ba5f7021815179e6f4b22ae0b133aae"><div class="ttname"><a href="classWtTWapExeUnit.html#a3ba5f7021815179e6f4b22ae0b133aae">WtTWapExeUnit::getName</a></div><div class="ttdeci">virtual const char * getName() override</div><div class="ttdoc">获取执行单元名称</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8cpp_source.html#l00118">WtTWapExeUnit.cpp:118</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_a3be7a482dd2b87fac5ddb722e1726ec9"><div class="ttname"><a href="classWtTWapExeUnit.html#a3be7a482dd2b87fac5ddb722e1726ec9">WtTWapExeUnit::_price_mode</a></div><div class="ttdeci">uint32_t _price_mode</div><div class="ttdoc">价格模式: 0-最新价, 1-最优价(买入用买一价，卖出用卖一价), 2-对手价(买入用卖一价，卖出用买一价)</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8h_source.html#l00193">WtTWapExeUnit.h:193</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_a5401631c68061e60e79623df9643371e"><div class="ttname"><a href="classWtTWapExeUnit.html#a5401631c68061e60e79623df9643371e">WtTWapExeUnit::on_trade</a></div><div class="ttdeci">virtual void on_trade(uint32_t localid, const char *stdCode, bool isBuy, double vol, double price) override</div><div class="ttdoc">处理成交回报</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8cpp_source.html#l00432">WtTWapExeUnit.cpp:432</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_a564ab089736062415b0d13c071dfd077"><div class="ttname"><a href="classWtTWapExeUnit.html#a564ab089736062415b0d13c071dfd077">WtTWapExeUnit::_end_time</a></div><div class="ttdeci">uint32_t _end_time</div><div class="ttdoc">结束时间，格式为HHMM，如1030表示10:30</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8h_source.html#l00202">WtTWapExeUnit.h:202</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_a65fe131ef581e1ebda347cfc07b56540"><div class="ttname"><a href="classWtTWapExeUnit.html#a65fe131ef581e1ebda347cfc07b56540">WtTWapExeUnit::_sess_info</a></div><div class="ttdeci">WTSSessionInfo * _sess_info</div><div class="ttdoc">交易时段信息</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8h_source.html#l00161">WtTWapExeUnit.h:161</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_a6a91bf61f7b6b28221b97b23049bcb75"><div class="ttname"><a href="classWtTWapExeUnit.html#a6a91bf61f7b6b28221b97b23049bcb75">WtTWapExeUnit::_total_times</a></div><div class="ttdeci">uint32_t _total_times</div><div class="ttdoc">总执行次数，表示将交易指令分解为多少个小单</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8h_source.html#l00184">WtTWapExeUnit.h:184</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_a71bd78507c6f5830a9576d64451bb5cc"><div class="ttname"><a href="classWtTWapExeUnit.html#a71bd78507c6f5830a9576d64451bb5cc">WtTWapExeUnit::getFactName</a></div><div class="ttdeci">virtual const char * getFactName() override</div><div class="ttdoc">获取所属执行器工厂名称</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8cpp_source.html#l00108">WtTWapExeUnit.cpp:108</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_a74b1d880ecc314ef1dae83cb66130bfa"><div class="ttname"><a href="classWtTWapExeUnit.html#a74b1d880ecc314ef1dae83cb66130bfa">WtTWapExeUnit::_last_tick_time</a></div><div class="ttdeci">uint64_t _last_tick_time</div><div class="ttdoc">上次行情时间，上一次收到行情数据的时间戳</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8h_source.html#l00231">WtTWapExeUnit.h:231</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_a812ae75c93cee26438e03bda0b92cf4e"><div class="ttname"><a href="classWtTWapExeUnit.html#a812ae75c93cee26438e03bda0b92cf4e">WtTWapExeUnit::CalcFlag</a></div><div class="ttdeci">struct WtTWapExeUnit::_CalcFlag CalcFlag</div><div class="ttdoc">计算标记类，用于防止多线程同时执行计算</div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_a81c31704435d28aaff8cfbb0eddcd10a"><div class="ttname"><a href="classWtTWapExeUnit.html#a81c31704435d28aaff8cfbb0eddcd10a">WtTWapExeUnit::_last_tick</a></div><div class="ttdeci">WTSTickData * _last_tick</div><div class="ttdoc">最新的行情数据</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8h_source.html#l00145">WtTWapExeUnit.h:145</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_a84428e2ecae22d40c5400bd0ea3f2c0b"><div class="ttname"><a href="classWtTWapExeUnit.html#a84428e2ecae22d40c5400bd0ea3f2c0b">WtTWapExeUnit::_fire_span</a></div><div class="ttdeci">uint32_t _fire_span</div><div class="ttdoc">发单间隔，单位毫秒，两次发单之间的最小时间间隔</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8h_source.html#l00219">WtTWapExeUnit.h:219</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_a858f9463edc3c299c72256d8dae24e09"><div class="ttname"><a href="classWtTWapExeUnit.html#a858f9463edc3c299c72256d8dae24e09">WtTWapExeUnit::on_order</a></div><div class="ttdeci">virtual void on_order(uint32_t localid, const char *stdCode, bool isBuy, double leftover, double price, bool isCanceled) override</div><div class="ttdoc">处理订单回报</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8cpp_source.html#l00183">WtTWapExeUnit.cpp:183</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_a8b4ff828807f2c2800f5ebd8a3e5ed12"><div class="ttname"><a href="classWtTWapExeUnit.html#a8b4ff828807f2c2800f5ebd8a3e5ed12">WtTWapExeUnit::_mtx_calc</a></div><div class="ttdeci">StdUniqueMutex _mtx_calc</div><div class="ttdoc">计算锁，防止多线程同时执行计算</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8h_source.html#l00154">WtTWapExeUnit.h:154</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_a927c0b6dbf0d47af7dfd775b84eaeab1"><div class="ttname"><a href="classWtTWapExeUnit.html#a927c0b6dbf0d47af7dfd775b84eaeab1">WtTWapExeUnit::on_channel_lost</a></div><div class="ttdeci">virtual void on_channel_lost() override</div><div class="ttdoc">处理交易通道丢失</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8cpp_source.html#l00316">WtTWapExeUnit.cpp:316</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_a97765414fe01c3238bed7709aac2b52e"><div class="ttname"><a href="classWtTWapExeUnit.html#a97765414fe01c3238bed7709aac2b52e">WtTWapExeUnit::_min_open_lots</a></div><div class="ttdeci">double _min_open_lots</div><div class="ttdoc">最小开仓数量，每次发单的最小数量</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8h_source.html#l00205">WtTWapExeUnit.h:205</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_a980b892aac389d748f17f2cf03053a8b"><div class="ttname"><a href="classWtTWapExeUnit.html#a980b892aac389d748f17f2cf03053a8b">WtTWapExeUnit::_orders_mon</a></div><div class="ttdeci">WtOrdMon _orders_mon</div><div class="ttdoc">执行参数</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8h_source.html#l00172">WtTWapExeUnit.h:172</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_aa29e0c4842c19bf3fcfb49d3a7932194"><div class="ttname"><a href="classWtTWapExeUnit.html#aa29e0c4842c19bf3fcfb49d3a7932194">WtTWapExeUnit::fire_at_once</a></div><div class="ttdeci">void fire_at_once(double qty)</div><div class="ttdoc">立即发单</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8cpp_source.html#l00468">WtTWapExeUnit.cpp:468</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_ab733ee29b928acf44dc20a9c5fd15b94"><div class="ttname"><a href="classWtTWapExeUnit.html#ab733ee29b928acf44dc20a9c5fd15b94">WtTWapExeUnit::WtTWapExeUnit</a></div><div class="ttdeci">WtTWapExeUnit()</div><div class="ttdoc">构造函数</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8cpp_source.html#l00030">WtTWapExeUnit.cpp:30</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_ab7bd9f80d7111658af528415eae5b92c"><div class="ttname"><a href="classWtTWapExeUnit.html#ab7bd9f80d7111658af528415eae5b92c">WtTWapExeUnit::_cancel_times</a></div><div class="ttdeci">uint32_t _cancel_times</div><div class="ttdoc">撤单次数，用于计算价格偏移</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8h_source.html#l00164">WtTWapExeUnit.h:164</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_ab81a41b3b51bca408bbc6db8a246b8bd"><div class="ttname"><a href="classWtTWapExeUnit.html#ab81a41b3b51bca408bbc6db8a246b8bd">WtTWapExeUnit::_this_target</a></div><div class="ttdeci">double _this_target</div><div class="ttdoc">临时变量</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8h_source.html#l00216">WtTWapExeUnit.h:216</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_abb001b966a4bf83d5053db9330d27411"><div class="ttname"><a href="classWtTWapExeUnit.html#abb001b966a4bf83d5053db9330d27411">WtTWapExeUnit::_last_fire_time</a></div><div class="ttdeci">uint64_t _last_fire_time</div><div class="ttdoc">上次发单时间，上一次执行发单操作的时间戳</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8h_source.html#l00225">WtTWapExeUnit.h:225</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_abb712a26c40958ac76945478dc15fd7b"><div class="ttname"><a href="classWtTWapExeUnit.html#abb712a26c40958ac76945478dc15fd7b">WtTWapExeUnit::_order_lots</a></div><div class="ttdeci">double _order_lots</div><div class="ttdoc">单次发单手数，每次发单的标准数量</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8h_source.html#l00208">WtTWapExeUnit.h:208</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_ac4939a45c0be329ff6db63b7951e3ecf"><div class="ttname"><a href="classWtTWapExeUnit.html#ac4939a45c0be329ff6db63b7951e3ecf">WtTWapExeUnit::on_tick</a></div><div class="ttdeci">virtual void on_tick(WTSTickData *newTick) override</div><div class="ttdoc">处理行情数据回调</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8cpp_source.html#l00329">WtTWapExeUnit.cpp:329</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_ad54bd4b9ad13fb23ee78700da50acca9"><div class="ttname"><a href="classWtTWapExeUnit.html#ad54bd4b9ad13fb23ee78700da50acca9">WtTWapExeUnit::_fired_times</a></div><div class="ttdeci">uint32_t _fired_times</div><div class="ttdoc">已执行次数，当前已经执行的发单次数</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8h_source.html#l00222">WtTWapExeUnit.h:222</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_ad93eecdd84c47a54dfe09868460b807d"><div class="ttname"><a href="classWtTWapExeUnit.html#ad93eecdd84c47a54dfe09868460b807d">WtTWapExeUnit::_comm_info</a></div><div class="ttdeci">WTSCommodityInfo * _comm_info</div><div class="ttdoc">商品信息，包含价格单位、最小变动单位等</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8h_source.html#l00157">WtTWapExeUnit.h:157</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_addea2ead64dd25f0c743515146782270"><div class="ttname"><a href="classWtTWapExeUnit.html#addea2ead64dd25f0c743515146782270">WtTWapExeUnit::on_entrust</a></div><div class="ttdeci">virtual void on_entrust(uint32_t localid, const char *stdCode, bool bSuccess, const char *message) override</div><div class="ttdoc">处理委托回报</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8cpp_source.html#l00445">WtTWapExeUnit.cpp:445</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_ae0fd0bef76915282635600bd95fa099a"><div class="ttname"><a href="classWtTWapExeUnit.html#ae0fd0bef76915282635600bd95fa099a">WtTWapExeUnit::init</a></div><div class="ttdeci">virtual void init(ExecuteContext *ctx, const char *stdCode, WTSVariant *cfg) override</div><div class="ttdoc">初始化执行单元</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8cpp_source.html#l00130">WtTWapExeUnit.cpp:130</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_ae6bbf91f37f9fa55b37080f3a4767601"><div class="ttname"><a href="classWtTWapExeUnit.html#ae6bbf91f37f9fa55b37080f3a4767601">WtTWapExeUnit::set_position</a></div><div class="ttdeci">virtual void set_position(const char *stdCode, double newVol) override</div><div class="ttdoc">设置目标仓位</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8cpp_source.html#l00779">WtTWapExeUnit.cpp:779</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_aeb69ce6d2e291050bb30fe3201b69e52"><div class="ttname"><a href="classWtTWapExeUnit.html#aeb69ce6d2e291050bb30fe3201b69e52">WtTWapExeUnit::_ord_sticky</a></div><div class="ttdeci">uint32_t _ord_sticky</div><div class="ttdoc">挂单时限，单位秒，超过该时间的订单会被自动撤销</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8h_source.html#l00190">WtTWapExeUnit.h:190</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_aebd680d734a32a033306d23542407e7f"><div class="ttname"><a href="classWtTWapExeUnit.html#aebd680d734a32a033306d23542407e7f">WtTWapExeUnit::_target_pos</a></div><div class="ttdeci">double _target_pos</div><div class="ttdoc">目标仓位</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8h_source.html#l00148">WtTWapExeUnit.h:148</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_aec40191924670aed44a4bc1f359a59ce"><div class="ttname"><a href="classWtTWapExeUnit.html#aec40191924670aed44a4bc1f359a59ce">WtTWapExeUnit::do_calc</a></div><div class="ttdeci">void do_calc()</div><div class="ttdoc">执行仓位计算和发单操作</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8cpp_source.html#l00544">WtTWapExeUnit.cpp:544</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_af12d7de91c0d70dff854e22dfaa4e424"><div class="ttname"><a href="classWtTWapExeUnit.html#af12d7de91c0d70dff854e22dfaa4e424">WtTWapExeUnit::_cancel_cnt</a></div><div class="ttdeci">uint32_t _cancel_cnt</div><div class="ttdoc">当前正在撤销的订单数量</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8h_source.html#l00175">WtTWapExeUnit.h:175</a></div></div>
<div class="ttc" id="aclassWtTWapExeUnit_html_afaab205e728c1dee4c0f40fe8b42690f"><div class="ttname"><a href="classWtTWapExeUnit.html#afaab205e728c1dee4c0f40fe8b42690f">WtTWapExeUnit::_begin_time</a></div><div class="ttdeci">uint32_t _begin_time</div><div class="ttdoc">开始时间，格式为HHMM，如1000表示10:00</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8h_source.html#l00199">WtTWapExeUnit.h:199</a></div></div>
<div class="ttc" id="ademo__send__order_8cpp_html_a04f887fc8800d4727971dbb8eb550132"><div class="ttname"><a href="demo__send__order_8cpp.html#a04f887fc8800d4727971dbb8eb550132">price</a></div><div class="ttdeci">ATPPriceType price</div><div class="ttdef"><b>Definition</b> <a href="API_2AtpTradeApi_2demo_2all__message__demo_2main_8cpp_source.html#l00040">main.cpp:40</a></div></div>
<div class="ttc" id="agroup__MutexUtils_html_gaff888cdcc14f5ebb7a1a9c9f7b52846f"><div class="ttname"><a href="group__MutexUtils.html#gaff888cdcc14f5ebb7a1a9c9f7b52846f">StdUniqueMutex</a></div><div class="ttdeci">std::mutex StdUniqueMutex</div><div class="ttdoc">普通互斥量类型</div><div class="ttdef"><b>Definition</b> <a href="StdUtils_8hpp_source.html#l00061">StdUtils.hpp:61</a></div></div>
<div class="ttc" id="astructWtTWapExeUnit_1_1__CalcFlag_html"><div class="ttname"><a href="structWtTWapExeUnit_1_1__CalcFlag.html">WtTWapExeUnit::_CalcFlag</a></div><div class="ttdoc">计算标记类，用于防止多线程同时执行计算</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8h_source.html#l00241">WtTWapExeUnit.h:242</a></div></div>
<div class="ttc" id="astructWtTWapExeUnit_1_1__CalcFlag_html_a09752581e0e0983085dbbc31de0909a5"><div class="ttname"><a href="structWtTWapExeUnit_1_1__CalcFlag.html#a09752581e0e0983085dbbc31de0909a5">WtTWapExeUnit::_CalcFlag::_result</a></div><div class="ttdeci">bool _result</div><div class="ttdoc">结果标志，如果为 true 表示已有其他线程正在计算</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8h_source.html#l00244">WtTWapExeUnit.h:244</a></div></div>
<div class="ttc" id="astructWtTWapExeUnit_1_1__CalcFlag_html_a5d5a9ac9f7ccfeac3c50bc1b969b4cb0"><div class="ttname"><a href="structWtTWapExeUnit_1_1__CalcFlag.html#a5d5a9ac9f7ccfeac3c50bc1b969b4cb0">WtTWapExeUnit::_CalcFlag::_flag</a></div><div class="ttdeci">std::atomic&lt; bool &gt; * _flag</div><div class="ttdoc">原子布尔指针，指向需要保护的标志</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8h_source.html#l00247">WtTWapExeUnit.h:247</a></div></div>
<div class="ttc" id="astructWtTWapExeUnit_1_1__CalcFlag_html_ae0d1d733e959bf9c2cdd55ae7b4d3776"><div class="ttname"><a href="structWtTWapExeUnit_1_1__CalcFlag.html#ae0d1d733e959bf9c2cdd55ae7b4d3776">WtTWapExeUnit::_CalcFlag::_CalcFlag</a></div><div class="ttdeci">_CalcFlag(std::atomic&lt; bool &gt; *flag)</div><div class="ttdoc">构造函数，尝试获取计算锁</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8h_source.html#l00253">WtTWapExeUnit.h:253</a></div></div>
<div class="ttc" id="astructWtTWapExeUnit_1_1__CalcFlag_html_af8c9d4cae428968e4b2a6b29042e1802"><div class="ttname"><a href="structWtTWapExeUnit_1_1__CalcFlag.html#af8c9d4cae428968e4b2a6b29042e1802">WtTWapExeUnit::_CalcFlag::~_CalcFlag</a></div><div class="ttdeci">~_CalcFlag()</div><div class="ttdoc">析构函数，释放计算锁</div><div class="ttdef"><b>Definition</b> <a href="WtTWapExeUnit_8h_source.html#l00260">WtTWapExeUnit.h:260</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_35e91bc913ca608ca8aed17ce3ae7d3c.html">WtExeFact</a></li><li class="navelem"><a class="el" href="WtTWapExeUnit_8h.html">WtTWapExeUnit.h</a></li>
    <li class="footer">制作者 <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
