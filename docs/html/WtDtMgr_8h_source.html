<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WonderTrader: src/WtCore/WtDtMgr.h 源文件</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">WonderTrader<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">高性能量化交易平台</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function() { init_codefold(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('WtDtMgr_8h_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">载入中...</div>
<div class="SRStatus" id="Searching">搜索中...</div>
<div class="SRStatus" id="NoMatches">未找到</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">WtDtMgr.h</div></div>
</div><!--header-->
<div class="contents">
<a href="WtDtMgr_8h.html">浏览该文件的文档.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span> </div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#pragma once</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &quot;../Includes/IDataReader.h&quot;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &quot;../Includes/IDataManager.h&quot;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span> </div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &quot;../Includes/FasterDefs.h&quot;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &quot;../Includes/WTSCollection.hpp&quot;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span> </div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><a class="code hl_define" href="WTSMarcos_8h.html#a0588b0f85be4d70813e3cc9a1fbf19e4">NS_WTP_BEGIN</a></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="keyword">class </span><a class="code hl_class" href="classWTSVariant.html">WTSVariant</a>;</div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="keyword">class </span><a class="code hl_class" href="classWTSTickData.html">WTSTickData</a>;</div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="keyword">class </span><a class="code hl_class" href="classWTSKlineSlice.html">WTSKlineSlice</a>;</div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="keyword">class </span><a class="code hl_class" href="classWTSTickSlice.html">WTSTickSlice</a>;</div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="keyword">class </span><a class="code hl_class" href="classIBaseDataMgr.html">IBaseDataMgr</a>;</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="keyword">class </span><a class="code hl_class" href="classIBaseDataMgr.html">IBaseDataMgr</a>;</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="keyword">class </span><a class="code hl_class" href="classWtEngine.html">WtEngine</a>;</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span> </div>
<div class="foldopen" id="foldopen00038" data-start="{" data-end="};">
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno"><a class="line" href="classWtDtMgr.html">   38</a></span><span class="keyword">class </span><a class="code hl_class" href="classWtDtMgr.html">WtDtMgr</a> : <span class="keyword">public</span> <a class="code hl_class" href="classIDataReaderSink.html">IDataReaderSink</a>, <span class="keyword">public</span> <a class="code hl_class" href="classIDataManager.html">IDataManager</a></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>{</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>    <a class="code hl_function" href="classWtDtMgr.html#aeffbf9a1a25e574061a482af005d9640">WtDtMgr</a>();</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span> </div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>    <a class="code hl_function" href="classWtDtMgr.html#a2243b5a049b39746a5ee54555167141f">~WtDtMgr</a>();</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span> </div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>    <span class="keywordtype">bool</span>    <a class="code hl_function" href="classWtDtMgr.html#a2d72d81cd6030f57f5993feab1fe0911">initStore</a>(<a class="code hl_class" href="classWTSVariant.html">WTSVariant</a>* cfg);</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span> </div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>    <span class="keywordtype">bool</span>    <a class="code hl_function" href="classWtDtMgr.html#abc136030e4bf7954d9dcc0cc89929a45">init</a>(<a class="code hl_class" href="classWTSVariant.html">WTSVariant</a>* cfg, <a class="code hl_class" href="classWtEngine.html">WtEngine</a>* engine, <span class="keywordtype">bool</span> bForceCache = <span class="keyword">false</span>);</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span> </div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno"><a class="line" href="classWtDtMgr.html#a5aa7ca1253ccc9e72fc734b2f3d84c4a">   78</a></span>    <span class="keywordtype">void</span>    <a class="code hl_function" href="classWtDtMgr.html#a5aa7ca1253ccc9e72fc734b2f3d84c4a">regsiter_loader</a>(<a class="code hl_class" href="classIHisDataLoader.html">IHisDataLoader</a>* <a class="code hl_function" href="classWtDtMgr.html#a9521ae198e3486cac6f0fffdc8657618">loader</a>) { <a class="code hl_variable" href="classWtDtMgr.html#a1b7089bc5a99ea6e1e9797e4c5109309">_loader</a> = <a class="code hl_function" href="classWtDtMgr.html#a9521ae198e3486cac6f0fffdc8657618">loader</a>; }</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span> </div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>    <span class="keywordtype">void</span>    <a class="code hl_function" href="classWtDtMgr.html#a3e3a1f265f439df9846c475348a12821">handle_push_quote</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* stdCode, <a class="code hl_class" href="classWTSTickData.html">WTSTickData</a>* newTick);</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span> </div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>    <span class="comment">//IDataManager 接口</span></div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>    <span class="keyword">virtual</span> <a class="code hl_class" href="classWTSTickSlice.html">WTSTickSlice</a>* <a class="code hl_function" href="classWtDtMgr.html#a7621426df582e4c1a818623bb25b2d14">get_tick_slice</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* stdCode, uint32_t count, uint64_t etime = 0) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>    <span class="keyword">virtual</span> <a class="code hl_class" href="classWTSOrdQueSlice.html">WTSOrdQueSlice</a>* <a class="code hl_function" href="classWtDtMgr.html#abfaaf3a4147a851ef033d0ddb130579e">get_order_queue_slice</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* stdCode, uint32_t count, uint64_t etime = 0) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span> </div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>    <span class="keyword">virtual</span> <a class="code hl_class" href="classWTSOrdDtlSlice.html">WTSOrdDtlSlice</a>* <a class="code hl_function" href="classWtDtMgr.html#ad16ee5b66e8b4d52d7c218d242bdbae0">get_order_detail_slice</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* stdCode, uint32_t count, uint64_t etime = 0) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span> </div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>    <span class="keyword">virtual</span> <a class="code hl_class" href="classWTSTransSlice.html">WTSTransSlice</a>* <a class="code hl_function" href="classWtDtMgr.html#a37e9c31e3357b5c043f12ed5aa27981d">get_transaction_slice</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* stdCode, uint32_t count, uint64_t etime = 0) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>    <span class="keyword">virtual</span> <a class="code hl_class" href="classWTSKlineSlice.html">WTSKlineSlice</a>* <a class="code hl_function" href="classWtDtMgr.html#ab4cdcf2a7c5069b105a9a89902e04c54">get_kline_slice</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* stdCode, <a class="code hl_typedef" href="WTSTypes_8h.html#a27f5d8bd7208a5fc1d044c6f5961904c">WTSKlinePeriod</a> period, uint32_t times, uint32_t count, uint64_t etime = 0) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span> </div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>    <span class="keyword">virtual</span> <a class="code hl_class" href="classWTSTickData.html">WTSTickData</a>* <a class="code hl_function" href="classWtDtMgr.html#a6cd8f89ff3aa31eac4b0cc54d363a65d">grab_last_tick</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* stdCode) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span> </div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>    <span class="keyword">virtual</span> <span class="keywordtype">double</span> <a class="code hl_function" href="classWtDtMgr.html#ad95c02b7148be0d26851d8cb9ce32002">get_adjusting_factor</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* stdCode, uint32_t uDate) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span> </div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>    <span class="keyword">virtual</span> uint32_t <a class="code hl_function" href="classWtDtMgr.html#a0e856283b2047e222e5ab07b056dbfc9">get_adjusting_flag</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span> </div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>    <span class="comment">//IDataReaderSink</span></div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span>    <a class="code hl_function" href="classWtDtMgr.html#af512487bb1565b4934fea49b73477d7e">on_bar</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* code, <a class="code hl_typedef" href="WTSTypes_8h.html#a27f5d8bd7208a5fc1d044c6f5961904c">WTSKlinePeriod</a> period, <a class="code hl_struct" href="structWTSBarStruct.html">WTSBarStruct</a>* newBar) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span> </div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span>    <a class="code hl_function" href="classWtDtMgr.html#add84dcc76efdc00d2585e35fc8944b6a">on_all_bar_updated</a>(uint32_t updateTime) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span> </div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>    <span class="keyword">virtual</span> <a class="code hl_class" href="classIBaseDataMgr.html">IBaseDataMgr</a>*   <a class="code hl_function" href="classWtDtMgr.html#a2f3d13eb9383e83c0ca6e0d388bda248">get_basedata_mgr</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span> </div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>    <span class="keyword">virtual</span> <a class="code hl_class" href="classIHotMgr.html">IHotMgr</a>*        <a class="code hl_function" href="classWtDtMgr.html#aa000040bdb2840101914dc0680219c8f">get_hot_mgr</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span> </div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>    <span class="keyword">virtual</span> uint32_t    <a class="code hl_function" href="classWtDtMgr.html#a3cfb71c889bed5ec736cdb917d07d6ed">get_date</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span> </div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>    <span class="keyword">virtual</span> uint32_t    <a class="code hl_function" href="classWtDtMgr.html#a5b282002b22746c942895611c08b4f6c">get_min_time</a>()<span class="keyword">override</span>;</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span> </div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>    <span class="keyword">virtual</span> uint32_t    <a class="code hl_function" href="classWtDtMgr.html#affbcab1aed2602e8b66ae6fc1f8b4f74">get_secs</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span> </div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span>        <a class="code hl_function" href="classWtDtMgr.html#a5029ac4ae07382b9b08eed9f5126858a">reader_log</a>(<a class="code hl_typedef" href="WTSTypes_8h.html#aa7b93f4aa2259e69e48f27448c247dc8">WTSLogLevel</a> ll, <span class="keyword">const</span> <span class="keywordtype">char</span>* message) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span> </div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno"><a class="line" href="classWtDtMgr.html#aeca3e9424ed6294266a754fe0fb71865">  230</a></span>    <span class="keyword">inline</span> <a class="code hl_class" href="classIDataReader.html">IDataReader</a>* <a class="code hl_function" href="classWtDtMgr.html#aeca3e9424ed6294266a754fe0fb71865">reader</a>() { <span class="keywordflow">return</span> <a class="code hl_variable" href="classWtDtMgr.html#a4d27e8b544eb01e0d4973ab62f3f967c">_reader</a>; }</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span> </div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno"><a class="line" href="classWtDtMgr.html#a9521ae198e3486cac6f0fffdc8657618">  237</a></span>    <span class="keyword">inline</span> <a class="code hl_class" href="classIHisDataLoader.html">IHisDataLoader</a>*  <a class="code hl_function" href="classWtDtMgr.html#a9521ae198e3486cac6f0fffdc8657618">loader</a>() { <span class="keywordflow">return</span> <a class="code hl_variable" href="classWtDtMgr.html#a1b7089bc5a99ea6e1e9797e4c5109309">_loader</a>; }</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span> </div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno"><a class="line" href="classWtDtMgr.html#a4d27e8b544eb01e0d4973ab62f3f967c">  244</a></span>    <a class="code hl_class" href="classIDataReader.html">IDataReader</a>*    <a class="code hl_variable" href="classWtDtMgr.html#a4d27e8b544eb01e0d4973ab62f3f967c">_reader</a>;</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span> </div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno"><a class="line" href="classWtDtMgr.html#a1b7089bc5a99ea6e1e9797e4c5109309">  250</a></span>    <a class="code hl_class" href="classIHisDataLoader.html">IHisDataLoader</a>* <a class="code hl_variable" href="classWtDtMgr.html#a1b7089bc5a99ea6e1e9797e4c5109309">_loader</a>;</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span> </div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno"><a class="line" href="classWtDtMgr.html#ac62627be16dca058feaac9f3020dc137">  256</a></span>    <a class="code hl_class" href="classWtEngine.html">WtEngine</a>*       <a class="code hl_variable" href="classWtDtMgr.html#ac62627be16dca058feaac9f3020dc137">_engine</a>;</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span> </div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno"><a class="line" href="classWtDtMgr.html#a132d8aa2a32936471ca1304c4c5693e9">  262</a></span>    <span class="keywordtype">bool</span>            <a class="code hl_variable" href="classWtDtMgr.html#a132d8aa2a32936471ca1304c4c5693e9">_align_by_section</a>;  <span class="comment">//强制小节对齐</span></div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span> </div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno"><a class="line" href="classWtDtMgr.html#aef1f5ebec303fe8ba9200709d9e6e93c">  268</a></span>    <span class="keywordtype">bool</span>            <a class="code hl_variable" href="classWtDtMgr.html#aef1f5ebec303fe8ba9200709d9e6e93c">_force_cache</a>;       <span class="comment">//强制缓存K线</span></div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span> </div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno"><a class="line" href="classWtDtMgr.html#a6aeae6e632cdae36f9ffa5a2c965d746">  274</a></span>    <a class="code hl_class" href="classwt__hashset.html">wt_hashset&lt;std::string&gt;</a> <a class="code hl_variable" href="classWtDtMgr.html#a6aeae6e632cdae36f9ffa5a2c965d746">_subed_basic_bars</a>;</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span> </div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno"><a class="line" href="classWtDtMgr.html#a0b79a6906ba104578a65f9f1463211b7">  280</a></span>    <span class="keyword">typedef</span> <a class="code hl_class" href="classWTSHashMap.html">WTSHashMap&lt;std::string&gt;</a> <a class="code hl_typedef" href="classWtDtMgr.html#a0b79a6906ba104578a65f9f1463211b7">DataCacheMap</a>;</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span> </div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno"><a class="line" href="classWtDtMgr.html#ae5ff65e58b85df5bb89bb013b412b087">  286</a></span>    <a class="code hl_class" href="classWTSHashMap.html">DataCacheMap</a>*   <a class="code hl_variable" href="classWtDtMgr.html#ae5ff65e58b85df5bb89bb013b412b087">_bars_cache</a>;    <span class="comment">//K线缓存</span></div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span> </div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno"><a class="line" href="classWtDtMgr.html#aaa1a0112973676e0a2832c268a132586">  292</a></span>    <a class="code hl_class" href="classWTSHashMap.html">DataCacheMap</a>*   <a class="code hl_variable" href="classWtDtMgr.html#aaa1a0112973676e0a2832c268a132586">_rt_tick_map</a>;   <span class="comment">//实时tick缓存</span></div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span> </div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>    <span class="comment">//By Wesley @ 2022.02.11</span></div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>    <span class="comment">//这个只有后复权tick数据</span></div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>    <span class="comment">//因为前复权和不复权，都不需要缓存</span></div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno"><a class="line" href="classWtDtMgr.html#a5e316e5c62acea26b774af7b500ce1b8">  301</a></span>    <a class="code hl_class" href="classWTSHashMap.html">DataCacheMap</a>*   <a class="code hl_variable" href="classWtDtMgr.html#a5e316e5c62acea26b774af7b500ce1b8">_ticks_adjusted</a>;    <span class="comment">//复权tick缓存</span></div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span> </div>
<div class="foldopen" id="foldopen00307" data-start="{" data-end="};">
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno"><a class="line" href="structWtDtMgr_1_1__NotifyItem.html">  307</a></span>    <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="structWtDtMgr_1_1__NotifyItem.html">_NotifyItem</a></div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>    {</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno"><a class="line" href="structWtDtMgr_1_1__NotifyItem.html#acb37582a60578d00308e306a96e9c0fa">  313</a></span>        <span class="keywordtype">char</span>        <a class="code hl_variable" href="structWtDtMgr_1_1__NotifyItem.html#acb37582a60578d00308e306a96e9c0fa">_code</a>[<a class="code hl_define" href="WTSMarcos_8h.html#a43110534aa06a6d801f0f875c3cf4f1c">MAX_INSTRUMENT_LENGTH</a>];</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span> </div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno"><a class="line" href="structWtDtMgr_1_1__NotifyItem.html#a0dbecc68a42ffd0ab86b17702b17ad29">  319</a></span>        <span class="keywordtype">char</span>        <a class="code hl_variable" href="structWtDtMgr_1_1__NotifyItem.html#a0dbecc68a42ffd0ab86b17702b17ad29">_period</a>[2] = { 0 };</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span> </div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno"><a class="line" href="structWtDtMgr_1_1__NotifyItem.html#a8bc2182aeee0e5ec6ce202db6657ccbf">  325</a></span>        uint32_t    <a class="code hl_variable" href="structWtDtMgr_1_1__NotifyItem.html#a8bc2182aeee0e5ec6ce202db6657ccbf">_times</a>;</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span> </div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno"><a class="line" href="structWtDtMgr_1_1__NotifyItem.html#ae2e3df106b3ee3ee6d90e16a64f4d653">  331</a></span>        <a class="code hl_struct" href="structWTSBarStruct.html">WTSBarStruct</a>* <a class="code hl_variable" href="structWtDtMgr_1_1__NotifyItem.html#ae2e3df106b3ee3ee6d90e16a64f4d653">_newBar</a>;</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span> </div>
<div class="foldopen" id="foldopen00341" data-start="{" data-end="}">
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno"><a class="line" href="structWtDtMgr_1_1__NotifyItem.html#aa73a01fbe3abd418624fb9c9c3d16106">  341</a></span>        <a class="code hl_function" href="structWtDtMgr_1_1__NotifyItem.html#aa73a01fbe3abd418624fb9c9c3d16106">_NotifyItem</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* code, <span class="keywordtype">char</span> period, uint32_t times, <a class="code hl_struct" href="structWTSBarStruct.html">WTSBarStruct</a>* newBar)</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>            : <a class="code hl_variable" href="structWtDtMgr_1_1__NotifyItem.html#a8bc2182aeee0e5ec6ce202db6657ccbf">_times</a>(times), <a class="code hl_variable" href="structWtDtMgr_1_1__NotifyItem.html#ae2e3df106b3ee3ee6d90e16a64f4d653">_newBar</a>(newBar)</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>        {</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>            <a class="code hl_function" href="WTSMarcos_8h.html#ae3e2cd00c20ce8b9ae0ae37a089d7d5e">wt_strcpy</a>(<a class="code hl_variable" href="structWtDtMgr_1_1__NotifyItem.html#acb37582a60578d00308e306a96e9c0fa">_code</a>, code);</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>            <a class="code hl_variable" href="structWtDtMgr_1_1__NotifyItem.html#a0dbecc68a42ffd0ab86b17702b17ad29">_period</a>[0] = period;</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>        }</div>
</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno"><a class="line" href="classWtDtMgr.html#a96e6fd75e421de0396685eb69c2ea7bc">  347</a></span>    } <a class="code hl_typedef" href="classWtDtMgr.html#a96e6fd75e421de0396685eb69c2ea7bc">NotifyItem</a>;</div>
</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span> </div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno"><a class="line" href="classWtDtMgr.html#a9a00c0f09063a9b6ef7079fa37a47d77">  353</a></span>    std::vector&lt;NotifyItem&gt; <a class="code hl_variable" href="classWtDtMgr.html#a9a00c0f09063a9b6ef7079fa37a47d77">_bar_notifies</a>;</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>};</div>
</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span> </div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span><a class="code hl_define" href="WTSMarcos_8h.html#a5da4b88d7c6e99888ed7c2baf9425aee">NS_WTP_END</a></div>
<div class="ttc" id="aWTSMarcos_8h_html_a0588b0f85be4d70813e3cc9a1fbf19e4"><div class="ttname"><a href="WTSMarcos_8h.html#a0588b0f85be4d70813e3cc9a1fbf19e4">NS_WTP_BEGIN</a></div><div class="ttdeci">#define NS_WTP_BEGIN</div><div class="ttdoc">命名空间定义宏</div><div class="ttdef"><b>Definition</b> <a href="WTSMarcos_8h_source.html#l00085">WTSMarcos.h:85</a></div></div>
<div class="ttc" id="aWTSMarcos_8h_html_a43110534aa06a6d801f0f875c3cf4f1c"><div class="ttname"><a href="WTSMarcos_8h.html#a43110534aa06a6d801f0f875c3cf4f1c">MAX_INSTRUMENT_LENGTH</a></div><div class="ttdeci">#define MAX_INSTRUMENT_LENGTH</div><div class="ttdoc">合约代码最大长度限制</div><div class="ttdef"><b>Definition</b> <a href="WTSMarcos_8h_source.html#l00030">WTSMarcos.h:30</a></div></div>
<div class="ttc" id="aWTSMarcos_8h_html_a5da4b88d7c6e99888ed7c2baf9425aee"><div class="ttname"><a href="WTSMarcos_8h.html#a5da4b88d7c6e99888ed7c2baf9425aee">NS_WTP_END</a></div><div class="ttdeci">#define NS_WTP_END</div><div class="ttdef"><b>Definition</b> <a href="WTSMarcos_8h_source.html#l00086">WTSMarcos.h:86</a></div></div>
<div class="ttc" id="aWTSMarcos_8h_html_ae3e2cd00c20ce8b9ae0ae37a089d7d5e"><div class="ttname"><a href="WTSMarcos_8h.html#ae3e2cd00c20ce8b9ae0ae37a089d7d5e">wt_strcpy</a></div><div class="ttdeci">size_t wt_strcpy(char *des, const char *src, size_t len=0)</div><div class="ttdoc">字符串拷贝函数</div><div class="ttdef"><b>Definition</b> <a href="WTSMarcos_8h_source.html#l00155">WTSMarcos.h:155</a></div></div>
<div class="ttc" id="aWTSTypes_8h_html_a27f5d8bd7208a5fc1d044c6f5961904c"><div class="ttname"><a href="WTSTypes_8h.html#a27f5d8bd7208a5fc1d044c6f5961904c">WTSKlinePeriod</a></div><div class="ttdeci">enum tagKlinePeriod WTSKlinePeriod</div></div>
<div class="ttc" id="aWTSTypes_8h_html_aa7b93f4aa2259e69e48f27448c247dc8"><div class="ttname"><a href="WTSTypes_8h.html#aa7b93f4aa2259e69e48f27448c247dc8">WTSLogLevel</a></div><div class="ttdeci">enum tagLogLevel WTSLogLevel</div></div>
<div class="ttc" id="aclassIBaseDataMgr_html"><div class="ttname"><a href="classIBaseDataMgr.html">IBaseDataMgr</a></div><div class="ttdoc">基础数据管理器接口</div><div class="ttdef"><b>Definition</b> <a href="IBaseDataMgr_8h_source.html#l00075">IBaseDataMgr.h:76</a></div></div>
<div class="ttc" id="aclassIDataManager_html"><div class="ttname"><a href="classIDataManager.html">IDataManager</a></div><div class="ttdef"><b>Definition</b> <a href="IDataManager_8h_source.html#l00013">IDataManager.h:14</a></div></div>
<div class="ttc" id="aclassIDataReaderSink_html"><div class="ttname"><a href="classIDataReaderSink.html">IDataReaderSink</a></div><div class="ttdoc">数据读取模块回调接口</div><div class="ttdef"><b>Definition</b> <a href="IDataReader_8h_source.html#l00033">IDataReader.h:34</a></div></div>
<div class="ttc" id="aclassIDataReader_html"><div class="ttname"><a href="classIDataReader.html">IDataReader</a></div><div class="ttdoc">数据读取接口</div><div class="ttdef"><b>Definition</b> <a href="IDataReader_8h_source.html#l00182">IDataReader.h:183</a></div></div>
<div class="ttc" id="aclassIHisDataLoader_html"><div class="ttname"><a href="classIHisDataLoader.html">IHisDataLoader</a></div><div class="ttdoc">历史数据加载器</div><div class="ttdef"><b>Definition</b> <a href="IDataReader_8h_source.html#l00125">IDataReader.h:126</a></div></div>
<div class="ttc" id="aclassIHotMgr_html"><div class="ttname"><a href="classIHotMgr.html">IHotMgr</a></div><div class="ttdoc">主力合约管理器接口</div><div class="ttdef"><b>Definition</b> <a href="IHotMgr_8h_source.html#l00066">IHotMgr.h:67</a></div></div>
<div class="ttc" id="aclassWTSHashMap_html"><div class="ttname"><a href="classWTSHashMap.html">WTSHashMap</a></div><div class="ttdef"><b>Definition</b> <a href="WTSCollection_8hpp_source.html#l00594">WTSCollection.hpp:595</a></div></div>
<div class="ttc" id="aclassWTSKlineSlice_html"><div class="ttname"><a href="classWTSKlineSlice.html">WTSKlineSlice</a></div><div class="ttdoc">K线数据切片类</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00295">WTSDataDef.hpp:296</a></div></div>
<div class="ttc" id="aclassWTSOrdDtlSlice_html"><div class="ttname"><a href="classWTSOrdDtlSlice.html">WTSOrdDtlSlice</a></div><div class="ttdoc">委托明细数据切片类</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02335">WTSDataDef.hpp:2336</a></div></div>
<div class="ttc" id="aclassWTSOrdQueSlice_html"><div class="ttname"><a href="classWTSOrdQueSlice.html">WTSOrdQueSlice</a></div><div class="ttdoc">委托队列数据切片类</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02442">WTSDataDef.hpp:2443</a></div></div>
<div class="ttc" id="aclassWTSTickData_html"><div class="ttname"><a href="classWTSTickData.html">WTSTickData</a></div><div class="ttdoc">Tick数据对象</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01251">WTSDataDef.hpp:1252</a></div></div>
<div class="ttc" id="aclassWTSTickSlice_html"><div class="ttname"><a href="classWTSTickSlice.html">WTSTickSlice</a></div><div class="ttdoc">Tick数据切片类</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02128">WTSDataDef.hpp:2129</a></div></div>
<div class="ttc" id="aclassWTSTransSlice_html"><div class="ttname"><a href="classWTSTransSlice.html">WTSTransSlice</a></div><div class="ttdoc">逐笔成交数据切片类</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02549">WTSDataDef.hpp:2550</a></div></div>
<div class="ttc" id="aclassWTSVariant_html"><div class="ttname"><a href="classWTSVariant.html">WTSVariant</a></div><div class="ttdoc">变量类</div><div class="ttdef"><b>Definition</b> <a href="WTSVariant_8hpp_source.html#l00037">WTSVariant.hpp:38</a></div></div>
<div class="ttc" id="aclassWtDtMgr_html"><div class="ttname"><a href="classWtDtMgr.html">WtDtMgr</a></div><div class="ttdoc">数据管理器类</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8h_source.html#l00038">WtDtMgr.h:39</a></div></div>
<div class="ttc" id="aclassWtDtMgr_html_a0b79a6906ba104578a65f9f1463211b7"><div class="ttname"><a href="classWtDtMgr.html#a0b79a6906ba104578a65f9f1463211b7">WtDtMgr::DataCacheMap</a></div><div class="ttdeci">WTSHashMap&lt; std::string &gt; DataCacheMap</div><div class="ttdoc">数据缓存映射类型定义</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8h_source.html#l00280">WtDtMgr.h:280</a></div></div>
<div class="ttc" id="aclassWtDtMgr_html_a0e856283b2047e222e5ab07b056dbfc9"><div class="ttname"><a href="classWtDtMgr.html#a0e856283b2047e222e5ab07b056dbfc9">WtDtMgr::get_adjusting_flag</a></div><div class="ttdeci">virtual uint32_t get_adjusting_flag() override</div><div class="ttdoc">获取复权模式标志</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8cpp_source.html#l00395">WtDtMgr.cpp:395</a></div></div>
<div class="ttc" id="aclassWtDtMgr_html_a132d8aa2a32936471ca1304c4c5693e9"><div class="ttname"><a href="classWtDtMgr.html#a132d8aa2a32936471ca1304c4c5693e9">WtDtMgr::_align_by_section</a></div><div class="ttdeci">bool _align_by_section</div><div class="ttdoc">强制小节对齐标志</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8h_source.html#l00262">WtDtMgr.h:262</a></div></div>
<div class="ttc" id="aclassWtDtMgr_html_a1b7089bc5a99ea6e1e9797e4c5109309"><div class="ttname"><a href="classWtDtMgr.html#a1b7089bc5a99ea6e1e9797e4c5109309">WtDtMgr::_loader</a></div><div class="ttdeci">IHisDataLoader * _loader</div><div class="ttdoc">历史数据加载器指针</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8h_source.html#l00250">WtDtMgr.h:250</a></div></div>
<div class="ttc" id="aclassWtDtMgr_html_a2243b5a049b39746a5ee54555167141f"><div class="ttname"><a href="classWtDtMgr.html#a2243b5a049b39746a5ee54555167141f">WtDtMgr::~WtDtMgr</a></div><div class="ttdeci">~WtDtMgr()</div><div class="ttdoc">析构函数</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8cpp_source.html#l00052">WtDtMgr.cpp:52</a></div></div>
<div class="ttc" id="aclassWtDtMgr_html_a2d72d81cd6030f57f5993feab1fe0911"><div class="ttname"><a href="classWtDtMgr.html#a2d72d81cd6030f57f5993feab1fe0911">WtDtMgr::initStore</a></div><div class="ttdeci">bool initStore(WTSVariant *cfg)</div><div class="ttdoc">初始化数据存储</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8cpp_source.html#l00075">WtDtMgr.cpp:75</a></div></div>
<div class="ttc" id="aclassWtDtMgr_html_a2f3d13eb9383e83c0ca6e0d388bda248"><div class="ttname"><a href="classWtDtMgr.html#a2f3d13eb9383e83c0ca6e0d388bda248">WtDtMgr::get_basedata_mgr</a></div><div class="ttdeci">virtual IBaseDataMgr * get_basedata_mgr() override</div><div class="ttdoc">获取基础数据管理器</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8cpp_source.html#l00180">WtDtMgr.cpp:180</a></div></div>
<div class="ttc" id="aclassWtDtMgr_html_a37e9c31e3357b5c043f12ed5aa27981d"><div class="ttname"><a href="classWtDtMgr.html#a37e9c31e3357b5c043f12ed5aa27981d">WtDtMgr::get_transaction_slice</a></div><div class="ttdeci">virtual WTSTransSlice * get_transaction_slice(const char *stdCode, uint32_t count, uint64_t etime=0) override</div><div class="ttdoc">获取成交明细数据切片</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8cpp_source.html#l00558">WtDtMgr.cpp:558</a></div></div>
<div class="ttc" id="aclassWtDtMgr_html_a3cfb71c889bed5ec736cdb917d07d6ed"><div class="ttname"><a href="classWtDtMgr.html#a3cfb71c889bed5ec736cdb917d07d6ed">WtDtMgr::get_date</a></div><div class="ttdeci">virtual uint32_t get_date() override</div><div class="ttdoc">获取当前交易日期</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8cpp_source.html#l00202">WtDtMgr.cpp:202</a></div></div>
<div class="ttc" id="aclassWtDtMgr_html_a3e3a1f265f439df9846c475348a12821"><div class="ttname"><a href="classWtDtMgr.html#a3e3a1f265f439df9846c475348a12821">WtDtMgr::handle_push_quote</a></div><div class="ttdeci">void handle_push_quote(const char *stdCode, WTSTickData *newTick)</div><div class="ttdoc">处理推送的行情数据</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8cpp_source.html#l00326">WtDtMgr.cpp:326</a></div></div>
<div class="ttc" id="aclassWtDtMgr_html_a4d27e8b544eb01e0d4973ab62f3f967c"><div class="ttname"><a href="classWtDtMgr.html#a4d27e8b544eb01e0d4973ab62f3f967c">WtDtMgr::_reader</a></div><div class="ttdeci">IDataReader * _reader</div><div class="ttdoc">数据读取器指针</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8h_source.html#l00244">WtDtMgr.h:244</a></div></div>
<div class="ttc" id="aclassWtDtMgr_html_a5029ac4ae07382b9b08eed9f5126858a"><div class="ttname"><a href="classWtDtMgr.html#a5029ac4ae07382b9b08eed9f5126858a">WtDtMgr::reader_log</a></div><div class="ttdeci">virtual void reader_log(WTSLogLevel ll, const char *message) override</div><div class="ttdoc">记录数据读取器日志</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8cpp_source.html#l00237">WtDtMgr.cpp:237</a></div></div>
<div class="ttc" id="aclassWtDtMgr_html_a5aa7ca1253ccc9e72fc734b2f3d84c4a"><div class="ttname"><a href="classWtDtMgr.html#a5aa7ca1253ccc9e72fc734b2f3d84c4a">WtDtMgr::regsiter_loader</a></div><div class="ttdeci">void regsiter_loader(IHisDataLoader *loader)</div><div class="ttdoc">注册历史数据加载器</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8h_source.html#l00078">WtDtMgr.h:78</a></div></div>
<div class="ttc" id="aclassWtDtMgr_html_a5b282002b22746c942895611c08b4f6c"><div class="ttname"><a href="classWtDtMgr.html#a5b282002b22746c942895611c08b4f6c">WtDtMgr::get_min_time</a></div><div class="ttdeci">virtual uint32_t get_min_time() override</div><div class="ttdoc">获取当前交易分钟时间</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8cpp_source.html#l00213">WtDtMgr.cpp:213</a></div></div>
<div class="ttc" id="aclassWtDtMgr_html_a5e316e5c62acea26b774af7b500ce1b8"><div class="ttname"><a href="classWtDtMgr.html#a5e316e5c62acea26b774af7b500ce1b8">WtDtMgr::_ticks_adjusted</a></div><div class="ttdeci">DataCacheMap * _ticks_adjusted</div><div class="ttdoc">复权Tick缓存映射</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8h_source.html#l00301">WtDtMgr.h:301</a></div></div>
<div class="ttc" id="aclassWtDtMgr_html_a6aeae6e632cdae36f9ffa5a2c965d746"><div class="ttname"><a href="classWtDtMgr.html#a6aeae6e632cdae36f9ffa5a2c965d746">WtDtMgr::_subed_basic_bars</a></div><div class="ttdeci">wt_hashset&lt; std::string &gt; _subed_basic_bars</div><div class="ttdoc">订阅的基础K线集合</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8h_source.html#l00274">WtDtMgr.h:274</a></div></div>
<div class="ttc" id="aclassWtDtMgr_html_a6cd8f89ff3aa31eac4b0cc54d363a65d"><div class="ttname"><a href="classWtDtMgr.html#a6cd8f89ff3aa31eac4b0cc54d363a65d">WtDtMgr::grab_last_tick</a></div><div class="ttdeci">virtual WTSTickData * grab_last_tick(const char *stdCode) override</div><div class="ttdoc">获取最新的Tick数据</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8cpp_source.html#l00362">WtDtMgr.cpp:362</a></div></div>
<div class="ttc" id="aclassWtDtMgr_html_a7621426df582e4c1a818623bb25b2d14"><div class="ttname"><a href="classWtDtMgr.html#a7621426df582e4c1a818623bb25b2d14">WtDtMgr::get_tick_slice</a></div><div class="ttdeci">virtual WTSTickSlice * get_tick_slice(const char *stdCode, uint32_t count, uint64_t etime=0) override</div><div class="ttdoc">获取Tick数据切片</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8cpp_source.html#l00417">WtDtMgr.cpp:417</a></div></div>
<div class="ttc" id="aclassWtDtMgr_html_a9521ae198e3486cac6f0fffdc8657618"><div class="ttname"><a href="classWtDtMgr.html#a9521ae198e3486cac6f0fffdc8657618">WtDtMgr::loader</a></div><div class="ttdeci">IHisDataLoader * loader()</div><div class="ttdoc">获取历史数据加载器</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8h_source.html#l00237">WtDtMgr.h:237</a></div></div>
<div class="ttc" id="aclassWtDtMgr_html_a96e6fd75e421de0396685eb69c2ea7bc"><div class="ttname"><a href="classWtDtMgr.html#a96e6fd75e421de0396685eb69c2ea7bc">WtDtMgr::NotifyItem</a></div><div class="ttdeci">struct WtDtMgr::_NotifyItem NotifyItem</div><div class="ttdoc">K线数据通知项结构</div></div>
<div class="ttc" id="aclassWtDtMgr_html_a9a00c0f09063a9b6ef7079fa37a47d77"><div class="ttname"><a href="classWtDtMgr.html#a9a00c0f09063a9b6ef7079fa37a47d77">WtDtMgr::_bar_notifies</a></div><div class="ttdeci">std::vector&lt; NotifyItem &gt; _bar_notifies</div><div class="ttdoc">K线数据通知项列表</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8h_source.html#l00353">WtDtMgr.h:353</a></div></div>
<div class="ttc" id="aclassWtDtMgr_html_aa000040bdb2840101914dc0680219c8f"><div class="ttname"><a href="classWtDtMgr.html#aa000040bdb2840101914dc0680219c8f">WtDtMgr::get_hot_mgr</a></div><div class="ttdeci">virtual IHotMgr * get_hot_mgr() override</div><div class="ttdoc">获取主力合约管理器</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8cpp_source.html#l00191">WtDtMgr.cpp:191</a></div></div>
<div class="ttc" id="aclassWtDtMgr_html_aaa1a0112973676e0a2832c268a132586"><div class="ttname"><a href="classWtDtMgr.html#aaa1a0112973676e0a2832c268a132586">WtDtMgr::_rt_tick_map</a></div><div class="ttdeci">DataCacheMap * _rt_tick_map</div><div class="ttdoc">实时Tick缓存映射</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8h_source.html#l00292">WtDtMgr.h:292</a></div></div>
<div class="ttc" id="aclassWtDtMgr_html_ab4cdcf2a7c5069b105a9a89902e04c54"><div class="ttname"><a href="classWtDtMgr.html#ab4cdcf2a7c5069b105a9a89902e04c54">WtDtMgr::get_kline_slice</a></div><div class="ttdeci">virtual WTSKlineSlice * get_kline_slice(const char *stdCode, WTSKlinePeriod period, uint32_t times, uint32_t count, uint64_t etime=0) override</div><div class="ttdoc">获取K线数据切片</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8cpp_source.html#l00577">WtDtMgr.cpp:577</a></div></div>
<div class="ttc" id="aclassWtDtMgr_html_abc136030e4bf7954d9dcc0cc89929a45"><div class="ttname"><a href="classWtDtMgr.html#abc136030e4bf7954d9dcc0cc89929a45">WtDtMgr::init</a></div><div class="ttdeci">bool init(WTSVariant *cfg, WtEngine *engine, bool bForceCache=false)</div><div class="ttdoc">初始化数据管理器</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8cpp_source.html#l00129">WtDtMgr.cpp:129</a></div></div>
<div class="ttc" id="aclassWtDtMgr_html_abfaaf3a4147a851ef033d0ddb130579e"><div class="ttname"><a href="classWtDtMgr.html#abfaaf3a4147a851ef033d0ddb130579e">WtDtMgr::get_order_queue_slice</a></div><div class="ttdeci">virtual WTSOrdQueSlice * get_order_queue_slice(const char *stdCode, uint32_t count, uint64_t etime=0) override</div><div class="ttdoc">获取委托队列数据切片</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8cpp_source.html#l00526">WtDtMgr.cpp:526</a></div></div>
<div class="ttc" id="aclassWtDtMgr_html_ac62627be16dca058feaac9f3020dc137"><div class="ttname"><a href="classWtDtMgr.html#ac62627be16dca058feaac9f3020dc137">WtDtMgr::_engine</a></div><div class="ttdeci">WtEngine * _engine</div><div class="ttdoc">交易引擎指针</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8h_source.html#l00256">WtDtMgr.h:256</a></div></div>
<div class="ttc" id="aclassWtDtMgr_html_ad16ee5b66e8b4d52d7c218d242bdbae0"><div class="ttname"><a href="classWtDtMgr.html#ad16ee5b66e8b4d52d7c218d242bdbae0">WtDtMgr::get_order_detail_slice</a></div><div class="ttdeci">virtual WTSOrdDtlSlice * get_order_detail_slice(const char *stdCode, uint32_t count, uint64_t etime=0) override</div><div class="ttdoc">获取委托明细数据切片</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8cpp_source.html#l00542">WtDtMgr.cpp:542</a></div></div>
<div class="ttc" id="aclassWtDtMgr_html_ad95c02b7148be0d26851d8cb9ce32002"><div class="ttname"><a href="classWtDtMgr.html#ad95c02b7148be0d26851d8cb9ce32002">WtDtMgr::get_adjusting_factor</a></div><div class="ttdeci">virtual double get_adjusting_factor(const char *stdCode, uint32_t uDate) override</div><div class="ttdoc">获取复权因子</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8cpp_source.html#l00382">WtDtMgr.cpp:382</a></div></div>
<div class="ttc" id="aclassWtDtMgr_html_add84dcc76efdc00d2585e35fc8944b6a"><div class="ttname"><a href="classWtDtMgr.html#add84dcc76efdc00d2585e35fc8944b6a">WtDtMgr::on_all_bar_updated</a></div><div class="ttdeci">virtual void on_all_bar_updated(uint32_t updateTime) override</div><div class="ttdoc">所有K线数据更新完成回调</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8cpp_source.html#l00156">WtDtMgr.cpp:156</a></div></div>
<div class="ttc" id="aclassWtDtMgr_html_ae5ff65e58b85df5bb89bb013b412b087"><div class="ttname"><a href="classWtDtMgr.html#ae5ff65e58b85df5bb89bb013b412b087">WtDtMgr::_bars_cache</a></div><div class="ttdeci">DataCacheMap * _bars_cache</div><div class="ttdoc">K线缓存映射</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8h_source.html#l00286">WtDtMgr.h:286</a></div></div>
<div class="ttc" id="aclassWtDtMgr_html_aeca3e9424ed6294266a754fe0fb71865"><div class="ttname"><a href="classWtDtMgr.html#aeca3e9424ed6294266a754fe0fb71865">WtDtMgr::reader</a></div><div class="ttdeci">IDataReader * reader()</div><div class="ttdoc">获取数据读取器</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8h_source.html#l00230">WtDtMgr.h:230</a></div></div>
<div class="ttc" id="aclassWtDtMgr_html_aef1f5ebec303fe8ba9200709d9e6e93c"><div class="ttname"><a href="classWtDtMgr.html#aef1f5ebec303fe8ba9200709d9e6e93c">WtDtMgr::_force_cache</a></div><div class="ttdeci">bool _force_cache</div><div class="ttdoc">强制缓存K线标志</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8h_source.html#l00268">WtDtMgr.h:268</a></div></div>
<div class="ttc" id="aclassWtDtMgr_html_aeffbf9a1a25e574061a482af005d9640"><div class="ttname"><a href="classWtDtMgr.html#aeffbf9a1a25e574061a482af005d9640">WtDtMgr::WtDtMgr</a></div><div class="ttdeci">WtDtMgr()</div><div class="ttdoc">构造函数</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8cpp_source.html#l00034">WtDtMgr.cpp:34</a></div></div>
<div class="ttc" id="aclassWtDtMgr_html_af512487bb1565b4934fea49b73477d7e"><div class="ttname"><a href="classWtDtMgr.html#af512487bb1565b4934fea49b73477d7e">WtDtMgr::on_bar</a></div><div class="ttdeci">virtual void on_bar(const char *code, WTSKlinePeriod period, WTSBarStruct *newBar) override</div><div class="ttdoc">K线数据回调</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8cpp_source.html#l00251">WtDtMgr.cpp:251</a></div></div>
<div class="ttc" id="aclassWtDtMgr_html_affbcab1aed2602e8b66ae6fc1f8b4f74"><div class="ttname"><a href="classWtDtMgr.html#affbcab1aed2602e8b66ae6fc1f8b4f74">WtDtMgr::get_secs</a></div><div class="ttdeci">virtual uint32_t get_secs() override</div><div class="ttdoc">获取当前交易秒数</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8cpp_source.html#l00224">WtDtMgr.cpp:224</a></div></div>
<div class="ttc" id="aclassWtEngine_html"><div class="ttname"><a href="classWtEngine.html">WtEngine</a></div><div class="ttdoc">WonderTrader核心交易引擎类</div><div class="ttdef"><b>Definition</b> <a href="WtEngine_8h_source.html#l00189">WtEngine.h:190</a></div></div>
<div class="ttc" id="aclasswt__hashset_html"><div class="ttname"><a href="classwt__hashset.html">wt_hashset</a></div><div class="ttdoc">WonderTrader通用高性能哈希集合模板类</div><div class="ttdef"><b>Definition</b> <a href="FasterDefs_8h_source.html#l00197">FasterDefs.h:198</a></div></div>
<div class="ttc" id="astructWTSBarStruct_html"><div class="ttname"><a href="structWTSBarStruct.html">WTSBarStruct</a></div><div class="ttdoc">K线数据结构体</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00101">WTSStruct.h:102</a></div></div>
<div class="ttc" id="astructWtDtMgr_1_1__NotifyItem_html"><div class="ttname"><a href="structWtDtMgr_1_1__NotifyItem.html">WtDtMgr::_NotifyItem</a></div><div class="ttdoc">K线数据通知项结构</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8h_source.html#l00307">WtDtMgr.h:308</a></div></div>
<div class="ttc" id="astructWtDtMgr_1_1__NotifyItem_html_a0dbecc68a42ffd0ab86b17702b17ad29"><div class="ttname"><a href="structWtDtMgr_1_1__NotifyItem.html#a0dbecc68a42ffd0ab86b17702b17ad29">WtDtMgr::_NotifyItem::_period</a></div><div class="ttdeci">char _period[2]</div><div class="ttdoc">K线周期</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8h_source.html#l00319">WtDtMgr.h:319</a></div></div>
<div class="ttc" id="astructWtDtMgr_1_1__NotifyItem_html_a8bc2182aeee0e5ec6ce202db6657ccbf"><div class="ttname"><a href="structWtDtMgr_1_1__NotifyItem.html#a8bc2182aeee0e5ec6ce202db6657ccbf">WtDtMgr::_NotifyItem::_times</a></div><div class="ttdeci">uint32_t _times</div><div class="ttdoc">周期倍数</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8h_source.html#l00325">WtDtMgr.h:325</a></div></div>
<div class="ttc" id="astructWtDtMgr_1_1__NotifyItem_html_aa73a01fbe3abd418624fb9c9c3d16106"><div class="ttname"><a href="structWtDtMgr_1_1__NotifyItem.html#aa73a01fbe3abd418624fb9c9c3d16106">WtDtMgr::_NotifyItem::_NotifyItem</a></div><div class="ttdeci">_NotifyItem(const char *code, char period, uint32_t times, WTSBarStruct *newBar)</div><div class="ttdoc">构造函数</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8h_source.html#l00341">WtDtMgr.h:341</a></div></div>
<div class="ttc" id="astructWtDtMgr_1_1__NotifyItem_html_acb37582a60578d00308e306a96e9c0fa"><div class="ttname"><a href="structWtDtMgr_1_1__NotifyItem.html#acb37582a60578d00308e306a96e9c0fa">WtDtMgr::_NotifyItem::_code</a></div><div class="ttdeci">char _code[MAX_INSTRUMENT_LENGTH]</div><div class="ttdoc">合约代码</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8h_source.html#l00313">WtDtMgr.h:313</a></div></div>
<div class="ttc" id="astructWtDtMgr_1_1__NotifyItem_html_ae2e3df106b3ee3ee6d90e16a64f4d653"><div class="ttname"><a href="structWtDtMgr_1_1__NotifyItem.html#ae2e3df106b3ee3ee6d90e16a64f4d653">WtDtMgr::_NotifyItem::_newBar</a></div><div class="ttdeci">WTSBarStruct * _newBar</div><div class="ttdoc">新K线数据指针</div><div class="ttdef"><b>Definition</b> <a href="WtDtMgr_8h_source.html#l00331">WtDtMgr.h:331</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_3ce996bf6400c0a215df0636043a382c.html">WtCore</a></li><li class="navelem"><a class="el" href="WtDtMgr_8h.html">WtDtMgr.h</a></li>
    <li class="footer">制作者 <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
