<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WonderTrader: TimeUtils类 参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">WonderTrader<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">高性能量化交易平台</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classTimeUtils.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">载入中...</div>
<div class="SRStatus" id="Searching">搜索中...</div>
<div class="SRStatus" id="NoMatches">未找到</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">类</a> &#124;
<a href="#pub-static-methods">静态 Public 成员函数</a> &#124;
<a href="classTimeUtils-members.html">所有成员列表</a>  </div>
  <div class="headertitle"><div class="title">TimeUtils类 参考</div></div>
</div><!--header-->
<div class="contents">

<p>时间处理工具类  
 <a href="classTimeUtils.html#details">更多...</a></p>

<p><code>#include &lt;<a class="el" href="TimeUtils_8hpp_source.html">TimeUtils.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
类</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeUtils_1_1Ticker.html">Ticker</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">高精度计时器类  <a href="classTimeUtils_1_1Ticker.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeUtils_1_1Time32.html">Time32</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">时间处理工具类，用于处理包含毫秒级精度的时间  <a href="classTimeUtils_1_1Time32.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
静态 Public 成员函数</h2></td></tr>
<tr class="memitem:a8d212b72f7dab25403b08a5e72395177" id="r_a8d212b72f7dab25403b08a5e72395177"><td class="memItemLeft" align="right" valign="top">static int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeUtils.html#a8d212b72f7dab25403b08a5e72395177">getLocalTimeNowOld</a> (void)</td></tr>
<tr class="memdesc:a8d212b72f7dab25403b08a5e72395177"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取当前本地时间（旧版方法）  <br /></td></tr>
<tr class="separator:a8d212b72f7dab25403b08a5e72395177"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48644704dd42fbb708a3e8b88b9611a8" id="r_a48644704dd42fbb708a3e8b88b9611a8"><td class="memItemLeft" align="right" valign="top">static int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeUtils.html#a48644704dd42fbb708a3e8b88b9611a8">getLocalTimeNow</a> (void)</td></tr>
<tr class="memdesc:a48644704dd42fbb708a3e8b88b9611a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取当前本地时间，精确到毫秒  <br /></td></tr>
<tr class="separator:a48644704dd42fbb708a3e8b88b9611a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80a1ad51ffdcbd9d1fd52330671c3b33" id="r_a80a1ad51ffdcbd9d1fd52330671c3b33"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeUtils.html#a80a1ad51ffdcbd9d1fd52330671c3b33">getLocalTime</a> (bool bIncludeMilliSec=true)</td></tr>
<tr class="memdesc:a80a1ad51ffdcbd9d1fd52330671c3b33"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取当前本地时间的字符串表示  <br /></td></tr>
<tr class="separator:a80a1ad51ffdcbd9d1fd52330671c3b33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bae8c2e5838c4df5b9b62c9b3101575" id="r_a1bae8c2e5838c4df5b9b62c9b3101575"><td class="memItemLeft" align="right" valign="top">static uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeUtils.html#a1bae8c2e5838c4df5b9b62c9b3101575">getYYYYMMDDhhmmss</a> ()</td></tr>
<tr class="memdesc:a1bae8c2e5838c4df5b9b62c9b3101575"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取当前日期和时间的整数表示  <br /></td></tr>
<tr class="separator:a1bae8c2e5838c4df5b9b62c9b3101575"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac04a739040d6a0d39400c2a74b96583b" id="r_ac04a739040d6a0d39400c2a74b96583b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeUtils.html#ac04a739040d6a0d39400c2a74b96583b">getDateTime</a> (uint32_t &amp;date, uint32_t &amp;time)</td></tr>
<tr class="memdesc:ac04a739040d6a0d39400c2a74b96583b"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取当前日期和时间，分别存储到两个参数中  <br /></td></tr>
<tr class="separator:ac04a739040d6a0d39400c2a74b96583b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc5c9caadf07e3ae0a732d0851fb56ef" id="r_adc5c9caadf07e3ae0a732d0851fb56ef"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeUtils.html#adc5c9caadf07e3ae0a732d0851fb56ef">getCurDate</a> ()</td></tr>
<tr class="memdesc:adc5c9caadf07e3ae0a732d0851fb56ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取当前日期  <br /></td></tr>
<tr class="separator:adc5c9caadf07e3ae0a732d0851fb56ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8c193a473b4ae67cc06e23ebc255d2b" id="r_ad8c193a473b4ae67cc06e23ebc255d2b"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeUtils.html#ad8c193a473b4ae67cc06e23ebc255d2b">getWeekDay</a> (uint32_t uDate=0)</td></tr>
<tr class="memdesc:ad8c193a473b4ae67cc06e23ebc255d2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取指定日期或当前日期的星期  <br /></td></tr>
<tr class="separator:ad8c193a473b4ae67cc06e23ebc255d2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4b03ad036d95ad68f1c7195ddef37df" id="r_ae4b03ad036d95ad68f1c7195ddef37df"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeUtils.html#ae4b03ad036d95ad68f1c7195ddef37df">getCurMin</a> ()</td></tr>
<tr class="memdesc:ae4b03ad036d95ad68f1c7195ddef37df"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取当前时间（时分秒）  <br /></td></tr>
<tr class="separator:ae4b03ad036d95ad68f1c7195ddef37df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a552ebf2ed65cd9e8ef35207944d19ff8" id="r_a552ebf2ed65cd9e8ef35207944d19ff8"><td class="memItemLeft" align="right" valign="top">static int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeUtils.html#a552ebf2ed65cd9e8ef35207944d19ff8">getTZOffset</a> ()</td></tr>
<tr class="memdesc:a552ebf2ed65cd9e8ef35207944d19ff8"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取本地时区相对于UTC的偏移量（小时）  <br /></td></tr>
<tr class="separator:a552ebf2ed65cd9e8ef35207944d19ff8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade8f9d6db3e20f1057aad655a655d6fd" id="r_ade8f9d6db3e20f1057aad655a655d6fd"><td class="memItemLeft" align="right" valign="top">static int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeUtils.html#ade8f9d6db3e20f1057aad655a655d6fd">makeTime</a> (long lDate, long lTimeWithMs, bool isToUTC=false)</td></tr>
<tr class="memdesc:ade8f9d6db3e20f1057aad655a655d6fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">生成带毫秒的时间戳  <br /></td></tr>
<tr class="separator:ade8f9d6db3e20f1057aad655a655d6fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84221fc66f89e74b71e7a43713bc8ba0" id="r_a84221fc66f89e74b71e7a43713bc8ba0"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeUtils.html#a84221fc66f89e74b71e7a43713bc8ba0">timeToString</a> (int64_t mytime)</td></tr>
<tr class="memdesc:a84221fc66f89e74b71e7a43713bc8ba0"><td class="mdescLeft">&#160;</td><td class="mdescRight">将毫秒级时间戳转换为字符串表示  <br /></td></tr>
<tr class="separator:a84221fc66f89e74b71e7a43713bc8ba0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28a7ae8e5b4e7b2b4ff88b36fe7e1ff2" id="r_a28a7ae8e5b4e7b2b4ff88b36fe7e1ff2"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeUtils.html#a28a7ae8e5b4e7b2b4ff88b36fe7e1ff2">getNextDate</a> (uint32_t curDate, int days=1)</td></tr>
<tr class="memdesc:a28a7ae8e5b4e7b2b4ff88b36fe7e1ff2"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取指定日期后的第 N 天日期  <br /></td></tr>
<tr class="separator:a28a7ae8e5b4e7b2b4ff88b36fe7e1ff2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af131976cc8ddf51086e75418ef96b592" id="r_af131976cc8ddf51086e75418ef96b592"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeUtils.html#af131976cc8ddf51086e75418ef96b592">getNextMinute</a> (int32_t curTime, int32_t mins=1)</td></tr>
<tr class="memdesc:af131976cc8ddf51086e75418ef96b592"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取指定时间后的第 N 分钟的时间  <br /></td></tr>
<tr class="separator:af131976cc8ddf51086e75418ef96b592"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30e7a97699073c1a78128d072ae7ccae" id="r_a30e7a97699073c1a78128d072ae7ccae"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeUtils.html#a30e7a97699073c1a78128d072ae7ccae">getNextMonth</a> (uint32_t curMonth, int months=1)</td></tr>
<tr class="memdesc:a30e7a97699073c1a78128d072ae7ccae"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取指定月份后的第 N 个月的年月  <br /></td></tr>
<tr class="separator:a30e7a97699073c1a78128d072ae7ccae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab62c2a7f902784bca356980c52407ebb" id="r_ab62c2a7f902784bca356980c52407ebb"><td class="memItemLeft" align="right" valign="top">static uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeUtils.html#ab62c2a7f902784bca356980c52407ebb">timeToMinBar</a> (uint32_t uDate, uint32_t uTime)</td></tr>
<tr class="memdesc:ab62c2a7f902784bca356980c52407ebb"><td class="mdescLeft">&#160;</td><td class="mdescRight">将日期和时间转换为分钟线ID  <br /></td></tr>
<tr class="separator:ab62c2a7f902784bca356980c52407ebb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82c3034202218813e56ca8a816bb946b" id="r_a82c3034202218813e56ca8a816bb946b"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeUtils.html#a82c3034202218813e56ca8a816bb946b">minBarToDate</a> (uint64_t minTime)</td></tr>
<tr class="memdesc:a82c3034202218813e56ca8a816bb946b"><td class="mdescLeft">&#160;</td><td class="mdescRight">从分钟线ID中提取日期部分  <br /></td></tr>
<tr class="separator:a82c3034202218813e56ca8a816bb946b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea352f72d9603cf1ee4beea704004fdb" id="r_aea352f72d9603cf1ee4beea704004fdb"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeUtils.html#aea352f72d9603cf1ee4beea704004fdb">minBarToTime</a> (uint64_t minTime)</td></tr>
<tr class="memdesc:aea352f72d9603cf1ee4beea704004fdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">从分钟线ID中提取时间部分  <br /></td></tr>
<tr class="separator:aea352f72d9603cf1ee4beea704004fdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d0734e624491846a46e66bbe245c699" id="r_a7d0734e624491846a46e66bbe245c699"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTimeUtils.html#a7d0734e624491846a46e66bbe245c699">isWeekends</a> (uint32_t uDate)</td></tr>
<tr class="memdesc:a7d0734e624491846a46e66bbe245c699"><td class="mdescLeft">&#160;</td><td class="mdescRight">判断指定日期是否为周末（周六或周日）  <br /></td></tr>
<tr class="separator:a7d0734e624491846a46e66bbe245c699"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<div class="textblock"><p>时间处理工具类 </p>
<p>TimeUtils类提供了一系列与时间相关的静态方法，包括时间获取、格式转换、日期计算等功能。 包含两个内部类：Time32（时间处理类）和Ticker（高精度计时器）。 所有方法都是静态的，可以直接通过类名调用，无需创建类的实例。</p>
<p>时间工具类，提供各种时间相关的工具函数和类</p>
<p>TimeUtils类是一个静态工具类，封装了各种时间相关的实用函数和子类。 它提供了以下功能：</p><ul>
<li>获取当前时间：精确到毫秒级别的当前时间获取</li>
<li>时间格式转换：各种时间格式之间的相互转换，如日期、时间的整数表示和字符串表示</li>
<li>日期计算：计算下一天、下一分钟、下一月等</li>
<li>分钟线ID转换：将日期和时间转换为唯一的分钟线ID，以及反向转换</li>
<li>时间处理工具类：Time32类、Ticker高精度计时器等</li>
</ul>
<p>该类设计为静态类，所有方法都是静态的，不需要创建类的实例即可使用。 其中许多方法都是inline的，这样可以提高运行效率，特别是在高频交易系统中。 该类考虑了跨平台兼容性，在Windows和Unix/Linux系统上都能正常工作。 </p>

<p class="definition">在文件 <a class="el" href="TimeUtils_8hpp_source.html">TimeUtils.hpp</a> 第 <a class="el" href="TimeUtils_8hpp_source.html#l00086">86</a> 行定义.</p>
</div><h2 class="groupheader">成员函数说明</h2>
<a id="adc5c9caadf07e3ae0a732d0851fb56ef" name="adc5c9caadf07e3ae0a732d0851fb56ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc5c9caadf07e3ae0a732d0851fb56ef">&#9670;&#160;</a></span>getCurDate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t TimeUtils::getCurDate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取当前日期 </p>
<dl class="section return"><dt>返回</dt><dd>uint32_t 当前日期的整数表示，格式为 YYYYMMDD，例如 20241216</dd></dl>
<p>该方法返回当前日期的整数表示，计算方式为：年*10000 + 月*100 + 日。 该格式常用于交易系统中的日期表示、数据存储和日志记录等。 </p>

<p class="definition">在文件 <a class="el" href="TimeUtils_8hpp_source.html">TimeUtils.hpp</a> 第 <a class="el" href="TimeUtils_8hpp_source.html#l00239">239</a> 行定义.</p>

</div>
</div>
<a id="ae4b03ad036d95ad68f1c7195ddef37df" name="ae4b03ad036d95ad68f1c7195ddef37df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4b03ad036d95ad68f1c7195ddef37df">&#9670;&#160;</a></span>getCurMin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t TimeUtils::getCurMin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取当前时间（时分秒） </p>
<dl class="section return"><dt>返回</dt><dd>uint32_t 当前时间的整数表示，格式为 HHMMSS，例如 195351</dd></dl>
<p>该方法返回当前时间的整数表示，计算方式为：时*10000 + 分*100 + 秒。 该格式常用于交易系统中的时间表示、数据存储和日志记录等。 与getDateTime方法不同，该方法只返回时分秒部分，不包含毫秒信息。 </p>

<p class="definition">在文件 <a class="el" href="TimeUtils_8hpp_source.html">TimeUtils.hpp</a> 第 <a class="el" href="TimeUtils_8hpp_source.html#l00289">289</a> 行定义.</p>

</div>
</div>
<a id="ac04a739040d6a0d39400c2a74b96583b" name="ac04a739040d6a0d39400c2a74b96583b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac04a739040d6a0d39400c2a74b96583b">&#9670;&#160;</a></span>getDateTime()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void TimeUtils::getDateTime </td>
          <td>(</td>
          <td class="paramtype">uint32_t &amp;&#160;</td>
          <td class="paramname"><em>date</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t &amp;&#160;</td>
          <td class="paramname"><em>time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取当前日期和时间，分别存储到两个参数中 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">date</td><td>当前日期，格式为 YYYYMMDD，例如 20220309 </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">time</td><td>当前时间，包含毫秒，格式为 HHMMSSmmmm，例如 103029500</td></tr>
  </table>
  </dd>
</dl>
<p>该方法获取当前的日期和时间，并将其分别存储到两个参数中。 计算过程如下：</p><ol type="1">
<li>日期部分：年*10000 + 月*100 + 日，例如 20220309</li>
<li>时间部分：时*10000 + 分*100 + 秒，然后乘以1000再加上毫秒，例如 103029500</li>
</ol>
<p>该方法常用于需要分别处理日期和时间的场景，如交易数据存储、日志记录等。 </p>

<p class="definition">在文件 <a class="el" href="TimeUtils_8hpp_source.html">TimeUtils.hpp</a> 第 <a class="el" href="TimeUtils_8hpp_source.html#l00216">216</a> 行定义.</p>

</div>
</div>
<a id="a80a1ad51ffdcbd9d1fd52330671c3b33" name="a80a1ad51ffdcbd9d1fd52330671c3b33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80a1ad51ffdcbd9d1fd52330671c3b33">&#9670;&#160;</a></span>getLocalTime()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::string TimeUtils::getLocalTime </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bIncludeMilliSec</em> = <code>true</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取当前本地时间的字符串表示 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">bIncludeMilliSec</td><td>是否包含毫秒信息，默认为true </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>std::string 当前时间的字符串表示，格式为 "HH:MM:SS" 或 "HH:MM:SS,mmm"</dd></dl>
<p>该方法返回当前时间的字符串表示，可以选择是否包含毫秒信息：</p><ul>
<li>包含毫秒时格式例如："19:53:51,606"</li>
<li>不包含毫秒时格式例如："19:53:51"</li>
</ul>
<p>该方法内部调用getLocalTimeNow获取当前时间的毫秒级时间戳， 然后将其转换为所需的字符串格式。 </p>

<p class="definition">在文件 <a class="el" href="TimeUtils_8hpp_source.html">TimeUtils.hpp</a> 第 <a class="el" href="TimeUtils_8hpp_source.html#l00162">162</a> 行定义.</p>

</div>
</div>
<a id="a48644704dd42fbb708a3e8b88b9611a8" name="a48644704dd42fbb708a3e8b88b9611a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48644704dd42fbb708a3e8b88b9611a8">&#9670;&#160;</a></span>getLocalTimeNow()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int64_t TimeUtils::getLocalTimeNow </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取当前本地时间，精确到毫秒 </p>
<dl class="section return"><dt>返回</dt><dd>int64_t 当前时间的毫秒级时间戳，从1970年1月1日起算的毫秒数，例如 1734350031606</dd></dl>
<p>该方法根据不同的操作系统提供了不同的实现：</p><ul>
<li>Windows平台：使用SharedUserData结构直接访问系统时间，避免了系统调用开销，性能更高</li>
<li>Unix/Linux平台：使用clock_gettime函数获取系统时间，相比ftime提升了约10的性能</li>
</ul>
<p>这是获取当前时间的首选方法，比getLocalTimeNowOld更高效。 </p>

<p class="definition">在文件 <a class="el" href="TimeUtils_8hpp_source.html">TimeUtils.hpp</a> 第 <a class="el" href="TimeUtils_8hpp_source.html#l00123">123</a> 行定义.</p>

</div>
</div>
<a id="a8d212b72f7dab25403b08a5e72395177" name="a8d212b72f7dab25403b08a5e72395177"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d212b72f7dab25403b08a5e72395177">&#9670;&#160;</a></span>getLocalTimeNowOld()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int64_t TimeUtils::getLocalTimeNowOld </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取当前本地时间（旧版方法） </p>
<dl class="section return"><dt>返回</dt><dd>int64_t 当前时间的毫秒级时间戳，从1970年1月1日起算的毫秒数</dd></dl>
<p>该方法使用clock_gettime函数获取当前系统时间，并将其转换为毫秒级时间戳。 使用thread_local关键字确保每个线程都有自己的timespec实例，避免多线程竞争。 这是旧版的获取时间方法，保留为了兼容性目的。 </p>

<p class="definition">在文件 <a class="el" href="TimeUtils_8hpp_source.html">TimeUtils.hpp</a> 第 <a class="el" href="TimeUtils_8hpp_source.html#l00105">105</a> 行定义.</p>

</div>
</div>
<a id="a28a7ae8e5b4e7b2b4ff88b36fe7e1ff2" name="a28a7ae8e5b4e7b2b4ff88b36fe7e1ff2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28a7ae8e5b4e7b2b4ff88b36fe7e1ff2">&#9670;&#160;</a></span>getNextDate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t TimeUtils::getNextDate </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>curDate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>days</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取指定日期后的第 N 天日期 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">curDate</td><td>当前日期，格式为 YYYYMMDD，例如 20220309 </td></tr>
    <tr><td class="paramname">days</td><td>要增加的天数，默认为1，可以为负数（表示往前计算） </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>uint32_t 计算后的日期，格式为 YYYYMMDD</dd></dl>
<p>该方法用于计算指定日期之后（或之前）的日期。 利用标准时间库中的mktime和localtime函数进行日期计算， 可以正确处理月底和年底的进位问题，以及闰年等特殊情况。 该方法在交易系统中常用于计算交易日、结算日等。 </p>

<p class="definition">在文件 <a class="el" href="TimeUtils_8hpp_source.html">TimeUtils.hpp</a> 第 <a class="el" href="TimeUtils_8hpp_source.html#l00407">407</a> 行定义.</p>

</div>
</div>
<a id="af131976cc8ddf51086e75418ef96b592" name="af131976cc8ddf51086e75418ef96b592"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af131976cc8ddf51086e75418ef96b592">&#9670;&#160;</a></span>getNextMinute()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t TimeUtils::getNextMinute </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>curTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>mins</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取指定时间后的第 N 分钟的时间 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">curTime</td><td>当前时间，格式为 HHMM，例如 1030表示10点30分 </td></tr>
    <tr><td class="paramname">mins</td><td>要增加的分钟数，默认为1，可以为负数（表示往前计算） </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>uint32_t 计算后的时间，格式为 HHMM</dd></dl>
<p>该方法用于计算指定时间之后（或之前）的时间。 时间计算基于24小时制，同时处理了跨日的情况（如果计算结果超过1440分钟或小于0分钟）。 例如，如果当前时间是2350，增加20分钟，则结果将是0010。 该方法在交易系统中常用于计算交易时间、K线周期等。 </p>

<p class="definition">在文件 <a class="el" href="TimeUtils_8hpp_source.html">TimeUtils.hpp</a> 第 <a class="el" href="TimeUtils_8hpp_source.html#l00434">434</a> 行定义.</p>

</div>
</div>
<a id="a30e7a97699073c1a78128d072ae7ccae" name="a30e7a97699073c1a78128d072ae7ccae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30e7a97699073c1a78128d072ae7ccae">&#9670;&#160;</a></span>getNextMonth()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t TimeUtils::getNextMonth </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>curMonth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>months</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取指定月份后的第 N 个月的年月 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">curMonth</td><td>当前年月，格式为 YYYYMM，例如 202203表示2022年3月 </td></tr>
    <tr><td class="paramname">months</td><td>要增加的月数，默认为1，可以为负数（表示往前计算） </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>uint32_t 计算后的年月，格式为 YYYYMM</dd></dl>
<p>该方法用于计算指定年月之后（或之前）的年月。 计算过程中会正确处理跨年的情况，例如，如果当前是202212（即•2022年12月”）， 增加2个月后将得到202302（即•2023年2月”）。 该方法在处理月度数据、计算合约到期日等有关月度时间的场景中非常实用。 </p>

<p class="definition">在文件 <a class="el" href="TimeUtils_8hpp_source.html">TimeUtils.hpp</a> 第 <a class="el" href="TimeUtils_8hpp_source.html#l00462">462</a> 行定义.</p>

</div>
</div>
<a id="a552ebf2ed65cd9e8ef35207944d19ff8" name="a552ebf2ed65cd9e8ef35207944d19ff8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a552ebf2ed65cd9e8ef35207944d19ff8">&#9670;&#160;</a></span>getTZOffset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int32_t TimeUtils::getTZOffset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取本地时区相对于UTC的偏移量（小时） </p>
<dl class="section return"><dt>返回</dt><dd>int32_t 时区偏移量，单位为小时，东时区为正数（如北京时间为+8），西时区为负数</dd></dl>
<p>该方法返回本地时区相对于UTC（协调世界时）的偏移量，单位为小时。 为了提高性能，方法使用静态变量缓存第一次计算的结果，后续调用直接返回缓存值。 该方法在处理跨时区的时间计算中非常有用，如将本地时间转换为UTC时间或将UTC时间转换为本地时间。 </p>

<p class="definition">在文件 <a class="el" href="TimeUtils_8hpp_source.html">TimeUtils.hpp</a> 第 <a class="el" href="TimeUtils_8hpp_source.html#l00308">308</a> 行定义.</p>

</div>
</div>
<a id="ad8c193a473b4ae67cc06e23ebc255d2b" name="ad8c193a473b4ae67cc06e23ebc255d2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8c193a473b4ae67cc06e23ebc255d2b">&#9670;&#160;</a></span>getWeekDay()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t TimeUtils::getWeekDay </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>uDate</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取指定日期或当前日期的星期 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">uDate</td><td>要查询的日期，格式为 YYYYMMDD，默认为0（表示当前日期） </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>uint32_t 星期几，范围为1-7，其中1表示周一，7表示周日</dd></dl>
<p>该方法返回指定日期或当前日期的星期几。 如果参数uDate为0，则获取当前日期的星期；否则获取指定日期的星期。 返回值为1-7的整数，分别对应周一到周日。 该方法在交易日判断、日历处理等场景中非常有用。 </p>

<p class="definition">在文件 <a class="el" href="TimeUtils_8hpp_source.html">TimeUtils.hpp</a> 第 <a class="el" href="TimeUtils_8hpp_source.html#l00259">259</a> 行定义.</p>

</div>
</div>
<a id="a1bae8c2e5838c4df5b9b62c9b3101575" name="a1bae8c2e5838c4df5b9b62c9b3101575"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bae8c2e5838c4df5b9b62c9b3101575">&#9670;&#160;</a></span>getYYYYMMDDhhmmss()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint64_t TimeUtils::getYYYYMMDDhhmmss </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取当前日期和时间的整数表示 </p>
<dl class="section return"><dt>返回</dt><dd>uint64_t 当前日期和时间的整数表示，格式为 YYYYMMDDhhmmss，例如 20241216195351</dd></dl>
<p>该方法返回当前日期和时间的整数表示，将年月日时分秒组合成一个整数。 计算过程如下：</p><ol type="1">
<li>日期部分：年*10000 + 月*100 + 日，例如 20241216</li>
<li>时间部分：时*10000 + 分*100 + 秒，例如 195351</li>
<li>组合结果：日期*1000000 + 时间，例如 20241216195351</li>
</ol>
<p>该格式常用于日志记录、数据存储等需要紧凑表示时间的场景。 </p>

<p class="definition">在文件 <a class="el" href="TimeUtils_8hpp_source.html">TimeUtils.hpp</a> 第 <a class="el" href="TimeUtils_8hpp_source.html#l00190">190</a> 行定义.</p>

</div>
</div>
<a id="a7d0734e624491846a46e66bbe245c699" name="a7d0734e624491846a46e66bbe245c699"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d0734e624491846a46e66bbe245c699">&#9670;&#160;</a></span>isWeekends()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool TimeUtils::isWeekends </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>uDate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>判断指定日期是否为周末（周六或周日） </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">uDate</td><td>日期，格式为 YYYYMMDD </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>bool 如果是周末返回true，否则返回false</dd></dl>
<p>该方法判断指定的日期是否为周末（即周六或周日）。 首先将日期转换为tm结构体，然后使用mktime和localtime函数获取对应的星期信息。 如果转换过程中出现错误，或者结果显示该日期是周六（tm_wday==6）或周日（tm_wday==0）， 则返回true，否则返回false。 该方法在交易系统中常用于判断是否为交易日。 </p>

<p class="definition">在文件 <a class="el" href="TimeUtils_8hpp_source.html">TimeUtils.hpp</a> 第 <a class="el" href="TimeUtils_8hpp_source.html#l00539">539</a> 行定义.</p>

</div>
</div>
<a id="ade8f9d6db3e20f1057aad655a655d6fd" name="ade8f9d6db3e20f1057aad655a655d6fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade8f9d6db3e20f1057aad655a655d6fd">&#9670;&#160;</a></span>makeTime()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int64_t TimeUtils::makeTime </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>lDate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>lTimeWithMs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isToUTC</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>生成带毫秒的时间戳 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">lDate</td><td>日期，格式为 YYYYMMDD，例如 20220309 </td></tr>
    <tr><td class="paramname">lTimeWithMs</td><td>带毫秒的时间，格式为 HHMMSSmmm，例如 103029500 </td></tr>
    <tr><td class="paramname">isToUTC</td><td>是否转成UTC时间，默认为 false </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>int64_t 毫秒级时间戳，从1970年1月1日起算的毫秒数</dd></dl>
<p>该方法根据给定的日期和时间生成毫秒级时间戳。 首先将日期和时间解析成tm结构体，然后使用mktime函数转换为时间戳。 如果isToUTC为true，则会根据本地时区将时间转换为UTC时间。 这个方法常用于将特定格式的日期时间转换为时间戳，方便进行时间计算和比较。 </p>

<p class="definition">在文件 <a class="el" href="TimeUtils_8hpp_source.html">TimeUtils.hpp</a> 第 <a class="el" href="TimeUtils_8hpp_source.html#l00340">340</a> 行定义.</p>

</div>
</div>
<a id="a82c3034202218813e56ca8a816bb946b" name="a82c3034202218813e56ca8a816bb946b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82c3034202218813e56ca8a816bb946b">&#9670;&#160;</a></span>minBarToDate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t TimeUtils::minBarToDate </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>minTime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>从分钟线ID中提取日期部分 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">minTime</td><td>分钟线ID，由timeToMinBar方法生成 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>uint32_t 日期，格式为 YYYYMMDD</dd></dl>
<p>该方法从分钟线ID中提取日期部分，是timeToMinBar方法的逆操作。 计算方式为 minTime/10000 + 19900000。 例如，如果分钟线ID是23303091030，则日期为23303091030/10000 + 19900000 = 2330309 + 19900000 = 20220309。 </p>

<p class="definition">在文件 <a class="el" href="TimeUtils_8hpp_source.html">TimeUtils.hpp</a> 第 <a class="el" href="TimeUtils_8hpp_source.html#l00506">506</a> 行定义.</p>

</div>
</div>
<a id="aea352f72d9603cf1ee4beea704004fdb" name="aea352f72d9603cf1ee4beea704004fdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea352f72d9603cf1ee4beea704004fdb">&#9670;&#160;</a></span>minBarToTime()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t TimeUtils::minBarToTime </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>minTime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>从分钟线ID中提取时间部分 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">minTime</td><td>分钟线ID，由timeToMinBar方法生成 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>uint32_t 时间，格式为 HHMM或HHMMSS</dd></dl>
<p>该方法从分钟线ID中提取时间部分，是timeToMinBar方法的逆操作。 计算方式为 minTime % 10000。 例如，如果分钟线ID是23303091030，则时间为23303091030 % 10000 = 1030。 返回的时间格式依赖于原始的时间格式，如果原始时间是4位数字，则返回的是HHMM格式，如果是6位数字，则返回的是HHMMSS格式。 </p>

<p class="definition">在文件 <a class="el" href="TimeUtils_8hpp_source.html">TimeUtils.hpp</a> 第 <a class="el" href="TimeUtils_8hpp_source.html#l00522">522</a> 行定义.</p>

</div>
</div>
<a id="ab62c2a7f902784bca356980c52407ebb" name="ab62c2a7f902784bca356980c52407ebb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab62c2a7f902784bca356980c52407ebb">&#9670;&#160;</a></span>timeToMinBar()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint64_t TimeUtils::timeToMinBar </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>uDate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>uTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>将日期和时间转换为分钟线ID </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">uDate</td><td>日期，格式为 YYYYMMDD，例如 20220309 </td></tr>
    <tr><td class="paramname">uTime</td><td>时间，格式为 HHMM或HHMMSS，例如 1030或103000 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>uint64_t 分钟线ID，用于唯一标识特定分钟的K线</dd></dl>
<p>该方法将日期和时间转换为分钟线ID，计算方式为(uDate-19900000)*10000 + uTime。 例如，如果日期是20220309，时间是1030，则分钟线ID为(20220309-19900000)*10000 + 1030 = 23303091030。 该ID可以唯一标识交易系统中的每一分钟的K线数据，并支持数据存储和查询。 </p>

<p class="definition">在文件 <a class="el" href="TimeUtils_8hpp_source.html">TimeUtils.hpp</a> 第 <a class="el" href="TimeUtils_8hpp_source.html#l00491">491</a> 行定义.</p>

</div>
</div>
<a id="a84221fc66f89e74b71e7a43713bc8ba0" name="a84221fc66f89e74b71e7a43713bc8ba0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84221fc66f89e74b71e7a43713bc8ba0">&#9670;&#160;</a></span>timeToString()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::string TimeUtils::timeToString </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>mytime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>将毫秒级时间戳转换为字符串表示 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">mytime</td><td>毫秒级时间戳，从1970年1月1日起算的毫秒数 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>std::string 格式化后的时间字符串，格式为 "YYYYMMDDHHmmss" 或 "YYYYMMDDHHmmss.mmm"</dd></dl>
<p>该方法将毫秒级时间戳转换为字符串格式。 如果时间戳包含毫秒部分，则格式为 "YYYYMMDDHHmmss.mmm"； 如果没有毫秒部分，则格式为 "YYYYMMDDHHmmss"。 如果传入的时间戳为0或无效，则返回空字符串。 该方法考虑了跨平台兼容性，在Windows和Unix/Linux系统上使用不同的本地时间转换函数。 </p>

<p class="definition">在文件 <a class="el" href="TimeUtils_8hpp_source.html">TimeUtils.hpp</a> 第 <a class="el" href="TimeUtils_8hpp_source.html#l00372">372</a> 行定义.</p>

</div>
</div>
<hr/>该类的文档由以下文件生成:<ul>
<li>src/Share/<a class="el" href="TimeUtils_8hpp_source.html">TimeUtils.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classTimeUtils.html">TimeUtils</a></li>
    <li class="footer">制作者 <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
