<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WonderTrader: src/Includes/WTSDataDef.hpp 源文件</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">WonderTrader<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">高性能量化交易平台</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function() { init_codefold(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('WTSDataDef_8hpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">载入中...</div>
<div class="SRStatus" id="Searching">搜索中...</div>
<div class="SRStatus" id="NoMatches">未找到</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">WTSDataDef.hpp</div></div>
</div><!--header-->
<div class="contents">
<a href="WTSDataDef_8hpp.html">浏览该文件的文档.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span> </div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="preprocessor">#pragma once</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &lt;deque&gt;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &lt;chrono&gt;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span> </div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &quot;<a class="code" href="WTSObject_8hpp.html">WTSObject.hpp</a>&quot;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span> </div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &quot;<a class="code" href="WTSTypes_8h.html">WTSTypes.h</a>&quot;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &quot;<a class="code" href="WTSMarcos_8h.html">WTSMarcos.h</a>&quot;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &quot;<a class="code" href="WTSStruct_8h.html">WTSStruct.h</a>&quot;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &quot;<a class="code" href="WTSCollection_8hpp.html">WTSCollection.hpp</a>&quot;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span> </div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="keyword">using namespace </span><a class="code hl_namespace" href="namespacestd.html">std</a>;</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span> </div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="preprocessor">#pragma warning(disable:4267)</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span> </div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span> </div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><a class="code hl_define" href="WTSMarcos_8h.html#a0588b0f85be4d70813e3cc9a1fbf19e4">NS_WTP_BEGIN</a></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="keyword">class </span><a class="code hl_class" href="classWTSContractInfo.html">WTSContractInfo</a>; <span class="comment">// 合约信息类前向声明</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span> </div>
<div class="foldopen" id="foldopen00043" data-start="{" data-end="};">
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno"><a class="line" href="classWTSValueArray.html">   43</a></span><span class="keyword">class </span><a class="code hl_class" href="classWTSValueArray.html">WTSValueArray</a> : <span class="keyword">public</span> <a class="code hl_class" href="classWTSObject.html">WTSObject</a></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>{</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span><span class="keyword">protected</span>:</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno"><a class="line" href="classWTSValueArray.html#ae6053bcfd34af825b561996d4de4c82c">   46</a></span>    vector&lt;double&gt;  <a class="code hl_variable" href="classWTSValueArray.html#ae6053bcfd34af825b561996d4de4c82c">m_vecData</a>;  <span class="comment">// 内部数据存储容器，使用vector存储double值</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span> </div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span><span class="keyword">public</span>:</div>
<div class="foldopen" id="foldopen00057" data-start="{" data-end="}">
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno"><a class="line" href="classWTSValueArray.html#aa27d3229b24b0ded65d9ff8c3aeb14c7">   57</a></span>    <span class="keyword">static</span> <a class="code hl_class" href="classWTSValueArray.html">WTSValueArray</a>* <a class="code hl_function" href="classWTSValueArray.html#aa27d3229b24b0ded65d9ff8c3aeb14c7">create</a>()</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>    {</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>        <a class="code hl_class" href="classWTSValueArray.html">WTSValueArray</a>* pRet = <span class="keyword">new</span> <a class="code hl_class" href="classWTSValueArray.html">WTSValueArray</a>;</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>        pRet-&gt;<a class="code hl_variable" href="classWTSValueArray.html#ae6053bcfd34af825b561996d4de4c82c">m_vecData</a>.clear();  <span class="comment">// 初始化数据容器</span></div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>        <span class="keywordflow">return</span> pRet;</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>    }</div>
</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span> </div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno"><a class="line" href="classWTSValueArray.html#a642ca8a691752ed364ca2b10c2c875fa">   69</a></span>    <span class="keyword">inline</span> uint32_t <a class="code hl_function" href="classWTSValueArray.html#a642ca8a691752ed364ca2b10c2c875fa">size</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSValueArray.html#ae6053bcfd34af825b561996d4de4c82c">m_vecData</a>.size(); }</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>    </div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno"><a class="line" href="classWTSValueArray.html#a5f6a4b25b79d87672e5e76e25de3e3d0">   76</a></span>    <span class="keyword">inline</span> <span class="keywordtype">bool</span>     <a class="code hl_function" href="classWTSValueArray.html#a5f6a4b25b79d87672e5e76e25de3e3d0">empty</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSValueArray.html#ae6053bcfd34af825b561996d4de4c82c">m_vecData</a>.empty(); }</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span> </div>
<div class="foldopen" id="foldopen00087" data-start="{" data-end="}">
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno"><a class="line" href="classWTSValueArray.html#a044f845b9303853896eb88f6ae3ed79b">   87</a></span>    <span class="keyword">inline</span> <span class="keywordtype">double</span>       <a class="code hl_function" href="classWTSValueArray.html#a044f845b9303853896eb88f6ae3ed79b">at</a>(uint32_t idx)<span class="keyword"> const</span></div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>        idx = <a class="code hl_function" href="classWTSValueArray.html#a049e169e3fb122f9c3444aa2821f89fe">translateIdx</a>(idx);  <span class="comment">// 转换索引，处理负索引情况</span></div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span> </div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>        <span class="keywordflow">if</span>(idx &lt; 0 || idx &gt;= <a class="code hl_variable" href="classWTSValueArray.html#ae6053bcfd34af825b561996d4de4c82c">m_vecData</a>.size())  <span class="comment">// 检查索引是否有效</span></div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="WTSMarcos_8h.html#a9fa6ba5a28d266726a9227dbf5aa14a0">INVALID_DOUBLE</a>;  <span class="comment">// 返回无效值常量</span></div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span> </div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSValueArray.html#ae6053bcfd34af825b561996d4de4c82c">m_vecData</a>[idx];  <span class="comment">// 返回指定位置的值</span></div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>    }</div>
</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span> </div>
<div class="foldopen" id="foldopen00107" data-start="{" data-end="}">
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno"><a class="line" href="classWTSValueArray.html#a049e169e3fb122f9c3444aa2821f89fe">  107</a></span>    <span class="keyword">inline</span> int32_t      <a class="code hl_function" href="classWTSValueArray.html#a049e169e3fb122f9c3444aa2821f89fe">translateIdx</a>(int32_t idx)<span class="keyword"> const</span></div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>        <span class="keywordflow">if</span>(idx &lt; 0)  <span class="comment">// 如果是负索引</span></div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>        {</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSValueArray.html#ae6053bcfd34af825b561996d4de4c82c">m_vecData</a>.size()+idx;  <span class="comment">// 将其转换为从末尾计算的正索引</span></div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>        }</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span> </div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>        <span class="keywordflow">return</span> idx;  <span class="comment">// 如果已经是非负索引，则直接返回</span></div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>    }</div>
</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span> </div>
<div class="foldopen" id="foldopen00129" data-start="{" data-end="}">
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno"><a class="line" href="classWTSValueArray.html#ab8842253e8d90a2eec1646c55d857696">  129</a></span>    <span class="keywordtype">double</span>      <a class="code hl_function" href="classWTSValueArray.html#ab8842253e8d90a2eec1646c55d857696">maxvalue</a>(int32_t head, int32_t tail, <span class="keywordtype">bool</span> isAbs = <span class="keyword">false</span>)<span class="keyword"> const</span></div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>        head = <a class="code hl_function" href="classWTSValueArray.html#a049e169e3fb122f9c3444aa2821f89fe">translateIdx</a>(head);</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>        tail = <a class="code hl_function" href="classWTSValueArray.html#a049e169e3fb122f9c3444aa2821f89fe">translateIdx</a>(tail);</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span> </div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>        uint32_t begin = min(head, tail);</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>        uint32_t end = max(head, tail);</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span> </div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>        <span class="keywordflow">if</span>(begin &lt;0 || begin &gt;= <a class="code hl_variable" href="classWTSValueArray.html#ae6053bcfd34af825b561996d4de4c82c">m_vecData</a>.size() || end &lt; 0 || end &gt; <a class="code hl_variable" href="classWTSValueArray.html#ae6053bcfd34af825b561996d4de4c82c">m_vecData</a>.size())</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="WTSMarcos_8h.html#a9fa6ba5a28d266726a9227dbf5aa14a0">INVALID_DOUBLE</a>;</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span> </div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>        <span class="keywordtype">double</span> maxValue = <a class="code hl_define" href="WTSMarcos_8h.html#a9fa6ba5a28d266726a9227dbf5aa14a0">INVALID_DOUBLE</a>;</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>        <span class="keywordflow">for</span>(uint32_t i = begin; i &lt;= end; i++)</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>        {</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="classWTSValueArray.html#ae6053bcfd34af825b561996d4de4c82c">m_vecData</a>[i] == <a class="code hl_define" href="WTSMarcos_8h.html#a9fa6ba5a28d266726a9227dbf5aa14a0">INVALID_DOUBLE</a>)</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span> </div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>            <span class="keywordflow">if</span>(maxValue == <a class="code hl_define" href="WTSMarcos_8h.html#a9fa6ba5a28d266726a9227dbf5aa14a0">INVALID_DOUBLE</a>)</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>                maxValue = isAbs?abs(<a class="code hl_variable" href="classWTSValueArray.html#ae6053bcfd34af825b561996d4de4c82c">m_vecData</a>[i]):<a class="code hl_variable" href="classWTSValueArray.html#ae6053bcfd34af825b561996d4de4c82c">m_vecData</a>[i];</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>                maxValue = max(maxValue, isAbs?abs(<a class="code hl_variable" href="classWTSValueArray.html#ae6053bcfd34af825b561996d4de4c82c">m_vecData</a>[i]):<a class="code hl_variable" href="classWTSValueArray.html#ae6053bcfd34af825b561996d4de4c82c">m_vecData</a>[i]);</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>        }</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span> </div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>        <span class="comment">//if (maxValue == INVALID_DOUBLE)</span></div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>        <span class="comment">//  maxValue = 0.0;</span></div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span> </div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>        <span class="keywordflow">return</span> maxValue;</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>    }</div>
</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span> </div>
<div class="foldopen" id="foldopen00170" data-start="{" data-end="}">
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno"><a class="line" href="classWTSValueArray.html#a78f4fd6dbcb6dfbac3803d3624339811">  170</a></span>    <span class="keywordtype">double</span>      <a class="code hl_function" href="classWTSValueArray.html#a78f4fd6dbcb6dfbac3803d3624339811">minvalue</a>(int32_t head, int32_t tail, <span class="keywordtype">bool</span> isAbs = <span class="keyword">false</span>)<span class="keyword"> const</span></div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>        head = <a class="code hl_function" href="classWTSValueArray.html#a049e169e3fb122f9c3444aa2821f89fe">translateIdx</a>(head);</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>        tail = <a class="code hl_function" href="classWTSValueArray.html#a049e169e3fb122f9c3444aa2821f89fe">translateIdx</a>(tail);</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span> </div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>        uint32_t begin = min(head, tail);</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>        uint32_t end = max(head, tail);</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span> </div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>        <span class="keywordflow">if</span>(begin &lt;0 || begin &gt;= <a class="code hl_variable" href="classWTSValueArray.html#ae6053bcfd34af825b561996d4de4c82c">m_vecData</a>.size() || end &lt; 0 || end &gt; <a class="code hl_variable" href="classWTSValueArray.html#ae6053bcfd34af825b561996d4de4c82c">m_vecData</a>.size())</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="WTSMarcos_8h.html#a9fa6ba5a28d266726a9227dbf5aa14a0">INVALID_DOUBLE</a>;</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span> </div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>        <span class="keywordtype">double</span> minValue = <a class="code hl_define" href="WTSMarcos_8h.html#a9fa6ba5a28d266726a9227dbf5aa14a0">INVALID_DOUBLE</a>;</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>        <span class="keywordflow">for</span>(uint32_t i = begin; i &lt;= end; i++)</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>        {</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classWTSValueArray.html#ae6053bcfd34af825b561996d4de4c82c">m_vecData</a>[i] == <a class="code hl_define" href="WTSMarcos_8h.html#a9fa6ba5a28d266726a9227dbf5aa14a0">INVALID_DOUBLE</a>)</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span> </div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>            <span class="keywordflow">if</span>(minValue == <a class="code hl_define" href="WTSMarcos_8h.html#a9fa6ba5a28d266726a9227dbf5aa14a0">INVALID_DOUBLE</a>)</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>                minValue = isAbs?abs(<a class="code hl_variable" href="classWTSValueArray.html#ae6053bcfd34af825b561996d4de4c82c">m_vecData</a>[i]):<a class="code hl_variable" href="classWTSValueArray.html#ae6053bcfd34af825b561996d4de4c82c">m_vecData</a>[i];</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>                minValue = min(minValue, isAbs?abs(<a class="code hl_variable" href="classWTSValueArray.html#ae6053bcfd34af825b561996d4de4c82c">m_vecData</a>[i]):<a class="code hl_variable" href="classWTSValueArray.html#ae6053bcfd34af825b561996d4de4c82c">m_vecData</a>[i]);</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>        }</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span> </div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>        <span class="comment">//if (minValue == INVALID_DOUBLE)</span></div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>        <span class="comment">//  minValue = 0.0;</span></div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span> </div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>        <span class="keywordflow">return</span> minValue;</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>    }</div>
</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span> </div>
<div class="foldopen" id="foldopen00207" data-start="{" data-end="}">
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno"><a class="line" href="classWTSValueArray.html#a2161c6b69a32c1113e85ce4621919ab9">  207</a></span>    <span class="keyword">inline</span> <span class="keywordtype">void</span>     <a class="code hl_function" href="classWTSValueArray.html#a2161c6b69a32c1113e85ce4621919ab9">append</a>(<span class="keywordtype">double</span> val)</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>    {</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>        <a class="code hl_variable" href="classWTSValueArray.html#ae6053bcfd34af825b561996d4de4c82c">m_vecData</a>.emplace_back(val);  <span class="comment">// 使用emplace_back提高效率</span></div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>    }</div>
</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span> </div>
<div class="foldopen" id="foldopen00221" data-start="{" data-end="}">
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno"><a class="line" href="classWTSValueArray.html#aa2046c857e7a64c588b83fff3a47f4ed">  221</a></span>    <span class="keyword">inline</span> <span class="keywordtype">void</span>     <a class="code hl_function" href="classWTSValueArray.html#aa2046c857e7a64c588b83fff3a47f4ed">set</a>(uint32_t idx, <span class="keywordtype">double</span> val)</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>    {</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>        <span class="keywordflow">if</span>(idx &lt; 0 || idx &gt;= <a class="code hl_variable" href="classWTSValueArray.html#ae6053bcfd34af825b561996d4de4c82c">m_vecData</a>.size())  <span class="comment">// 检查索引是否有效</span></div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>            <span class="keywordflow">return</span>;  <span class="comment">// 无效索引直接返回，不做任何操作</span></div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span> </div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>        <a class="code hl_variable" href="classWTSValueArray.html#ae6053bcfd34af825b561996d4de4c82c">m_vecData</a>[idx] = val;  <span class="comment">// 设置指定位置的值</span></div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>    }</div>
</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span> </div>
<div class="foldopen" id="foldopen00238" data-start="{" data-end="}">
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno"><a class="line" href="classWTSValueArray.html#a55caaf35bbb0fb6635568fdf8d07d378">  238</a></span>    <span class="keyword">inline</span> <span class="keywordtype">void</span>     <a class="code hl_function" href="classWTSValueArray.html#a55caaf35bbb0fb6635568fdf8d07d378">resize</a>(uint32_t uSize, <span class="keywordtype">double</span> val = <a class="code hl_define" href="WTSMarcos_8h.html#a9fa6ba5a28d266726a9227dbf5aa14a0">INVALID_DOUBLE</a>)</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>    {</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>        <a class="code hl_variable" href="classWTSValueArray.html#ae6053bcfd34af825b561996d4de4c82c">m_vecData</a>.resize(uSize, val);  <span class="comment">// 调整容器大小并设置默认值</span></div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>    }</div>
</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span> </div>
<div class="foldopen" id="foldopen00253" data-start="{" data-end="}">
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno"><a class="line" href="classWTSValueArray.html#a0b7374ce77e22b5d94f8fbf2412dfed3">  253</a></span>    <span class="keyword">inline</span> <span class="keywordtype">double</span>&amp;      <a class="code hl_function" href="classWTSValueArray.html#a0b7374ce77e22b5d94f8fbf2412dfed3">operator[]</a>(uint32_t idx)</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>    {</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSValueArray.html#ae6053bcfd34af825b561996d4de4c82c">m_vecData</a>[idx];  <span class="comment">// 返回引用，可以修改值</span></div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>    }</div>
</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span> </div>
<div class="foldopen" id="foldopen00267" data-start="{" data-end="}">
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno"><a class="line" href="classWTSValueArray.html#a76585103f85580e2fa996b78c7713ae4">  267</a></span>    <span class="keyword">inline</span> <span class="keywordtype">double</span>       <a class="code hl_function" href="classWTSValueArray.html#a76585103f85580e2fa996b78c7713ae4">operator[]</a>(uint32_t idx)<span class="keyword"> const</span></div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSValueArray.html#ae6053bcfd34af825b561996d4de4c82c">m_vecData</a>[idx];  <span class="comment">// 返回值，不可修改</span></div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>    }</div>
</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span> </div>
<div class="foldopen" id="foldopen00280" data-start="{" data-end="}">
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno"><a class="line" href="classWTSValueArray.html#a01dd0ce2867fc4ff4a69b6be30887434">  280</a></span>    <span class="keyword">inline</span> std::vector&lt;double&gt;&amp; <a class="code hl_function" href="classWTSValueArray.html#a01dd0ce2867fc4ff4a69b6be30887434">getDataRef</a>()</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>    {</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSValueArray.html#ae6053bcfd34af825b561996d4de4c82c">m_vecData</a>;  <span class="comment">// 返回内部容器的引用</span></div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>    }</div>
</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>};</div>
</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span> </div>
<div class="foldopen" id="foldopen00295" data-start="{" data-end="};">
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno"><a class="line" href="classWTSKlineSlice.html">  295</a></span><span class="keyword">class </span><a class="code hl_class" href="classWTSKlineSlice.html">WTSKlineSlice</a> : <span class="keyword">public</span> <a class="code hl_class" href="classWTSObject.html">WTSObject</a></div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>{</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno"><a class="line" href="classWTSKlineSlice.html#a7dd654f58f3144c5a69e56be2480db66">  298</a></span>    <span class="keywordtype">char</span>            <a class="code hl_variable" href="classWTSKlineSlice.html#a7dd654f58f3144c5a69e56be2480db66">_code</a>[<a class="code hl_define" href="WTSMarcos_8h.html#a43110534aa06a6d801f0f875c3cf4f1c">MAX_INSTRUMENT_LENGTH</a>];  <span class="comment">// 合约代码</span></div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno"><a class="line" href="classWTSKlineSlice.html#a59e3c3f2d1574db28d6b6841372b3a4c">  299</a></span>    <a class="code hl_typedef" href="WTSTypes_8h.html#a27f5d8bd7208a5fc1d044c6f5961904c">WTSKlinePeriod</a>  <a class="code hl_variable" href="classWTSKlineSlice.html#a59e3c3f2d1574db28d6b6841372b3a4c">_period</a>;  <span class="comment">// K线周期（如1分钟、5分钟、日线等）</span></div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno"><a class="line" href="classWTSKlineSlice.html#a1a4ce1417a29ac69e14ea20ac52a5f93">  300</a></span>    uint32_t        <a class="code hl_variable" href="classWTSKlineSlice.html#a1a4ce1417a29ac69e14ea20ac52a5f93">_times</a>;  <span class="comment">// 周期倍数，例如_period为分钟，_times为5表示5分钟K线</span></div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno"><a class="line" href="classWTSKlineSlice.html#a47fff81e914cd5062c0341fecc35172c">  301</a></span>    <span class="keyword">typedef</span> std::pair&lt;WTSBarStruct*, uint32_t&gt; <a class="code hl_typedef" href="classWTSKlineSlice.html#a47fff81e914cd5062c0341fecc35172c">BarBlock</a>;  <span class="comment">// K线数据块定义，first为数据指针，second为数据数量</span></div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno"><a class="line" href="classWTSKlineSlice.html#ace7552bb9f0438d3a22f395cb98b9255">  302</a></span>    std::vector&lt;BarBlock&gt; <a class="code hl_variable" href="classWTSKlineSlice.html#ace7552bb9f0438d3a22f395cb98b9255">_blocks</a>;  <span class="comment">// 存储多个K线数据块的容器</span></div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno"><a class="line" href="classWTSKlineSlice.html#a0ab6892ac7eeedb64e52bdde40f70c1e">  303</a></span>    uint32_t        <a class="code hl_variable" href="classWTSKlineSlice.html#a0ab6892ac7eeedb64e52bdde40f70c1e">_count</a>;  <span class="comment">// 总的K线数量</span></div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span> </div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span><span class="keyword">protected</span>:</div>
<div class="foldopen" id="foldopen00312" data-start="{" data-end="}">
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno"><a class="line" href="classWTSKlineSlice.html#abd932fcad04d4b7feb3c307f230172c8">  312</a></span>    <a class="code hl_function" href="classWTSKlineSlice.html#abd932fcad04d4b7feb3c307f230172c8">WTSKlineSlice</a>()</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>        : <a class="code hl_variable" href="classWTSKlineSlice.html#a59e3c3f2d1574db28d6b6841372b3a4c">_period</a>(<a class="code hl_enumvalue" href="WTSTypes_8h.html#acac96eb977d20b3a6186f0ccede8a9d8a3b64a9f21f4bd5432a8b3f8424c4410e">KP_Minute1</a>)  <span class="comment">// 默认周期为1分钟</span></div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>        , <a class="code hl_variable" href="classWTSKlineSlice.html#a1a4ce1417a29ac69e14ea20ac52a5f93">_times</a>(1)  <span class="comment">// 默认倍数为1</span></div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>        , <a class="code hl_variable" href="classWTSKlineSlice.html#a0ab6892ac7eeedb64e52bdde40f70c1e">_count</a>(0)  <span class="comment">// 默认K线总数为0</span></div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>    {</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span> </div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>    }</div>
</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span> </div>
<div class="foldopen" id="foldopen00329" data-start="{" data-end="}">
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno"><a class="line" href="classWTSKlineSlice.html#a7e7629efa75839161ab70474edf401e7">  329</a></span>    <span class="keyword">inline</span> int32_t      <a class="code hl_function" href="classWTSKlineSlice.html#a7e7629efa75839161ab70474edf401e7">translateIdx</a>(int32_t idx)<span class="keyword"> const</span></div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>        int32_t totalCnt = <a class="code hl_variable" href="classWTSKlineSlice.html#a0ab6892ac7eeedb64e52bdde40f70c1e">_count</a>;  <span class="comment">// 获取总K线数量</span></div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>        <span class="keywordflow">if</span> (idx &lt; 0)  <span class="comment">// 如果是负索引</span></div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>        {</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>            <span class="keywordflow">return</span> max(0, totalCnt + idx);  <span class="comment">// 转换为从末尾计算的正索引，确保不小于0</span></div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>        }</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span> </div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>        <span class="keywordflow">return</span> idx;  <span class="comment">// 如果已经是非负索引，则直接返回</span></div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>    }</div>
</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span> </div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span> </div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span><span class="keyword">public</span>:</div>
<div class="foldopen" id="foldopen00355" data-start="{" data-end="}">
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno"><a class="line" href="classWTSKlineSlice.html#a58a95fc9dcc6c1693d10adba8b25beb1">  355</a></span>    <span class="keyword">static</span> <a class="code hl_class" href="classWTSKlineSlice.html">WTSKlineSlice</a>* <a class="code hl_function" href="classWTSKlineSlice.html#a58a95fc9dcc6c1693d10adba8b25beb1">create</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_function" href="classWTSKlineSlice.html#aa30b17fc1bfa8bc449f448632489472a">code</a>, <a class="code hl_typedef" href="WTSTypes_8h.html#a27f5d8bd7208a5fc1d044c6f5961904c">WTSKlinePeriod</a> period, uint32_t times, <a class="code hl_struct" href="structWTSBarStruct.html">WTSBarStruct</a>* bars = <a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, int32_t count = 0)</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>    {</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>        <a class="code hl_class" href="classWTSKlineSlice.html">WTSKlineSlice</a> *pRet = <span class="keyword">new</span> <a class="code hl_function" href="classWTSKlineSlice.html#abd932fcad04d4b7feb3c307f230172c8">WTSKlineSlice</a>;  <span class="comment">// 创建新的K线切片对象</span></div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>        <a class="code hl_function" href="WTSMarcos_8h.html#ae3e2cd00c20ce8b9ae0ae37a089d7d5e">wt_strcpy</a>(pRet-&gt;<a class="code hl_variable" href="classWTSKlineSlice.html#a7dd654f58f3144c5a69e56be2480db66">_code</a>, <a class="code hl_function" href="classWTSKlineSlice.html#aa30b17fc1bfa8bc449f448632489472a">code</a>);  <span class="comment">// 设置合约代码</span></div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>        pRet-&gt;<a class="code hl_variable" href="classWTSKlineSlice.html#a59e3c3f2d1574db28d6b6841372b3a4c">_period</a> = period;  <span class="comment">// 设置K线周期</span></div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>        pRet-&gt;<a class="code hl_variable" href="classWTSKlineSlice.html#a1a4ce1417a29ac69e14ea20ac52a5f93">_times</a> = times;  <span class="comment">// 设置周期倍数</span></div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>        <span class="keywordflow">if</span>(bars)  <span class="comment">// 如果提供了初始数据</span></div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>            pRet-&gt;<a class="code hl_variable" href="classWTSKlineSlice.html#ace7552bb9f0438d3a22f395cb98b9255">_blocks</a>.emplace_back(<a class="code hl_typedef" href="classWTSKlineSlice.html#a47fff81e914cd5062c0341fecc35172c">BarBlock</a>(bars, count));  <span class="comment">// 添加初始数据块</span></div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>        pRet-&gt;<a class="code hl_variable" href="classWTSKlineSlice.html#a0ab6892ac7eeedb64e52bdde40f70c1e">_count</a> = count;  <span class="comment">// 设置总K线数量</span></div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span> </div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>        <span class="keywordflow">return</span> pRet;  <span class="comment">// 返回创建的对象</span></div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>    }</div>
</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span> </div>
<div class="foldopen" id="foldopen00378" data-start="{" data-end="}">
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno"><a class="line" href="classWTSKlineSlice.html#a51faa13cd01bf3569c4483c4a3498fef">  378</a></span>    <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="classWTSKlineSlice.html#a51faa13cd01bf3569c4483c4a3498fef">appendBlock</a>(<a class="code hl_struct" href="structWTSBarStruct.html">WTSBarStruct</a>* bars, uint32_t count)</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>    {</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>        <span class="keywordflow">if</span> (bars == <a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || count == 0)  <span class="comment">// 检查参数有效性</span></div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span> </div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>        <a class="code hl_variable" href="classWTSKlineSlice.html#a0ab6892ac7eeedb64e52bdde40f70c1e">_count</a> += count;  <span class="comment">// 增加总K线数量</span></div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>        <a class="code hl_variable" href="classWTSKlineSlice.html#ace7552bb9f0438d3a22f395cb98b9255">_blocks</a>.emplace_back(<a class="code hl_typedef" href="classWTSKlineSlice.html#a47fff81e914cd5062c0341fecc35172c">BarBlock</a>(bars, count));  <span class="comment">// 添加新的数据块</span></div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>    }</div>
</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span> </div>
<div class="foldopen" id="foldopen00388" data-start="{" data-end="}">
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno"><a class="line" href="classWTSKlineSlice.html#abeabf480ff8ddfd412f20a9cf118c86c">  388</a></span>    <span class="keyword">inline</span> std::size_t  <a class="code hl_function" href="classWTSKlineSlice.html#abeabf480ff8ddfd412f20a9cf118c86c">get_block_counts</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSKlineSlice.html#ace7552bb9f0438d3a22f395cb98b9255">_blocks</a>.size();</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>    }</div>
</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span> </div>
<div class="foldopen" id="foldopen00401" data-start="{" data-end="}">
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno"><a class="line" href="classWTSKlineSlice.html#a6259e239f18e611007ef176259d836d9">  401</a></span>    <span class="keyword">inline</span> <a class="code hl_struct" href="structWTSBarStruct.html">WTSBarStruct</a>*    <a class="code hl_function" href="classWTSKlineSlice.html#a6259e239f18e611007ef176259d836d9">get_block_addr</a>(std::size_t blkIdx)</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>    {</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>        <span class="keywordflow">if</span> (blkIdx &gt;= <a class="code hl_variable" href="classWTSKlineSlice.html#ace7552bb9f0438d3a22f395cb98b9255">_blocks</a>.size())  <span class="comment">// 检查索引有效性</span></div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span> </div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSKlineSlice.html#ace7552bb9f0438d3a22f395cb98b9255">_blocks</a>[blkIdx].first;  <span class="comment">// 返回数据块的指针</span></div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>    }</div>
</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span> </div>
<div class="foldopen" id="foldopen00417" data-start="{" data-end="}">
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno"><a class="line" href="classWTSKlineSlice.html#a763673e4cc73d6b28519c795411d098e">  417</a></span>    <span class="keyword">inline</span> uint32_t <a class="code hl_function" href="classWTSKlineSlice.html#a763673e4cc73d6b28519c795411d098e">get_block_size</a>(std::size_t blkIdx)</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>    {</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>        <span class="keywordflow">if</span> (blkIdx &gt;= <a class="code hl_variable" href="classWTSKlineSlice.html#ace7552bb9f0438d3a22f395cb98b9255">_blocks</a>.size())  <span class="comment">// 检查索引有效性</span></div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span> </div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSKlineSlice.html#ace7552bb9f0438d3a22f395cb98b9255">_blocks</a>[blkIdx].second;  <span class="comment">// 返回数据块中的K线数量</span></div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>    }</div>
</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span> </div>
<div class="foldopen" id="foldopen00435" data-start="{" data-end="}">
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno"><a class="line" href="classWTSKlineSlice.html#a158eda11c49a9ada165dce6c0df54042">  435</a></span>    <span class="keyword">inline</span> <a class="code hl_struct" href="structWTSBarStruct.html">WTSBarStruct</a>*    <a class="code hl_function" href="classWTSKlineSlice.html#a158eda11c49a9ada165dce6c0df54042">at</a>(int32_t idx)</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>    {</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classWTSKlineSlice.html#a0ab6892ac7eeedb64e52bdde40f70c1e">_count</a> == 0)  <span class="comment">// 如果没有K线数据</span></div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span> </div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>        idx = <a class="code hl_function" href="classWTSKlineSlice.html#a7e7629efa75839161ab70474edf401e7">translateIdx</a>(idx);  <span class="comment">// 转换索引，处理负索引情况</span></div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>        <span class="keywordflow">do</span></div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>        {</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; item : <a class="code hl_variable" href="classWTSKlineSlice.html#ace7552bb9f0438d3a22f395cb98b9255">_blocks</a>)  <span class="comment">// 遍历所有数据块</span></div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>            {</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>                <span class="keywordflow">if</span> ((uint32_t)idx &gt;= item.second)  <span class="comment">// 如果索引超过当前块的大小</span></div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>                    idx -= item.second;  <span class="comment">// 减去当前块的大小，准备查找下一个块</span></div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>                <span class="keywordflow">else</span></div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>                    <span class="keywordflow">return</span> item.first + idx;  <span class="comment">// 找到目标块，返回对应位置的K线指针</span></div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>            }</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>        } <span class="keywordflow">while</span> (<span class="keyword">false</span>);  <span class="comment">// 这个do-while(false)结构允许使用break跳出</span></div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span> </div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;  <span class="comment">// 如果没有找到匹配的K线，返回NULL</span></div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>    }</div>
</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span> </div>
<div class="foldopen" id="foldopen00464" data-start="{" data-end="}">
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno"><a class="line" href="classWTSKlineSlice.html#a2b44d1c8a48a3377f13d2de8eec17c2c">  464</a></span>    <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code hl_struct" href="structWTSBarStruct.html">WTSBarStruct</a>*  <a class="code hl_function" href="classWTSKlineSlice.html#a2b44d1c8a48a3377f13d2de8eec17c2c">at</a>(int32_t idx)<span class="keyword"> const</span></div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classWTSKlineSlice.html#a0ab6892ac7eeedb64e52bdde40f70c1e">_count</a> == 0)  <span class="comment">// 如果没有K线数据</span></div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span> </div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>        idx = <a class="code hl_function" href="classWTSKlineSlice.html#a7e7629efa75839161ab70474edf401e7">translateIdx</a>(idx);  <span class="comment">// 转换索引，处理负索引情况</span></div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>        <span class="keywordflow">do</span></div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>        {</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; item : <a class="code hl_variable" href="classWTSKlineSlice.html#ace7552bb9f0438d3a22f395cb98b9255">_blocks</a>)  <span class="comment">// 遍历所有数据块</span></div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>            {</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>                <span class="keywordflow">if</span> ((uint32_t)idx &gt;= item.second)  <span class="comment">// 如果索引超过当前块的大小</span></div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>                    idx -= item.second;  <span class="comment">// 减去当前块的大小，准备查找下一个块</span></div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>                <span class="keywordflow">else</span></div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>                    <span class="keywordflow">return</span> item.first + idx;  <span class="comment">// 找到目标块，返回对应位置的K线常量指针</span></div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>            }</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>        } <span class="keywordflow">while</span> (<span class="keyword">false</span>);  <span class="comment">// 这个do-while(false)结构允许使用break跳出</span></div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;  <span class="comment">// 如果没有找到匹配的K线，返回NULL</span></div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>    }</div>
</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span> </div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span> </div>
<div class="foldopen" id="foldopen00494" data-start="{" data-end="}">
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno"><a class="line" href="classWTSKlineSlice.html#ac64f1b180abebf5805164ca7cc203626">  494</a></span>    <span class="keywordtype">double</span>      <a class="code hl_function" href="classWTSKlineSlice.html#ac64f1b180abebf5805164ca7cc203626">maxprice</a>(int32_t head, int32_t tail)<span class="keyword"> const</span></div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>        head = <a class="code hl_function" href="classWTSKlineSlice.html#a7e7629efa75839161ab70474edf401e7">translateIdx</a>(head);  <span class="comment">// 转换起始位置索引</span></div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>        tail = <a class="code hl_function" href="classWTSKlineSlice.html#a7e7629efa75839161ab70474edf401e7">translateIdx</a>(tail);  <span class="comment">// 转换结束位置索引</span></div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span> </div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>        int32_t begin = max(0,min(head, tail));  <span class="comment">// 确保起始位置不小于0</span></div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>        int32_t end = min(max(head, tail), <a class="code hl_function" href="classWTSKlineSlice.html#a86b5e048d687483ac6dc91014e503d09">size</a>() - 1);  <span class="comment">// 确保结束位置不超出范围</span></div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span> </div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>        <span class="keywordtype">double</span> maxValue = this-&gt;<a class="code hl_function" href="classWTSKlineSlice.html#a158eda11c49a9ada165dce6c0df54042">at</a>(begin)-&gt;<a class="code hl_variable" href="structWTSBarStruct.html#a4e13b085107979a65715f32d32a3a62b">high</a>;  <span class="comment">// 初始化最大值为起始位置的高点</span></div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>        <span class="keywordflow">for</span> (int32_t i = begin; i &lt;= end; i++)  <span class="comment">// 遍历区间内的所有K线</span></div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>        {</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>            maxValue = max(maxValue, <a class="code hl_function" href="classWTSKlineSlice.html#a158eda11c49a9ada165dce6c0df54042">at</a>(i)-&gt;high);  <span class="comment">// 更新最大值</span></div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>        }</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>        <span class="keywordflow">return</span> maxValue;  <span class="comment">// 返回找到的最大值</span></div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>    }</div>
</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span> </div>
<div class="foldopen" id="foldopen00520" data-start="{" data-end="}">
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno"><a class="line" href="classWTSKlineSlice.html#a1ae6fc27c30c3af4dd0f0e41843e9b7f">  520</a></span>    <span class="keywordtype">double</span>      <a class="code hl_function" href="classWTSKlineSlice.html#a1ae6fc27c30c3af4dd0f0e41843e9b7f">minprice</a>(int32_t head, int32_t tail)<span class="keyword"> const</span></div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>        head = <a class="code hl_function" href="classWTSKlineSlice.html#a7e7629efa75839161ab70474edf401e7">translateIdx</a>(head);  <span class="comment">// 转换起始位置索引</span></div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>        tail = <a class="code hl_function" href="classWTSKlineSlice.html#a7e7629efa75839161ab70474edf401e7">translateIdx</a>(tail);  <span class="comment">// 转换结束位置索引</span></div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span> </div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>        int32_t begin = max(0, min(head, tail));  <span class="comment">// 确保起始位置不小于0</span></div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>        int32_t end = min(max(head, tail), <a class="code hl_function" href="classWTSKlineSlice.html#a86b5e048d687483ac6dc91014e503d09">size</a>() - 1);  <span class="comment">// 确保结束位置不超出范围</span></div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span> </div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>        <span class="keywordtype">double</span> minValue = <a class="code hl_function" href="classWTSKlineSlice.html#a158eda11c49a9ada165dce6c0df54042">at</a>(begin)-&gt;<a class="code hl_variable" href="structWTSBarStruct.html#a219dccc8fbb1d4aab6454e818d58d3cf">low</a>;  <span class="comment">// 初始化最小值为起始位置的低点</span></div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>        <span class="keywordflow">for</span> (int32_t i = begin; i &lt;= end; i++)  <span class="comment">// 遍历区间内的所有K线</span></div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>        {</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>            minValue = min(minValue, <a class="code hl_function" href="classWTSKlineSlice.html#a158eda11c49a9ada165dce6c0df54042">at</a>(i)-&gt;low);  <span class="comment">// 更新最小值</span></div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>        }</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span> </div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>        <span class="keywordflow">return</span> minValue;  <span class="comment">// 返回找到的最小值</span></div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>    }</div>
</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span> </div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno"><a class="line" href="classWTSKlineSlice.html#a86b5e048d687483ac6dc91014e503d09">  544</a></span>    <span class="keyword">inline</span> int32_t  <a class="code hl_function" href="classWTSKlineSlice.html#a86b5e048d687483ac6dc91014e503d09">size</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSKlineSlice.html#a0ab6892ac7eeedb64e52bdde40f70c1e">_count</a>; }</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>    </div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno"><a class="line" href="classWTSKlineSlice.html#ad1fd5441c8b4129309daca77f24812da">  553</a></span>    <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="classWTSKlineSlice.html#ad1fd5441c8b4129309daca77f24812da">empty</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSKlineSlice.html#a0ab6892ac7eeedb64e52bdde40f70c1e">_count</a> == 0; }</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span> </div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno"><a class="line" href="classWTSKlineSlice.html#aa30b17fc1bfa8bc449f448632489472a">  562</a></span>    <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>*  <a class="code hl_function" href="classWTSKlineSlice.html#aa30b17fc1bfa8bc449f448632489472a">code</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSKlineSlice.html#a7dd654f58f3144c5a69e56be2480db66">_code</a>; }</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>    </div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno"><a class="line" href="classWTSKlineSlice.html#a379f75e379cb006d1444785f2c29a56c">  571</a></span>    <span class="keyword">inline</span> <span class="keywordtype">void</span>     <a class="code hl_function" href="classWTSKlineSlice.html#a379f75e379cb006d1444785f2c29a56c">setCode</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_function" href="classWTSKlineSlice.html#aa30b17fc1bfa8bc449f448632489472a">code</a>){ <a class="code hl_function" href="WTSMarcos_8h.html#ae3e2cd00c20ce8b9ae0ae37a089d7d5e">wt_strcpy</a>(<a class="code hl_variable" href="classWTSKlineSlice.html#a7dd654f58f3144c5a69e56be2480db66">_code</a>, <a class="code hl_function" href="classWTSKlineSlice.html#aa30b17fc1bfa8bc449f448632489472a">code</a>); }</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span> </div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span> </div>
<div class="foldopen" id="foldopen00586" data-start="{" data-end="}">
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno"><a class="line" href="classWTSKlineSlice.html#a55a924203195b459bef3164bde067f3b">  586</a></span>    <a class="code hl_class" href="classWTSValueArray.html">WTSValueArray</a>*  <a class="code hl_function" href="classWTSKlineSlice.html#a55a924203195b459bef3164bde067f3b">extractData</a>(<a class="code hl_typedef" href="WTSTypes_8h.html#ab8ef9ede7e4a6cfd3af326e7d1337087">WTSKlineFieldType</a> type, int32_t head = 0, int32_t tail = -1)<span class="keyword"> const</span></div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classWTSKlineSlice.html#a0ab6892ac7eeedb64e52bdde40f70c1e">_count</a> == 0)  <span class="comment">// 如果K线切片为空</span></div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span> </div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>        head = <a class="code hl_function" href="classWTSKlineSlice.html#a7e7629efa75839161ab70474edf401e7">translateIdx</a>(head);  <span class="comment">// 转换起始位置索引</span></div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>        tail = <a class="code hl_function" href="classWTSKlineSlice.html#a7e7629efa75839161ab70474edf401e7">translateIdx</a>(tail);  <span class="comment">// 转换结束位置索引</span></div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span> </div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>        int32_t begin = max(0, min(head, tail));  <span class="comment">// 确保起始位置不小于0</span></div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>        int32_t end = min(max(head, tail), <a class="code hl_function" href="classWTSKlineSlice.html#a86b5e048d687483ac6dc91014e503d09">size</a>() - 1);  <span class="comment">// 确保结束位置不超出范围</span></div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span> </div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>        <a class="code hl_class" href="classWTSValueArray.html">WTSValueArray</a> *vArray = <a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span> </div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>        vArray = <a class="code hl_function" href="classWTSValueArray.html#aa27d3229b24b0ded65d9ff8c3aeb14c7">WTSValueArray::create</a>();  <span class="comment">// 创建一个新的数值数组对象</span></div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span> </div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>        <span class="keywordflow">for</span> (int32_t i = begin; i &lt;= end; i++)  <span class="comment">// 遍历指定区间内的所有K线</span></div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>        {</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structWTSBarStruct.html">WTSBarStruct</a>&amp; day = *<a class="code hl_function" href="classWTSKlineSlice.html#a158eda11c49a9ada165dce6c0df54042">at</a>(i);  <span class="comment">// 获取当前K线</span></div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>            <span class="keywordflow">switch</span> (type)  <span class="comment">// 根据字段类型提取不同的值</span></div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>            {</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="WTSTypes_8h.html#aa7f97f299a3eaeed91902c6b6dc0c492ad4d8774bc79658a279ee4b0390bfc941">KFT_OPEN</a>:  <span class="comment">// 开盘价</span></div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>                    vArray-&gt;<a class="code hl_function" href="classWTSValueArray.html#a2161c6b69a32c1113e85ce4621919ab9">append</a>(day.<a class="code hl_variable" href="structWTSBarStruct.html#ac0ca05d9215e39adf184b342457ce1d5">open</a>);</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="WTSTypes_8h.html#aa7f97f299a3eaeed91902c6b6dc0c492acf96cc951308f70b057bf8d241fb0760">KFT_HIGH</a>:  <span class="comment">// 最高价</span></div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>                    vArray-&gt;<a class="code hl_function" href="classWTSValueArray.html#a2161c6b69a32c1113e85ce4621919ab9">append</a>(day.<a class="code hl_variable" href="structWTSBarStruct.html#a4e13b085107979a65715f32d32a3a62b">high</a>);</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="WTSTypes_8h.html#aa7f97f299a3eaeed91902c6b6dc0c492ab7e218cc44052c5824ebd89641edcfd3">KFT_LOW</a>:  <span class="comment">// 最低价</span></div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>                    vArray-&gt;<a class="code hl_function" href="classWTSValueArray.html#a2161c6b69a32c1113e85ce4621919ab9">append</a>(day.<a class="code hl_variable" href="structWTSBarStruct.html#a219dccc8fbb1d4aab6454e818d58d3cf">low</a>);</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="WTSTypes_8h.html#aa7f97f299a3eaeed91902c6b6dc0c492a03a4ceb6fa99dc751cc32a3164b3bed6">KFT_CLOSE</a>:  <span class="comment">// 收盘价</span></div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>                    vArray-&gt;<a class="code hl_function" href="classWTSValueArray.html#a2161c6b69a32c1113e85ce4621919ab9">append</a>(day.<a class="code hl_variable" href="structWTSBarStruct.html#aa65200ab92ac87434c0d1566a44f4bb7">close</a>);</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="WTSTypes_8h.html#aa7f97f299a3eaeed91902c6b6dc0c492ab43b7aeeb34320a4e8916fa87c75fea5">KFT_VOLUME</a>:  <span class="comment">// 成交量</span></div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>                    vArray-&gt;<a class="code hl_function" href="classWTSValueArray.html#a2161c6b69a32c1113e85ce4621919ab9">append</a>(day.<a class="code hl_variable" href="structWTSBarStruct.html#a4afe76084c6fb2c66107d7bcf9242387">vol</a>);</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="WTSTypes_8h.html#aa7f97f299a3eaeed91902c6b6dc0c492a84c01e441f291cc68ea3212206125b38">KFT_SVOLUME</a>:  <span class="comment">// 带符号的成交量（根据收盘价和开盘价的关系标记正负）</span></div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>                    <span class="keywordflow">if</span> (day.<a class="code hl_variable" href="structWTSBarStruct.html#a4afe76084c6fb2c66107d7bcf9242387">vol</a> &gt; INT_MAX)  <span class="comment">// 处理超大成交量</span></div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>                        vArray-&gt;<a class="code hl_function" href="classWTSValueArray.html#a2161c6b69a32c1113e85ce4621919ab9">append</a>(1 * ((day.<a class="code hl_variable" href="structWTSBarStruct.html#aa65200ab92ac87434c0d1566a44f4bb7">close</a> &gt; day.<a class="code hl_variable" href="structWTSBarStruct.html#ac0ca05d9215e39adf184b342457ce1d5">open</a>) ? 1 : -1));  <span class="comment">// 数值太大时只保留符号</span></div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>                    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>                        vArray-&gt;<a class="code hl_function" href="classWTSValueArray.html#a2161c6b69a32c1113e85ce4621919ab9">append</a>((int32_t)day.<a class="code hl_variable" href="structWTSBarStruct.html#a4afe76084c6fb2c66107d7bcf9242387">vol</a> * ((day.<a class="code hl_variable" href="structWTSBarStruct.html#aa65200ab92ac87434c0d1566a44f4bb7">close</a> &gt; day.<a class="code hl_variable" href="structWTSBarStruct.html#ac0ca05d9215e39adf184b342457ce1d5">open</a>) ? 1 : -1));  <span class="comment">// 正常情况保留成交量和符号</span></div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="WTSTypes_8h.html#aa7f97f299a3eaeed91902c6b6dc0c492a4b0b573c4db5995cabeba8f21c481bc0">KFT_DATE</a>:  <span class="comment">// 日期</span></div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>                    vArray-&gt;<a class="code hl_function" href="classWTSValueArray.html#a2161c6b69a32c1113e85ce4621919ab9">append</a>(day.<a class="code hl_variable" href="structWTSBarStruct.html#ad1dbdafda34a45eec0889f5826ce82b0">date</a>);</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="WTSTypes_8h.html#aa7f97f299a3eaeed91902c6b6dc0c492af9b849bad99316d51d98451625ae46d7">KFT_TIME</a>:  <span class="comment">// 时间</span></div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>                    vArray-&gt;<a class="code hl_function" href="classWTSValueArray.html#a2161c6b69a32c1113e85ce4621919ab9">append</a>((<span class="keywordtype">double</span>)day.<a class="code hl_variable" href="structWTSBarStruct.html#ad83e851fd7043b0484a2ba6bdf0588ca">time</a>);  <span class="comment">// 转换为double类型存储</span></div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>            }</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>        }</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span> </div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>        <span class="keywordflow">return</span> vArray;  <span class="comment">// 返回提取的数据数组</span></div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>    }</div>
</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>};</div>
</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span> </div>
<div class="foldopen" id="foldopen00649" data-start="{" data-end="};">
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno"><a class="line" href="classWTSKlineData.html">  649</a></span><span class="keyword">class </span><a class="code hl_class" href="classWTSKlineData.html">WTSKlineData</a> : <span class="keyword">public</span> <a class="code hl_class" href="classWTSObject.html">WTSObject</a></div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>{</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#a64a9c7417dad7e639dc5e743e6bc8964">  653</a></span>    <span class="keyword">typedef</span> std::vector&lt;WTSBarStruct&gt; <a class="code hl_typedef" href="classWTSKlineData.html#a64a9c7417dad7e639dc5e743e6bc8964">WTSBarList</a>;</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span> </div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span><span class="keyword">protected</span>:</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#a6586dc36dc475933f12e2c1f30fb1491">  656</a></span>    <span class="keywordtype">char</span>            <a class="code hl_variable" href="classWTSKlineData.html#a6586dc36dc475933f12e2c1f30fb1491">m_strCode</a>[32];     </div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#adeaec2ecebfbf092897526cf30997b37">  657</a></span>    <a class="code hl_typedef" href="WTSTypes_8h.html#a27f5d8bd7208a5fc1d044c6f5961904c">WTSKlinePeriod</a>  <a class="code hl_variable" href="classWTSKlineData.html#adeaec2ecebfbf092897526cf30997b37">m_kpPeriod</a>;      </div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#a588f7772f8446a52f2cebf039af15b86">  658</a></span>    uint32_t        <a class="code hl_variable" href="classWTSKlineData.html#a588f7772f8446a52f2cebf039af15b86">m_uTimes</a>;        </div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#a39e3eabb26f1a3a74c40f6890e523f2c">  659</a></span>    <span class="keywordtype">bool</span>            <a class="code hl_variable" href="classWTSKlineData.html#a39e3eabb26f1a3a74c40f6890e523f2c">m_bUnixTime</a>;      </div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">  660</a></span>    <a class="code hl_typedef" href="classWTSKlineData.html#a64a9c7417dad7e639dc5e743e6bc8964">WTSBarList</a>      <a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>;    </div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#af71b3ace1e67e0c411b940234a7082ef">  661</a></span>    <span class="keywordtype">bool</span>            <a class="code hl_variable" href="classWTSKlineData.html#af71b3ace1e67e0c411b940234a7082ef">m_bClosed</a>;        </div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span> </div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span><span class="keyword">protected</span>:</div>
<div class="foldopen" id="foldopen00670" data-start="{" data-end="}">
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#ab8345bff937f9063c28d6bcc50beef32">  670</a></span>    <a class="code hl_function" href="classWTSKlineData.html#ab8345bff937f9063c28d6bcc50beef32">WTSKlineData</a>()</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>        :<a class="code hl_variable" href="classWTSKlineData.html#adeaec2ecebfbf092897526cf30997b37">m_kpPeriod</a>(<a class="code hl_enumvalue" href="WTSTypes_8h.html#acac96eb977d20b3a6186f0ccede8a9d8a3b64a9f21f4bd5432a8b3f8424c4410e">KP_Minute1</a>)  <span class="comment">// 默认为1分钟周期</span></div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>        ,<a class="code hl_variable" href="classWTSKlineData.html#a588f7772f8446a52f2cebf039af15b86">m_uTimes</a>(1)             <span class="comment">// 默认倍数为1</span></div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>        ,<a class="code hl_variable" href="classWTSKlineData.html#a39e3eabb26f1a3a74c40f6890e523f2c">m_bUnixTime</a>(false)      <span class="comment">// 默认非时间戳格式</span></div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>        ,<a class="code hl_variable" href="classWTSKlineData.html#af71b3ace1e67e0c411b940234a7082ef">m_bClosed</a>(true)         <span class="comment">// 默认为闭合K线</span></div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>    {</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span> </div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>    }</div>
</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span> </div>
<div class="foldopen" id="foldopen00687" data-start="{" data-end="}">
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#a99975f0c7493c97b6a540ea6adf7d0d5">  687</a></span>    <span class="keyword">inline</span> int32_t      <a class="code hl_function" href="classWTSKlineData.html#a99975f0c7493c97b6a540ea6adf7d0d5">translateIdx</a>(int32_t idx)<span class="keyword"> const</span></div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>        <span class="keywordflow">if</span>(idx &lt; 0)  <span class="comment">// 处理负索引</span></div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>        {</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>            <span class="keywordflow">return</span> max(0, (int32_t)<a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>.size() + idx);  <span class="comment">// 将负索引转换为从末尾计算的正索引</span></div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>        }</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span> </div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>        <span class="keywordflow">return</span> idx;  <span class="comment">// 正索引直接返回</span></div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>    }</div>
</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span> </div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span><span class="keyword">public</span>:</div>
<div class="foldopen" id="foldopen00708" data-start="{" data-end="}">
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#a1ff97a9a62dd22a6f7f2608e1b719bbf">  708</a></span>    <span class="keyword">static</span> <a class="code hl_class" href="classWTSKlineData.html">WTSKlineData</a>* <a class="code hl_function" href="classWTSKlineData.html#a1ff97a9a62dd22a6f7f2608e1b719bbf">create</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_function" href="classWTSKlineData.html#ae5008433b11416fca4a6c0e1eeb0497e">code</a>, uint32_t <a class="code hl_function" href="classWTSKlineData.html#a43fb5ca9e10d81ed94a21baede44b2d9">size</a>)</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>    {</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>        <a class="code hl_class" href="classWTSKlineData.html">WTSKlineData</a> *pRet = <span class="keyword">new</span> <a class="code hl_function" href="classWTSKlineData.html#ab8345bff937f9063c28d6bcc50beef32">WTSKlineData</a>;  <span class="comment">// 创建新对象</span></div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>        pRet-&gt;<a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>.resize(<a class="code hl_function" href="classWTSKlineData.html#a43fb5ca9e10d81ed94a21baede44b2d9">size</a>);         <span class="comment">// 预分配存储空间</span></div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>        <a class="code hl_function" href="WTSMarcos_8h.html#ae3e2cd00c20ce8b9ae0ae37a089d7d5e">wt_strcpy</a>(pRet-&gt;<a class="code hl_variable" href="classWTSKlineData.html#a6586dc36dc475933f12e2c1f30fb1491">m_strCode</a>, <a class="code hl_function" href="classWTSKlineData.html#ae5008433b11416fca4a6c0e1eeb0497e">code</a>);        <span class="comment">// 设置合约代码</span></div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span> </div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>        <span class="keywordflow">return</span> pRet;  <span class="comment">// 返回创建的对象</span></div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>    }</div>
</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span> </div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#a96e8a3872278372d0da974ae7ac96705">  725</a></span>    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classWTSKlineData.html#a96e8a3872278372d0da974ae7ac96705">setClosed</a>(<span class="keywordtype">bool</span> bClosed){ <a class="code hl_variable" href="classWTSKlineData.html#af71b3ace1e67e0c411b940234a7082ef">m_bClosed</a> = bClosed; }</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>    </div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#a74b21efb7193ebf027bbf4b831413a3d">  732</a></span>    <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="classWTSKlineData.html#a74b21efb7193ebf027bbf4b831413a3d">isClosed</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSKlineData.html#af71b3ace1e67e0c411b940234a7082ef">m_bClosed</a>; }</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span> </div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#a669e83176a30e91885eaf71cd672fdb2">  742</a></span>    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classWTSKlineData.html#a669e83176a30e91885eaf71cd672fdb2">setPeriod</a>(<a class="code hl_typedef" href="WTSTypes_8h.html#a27f5d8bd7208a5fc1d044c6f5961904c">WTSKlinePeriod</a> <a class="code hl_function" href="classWTSKlineData.html#a032a8fcceeddf4ac8227330eef8fbd82">period</a>, uint32_t <a class="code hl_function" href="classWTSKlineData.html#a4c3ac297e1e2facfa2027fe18b76ffa9">times</a> = 1){ <a class="code hl_variable" href="classWTSKlineData.html#adeaec2ecebfbf092897526cf30997b37">m_kpPeriod</a> = <a class="code hl_function" href="classWTSKlineData.html#a032a8fcceeddf4ac8227330eef8fbd82">period</a>; <a class="code hl_variable" href="classWTSKlineData.html#a588f7772f8446a52f2cebf039af15b86">m_uTimes</a> = <a class="code hl_function" href="classWTSKlineData.html#a4c3ac297e1e2facfa2027fe18b76ffa9">times</a>; }</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span> </div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#abeadcfafc40021ea5db2fc5ad1a8679d">  751</a></span>    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classWTSKlineData.html#abeadcfafc40021ea5db2fc5ad1a8679d">setUnixTime</a>(<span class="keywordtype">bool</span> bEnabled = <span class="keyword">true</span>){ <a class="code hl_variable" href="classWTSKlineData.html#a39e3eabb26f1a3a74c40f6890e523f2c">m_bUnixTime</a> = bEnabled; }</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span> </div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#a032a8fcceeddf4ac8227330eef8fbd82">  758</a></span>    <span class="keyword">inline</span> <a class="code hl_typedef" href="WTSTypes_8h.html#a27f5d8bd7208a5fc1d044c6f5961904c">WTSKlinePeriod</a>   <a class="code hl_function" href="classWTSKlineData.html#a032a8fcceeddf4ac8227330eef8fbd82">period</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSKlineData.html#adeaec2ecebfbf092897526cf30997b37">m_kpPeriod</a>; }</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>    </div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#a4c3ac297e1e2facfa2027fe18b76ffa9">  765</a></span>    <span class="keyword">inline</span> uint32_t     <a class="code hl_function" href="classWTSKlineData.html#a4c3ac297e1e2facfa2027fe18b76ffa9">times</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSKlineData.html#a588f7772f8446a52f2cebf039af15b86">m_uTimes</a>; }</div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>    </div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#a03242326ba9409ab377cf7982b08ffdd">  772</a></span>    <span class="keyword">inline</span> <span class="keywordtype">bool</span>         <a class="code hl_function" href="classWTSKlineData.html#a03242326ba9409ab377cf7982b08ffdd">isUnixTime</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSKlineData.html#a39e3eabb26f1a3a74c40f6890e523f2c">m_bUnixTime</a>; }</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span> </div>
<div class="foldopen" id="foldopen00784" data-start="{" data-end="}">
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#a40553f33d8aa6f09c1107494c31bd560">  784</a></span>    <span class="keyword">inline</span> <span class="keywordtype">double</span>       <a class="code hl_function" href="classWTSKlineData.html#a40553f33d8aa6f09c1107494c31bd560">maxprice</a>(int32_t head, int32_t tail)<span class="keyword"> const</span></div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>        head = <a class="code hl_function" href="classWTSKlineData.html#a99975f0c7493c97b6a540ea6adf7d0d5">translateIdx</a>(head);  <span class="comment">// 转换起始位置索引</span></div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>        tail = <a class="code hl_function" href="classWTSKlineData.html#a99975f0c7493c97b6a540ea6adf7d0d5">translateIdx</a>(tail);  <span class="comment">// 转换结束位置索引</span></div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span> </div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>        uint32_t begin = min(head, tail);  <span class="comment">// 确保begin是较小的索引</span></div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>        uint32_t end = max(head, tail);    <span class="comment">// 确保end是较大的索引</span></div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span> </div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>        <span class="keywordflow">if</span>(begin &gt;= <a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>.size() || end &gt; <a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>.size())  <span class="comment">// 检查索引是否超出范围</span></div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="WTSMarcos_8h.html#a9fa6ba5a28d266726a9227dbf5aa14a0">INVALID_DOUBLE</a>;  <span class="comment">// 超出范围返回无效值</span></div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span> </div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>        <span class="keywordtype">double</span> maxValue = <a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>[begin].high;  <span class="comment">// 初始化最大值为起始位置的最高价</span></div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>        <span class="keywordflow">for</span>(uint32_t i = begin; i &lt;= end; i++)  <span class="comment">// 遍历指定区间内的所有K线</span></div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>        {</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>            maxValue = max(maxValue, <a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>[i].<a class="code hl_function" href="classWTSKlineData.html#a32558b75beb893c1fc5b5df58fbdbe29">high</a>);  <span class="comment">// 更新最大值</span></div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>        }</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span> </div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>        <span class="keywordflow">return</span> maxValue;  <span class="comment">// 返回最高价格</span></div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>    }</div>
</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span> </div>
<div class="foldopen" id="foldopen00814" data-start="{" data-end="}">
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#aa458be0f4451a40dc67d4b2f1e5434b9">  814</a></span>    <span class="keyword">inline</span> <span class="keywordtype">double</span>       <a class="code hl_function" href="classWTSKlineData.html#aa458be0f4451a40dc67d4b2f1e5434b9">minprice</a>(int32_t head, int32_t tail)<span class="keyword"> const</span></div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>        head = <a class="code hl_function" href="classWTSKlineData.html#a99975f0c7493c97b6a540ea6adf7d0d5">translateIdx</a>(head);  <span class="comment">// 转换起始位置索引</span></div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>        tail = <a class="code hl_function" href="classWTSKlineData.html#a99975f0c7493c97b6a540ea6adf7d0d5">translateIdx</a>(tail);  <span class="comment">// 转换结束位置索引</span></div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span> </div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>        uint32_t begin = min(head, tail);  <span class="comment">// 确保begin是较小的索引</span></div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>        uint32_t end = max(head, tail);    <span class="comment">// 确保end是较大的索引</span></div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span> </div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>        <span class="keywordflow">if</span>(begin &gt;= <a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>.size() || end &gt; <a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>.size())  <span class="comment">// 检查索引是否超出范围</span></div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="WTSMarcos_8h.html#a9fa6ba5a28d266726a9227dbf5aa14a0">INVALID_DOUBLE</a>;  <span class="comment">// 超出范围返回无效值</span></div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span> </div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>        <span class="keywordtype">double</span> minValue = <a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>[begin].low;  <span class="comment">// 初始化最小值为起始位置的最低价</span></div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>        <span class="keywordflow">for</span>(uint32_t i = begin; i &lt;= end; i++)  <span class="comment">// 遍历指定区间内的所有K线</span></div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>        {</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>            minValue = min(minValue, <a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>[i].<a class="code hl_function" href="classWTSKlineData.html#a1118b22da3914993d2550b40bd0a179f">low</a>);  <span class="comment">// 更新最小值</span></div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>        }</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span> </div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>        <span class="keywordflow">return</span> minValue;  <span class="comment">// 返回最低价格</span></div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>    }</div>
</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>    </div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#a43fb5ca9e10d81ed94a21baede44b2d9">  841</a></span>    <span class="keyword">inline</span> uint32_t <a class="code hl_function" href="classWTSKlineData.html#a43fb5ca9e10d81ed94a21baede44b2d9">size</a>()<span class="keyword"> const</span>{<span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>.size();}</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>    </div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#adbaef6200eb5efc372a63e5d3dcb7b14">  850</a></span>    <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="classWTSKlineData.html#adbaef6200eb5efc372a63e5d3dcb7b14">IsEmpty</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>.empty(); }</div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span> </div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#ae5008433b11416fca4a6c0e1eeb0497e">  859</a></span>    <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>*  <a class="code hl_function" href="classWTSKlineData.html#ae5008433b11416fca4a6c0e1eeb0497e">code</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSKlineData.html#a6586dc36dc475933f12e2c1f30fb1491">m_strCode</a>; }</div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>    </div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#a08d8f88eed19fa432594a9354d91bce5">  868</a></span>    <span class="keyword">inline</span> <span class="keywordtype">void</span>     <a class="code hl_function" href="classWTSKlineData.html#a08d8f88eed19fa432594a9354d91bce5">setCode</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_function" href="classWTSKlineData.html#ae5008433b11416fca4a6c0e1eeb0497e">code</a>){ <a class="code hl_function" href="WTSMarcos_8h.html#ae3e2cd00c20ce8b9ae0ae37a089d7d5e">wt_strcpy</a>(<a class="code hl_variable" href="classWTSKlineData.html#a6586dc36dc475933f12e2c1f30fb1491">m_strCode</a>, <a class="code hl_function" href="classWTSKlineData.html#ae5008433b11416fca4a6c0e1eeb0497e">code</a>); }</div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span> </div>
<div class="foldopen" id="foldopen00879" data-start="{" data-end="}">
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#adab10bfe7badf49081ae3dd5b532399e">  879</a></span>    <span class="keyword">inline</span> <span class="keywordtype">double</span>   <a class="code hl_function" href="classWTSKlineData.html#adab10bfe7badf49081ae3dd5b532399e">open</a>(int32_t idx)<span class="keyword"> const</span></div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>        idx = <a class="code hl_function" href="classWTSKlineData.html#a99975f0c7493c97b6a540ea6adf7d0d5">translateIdx</a>(idx);  <span class="comment">// 转换索引，处理负索引情况</span></div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span> </div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span>        <span class="keywordflow">if</span>(idx &lt; 0 || idx &gt;= (int32_t)<a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>.size())  <span class="comment">// 检查索引是否有效</span></div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="WTSMarcos_8h.html#a9fa6ba5a28d266726a9227dbf5aa14a0">INVALID_DOUBLE</a>;  <span class="comment">// 无效索引返回无效值</span></div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span> </div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>[idx].open;  <span class="comment">// 返回指定位置的开盘价</span></div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>    }</div>
</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span> </div>
<div class="foldopen" id="foldopen00898" data-start="{" data-end="}">
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#a32558b75beb893c1fc5b5df58fbdbe29">  898</a></span>    <span class="keyword">inline</span> <span class="keywordtype">double</span>   <a class="code hl_function" href="classWTSKlineData.html#a32558b75beb893c1fc5b5df58fbdbe29">high</a>(int32_t idx)<span class="keyword"> const</span></div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>        idx = <a class="code hl_function" href="classWTSKlineData.html#a99975f0c7493c97b6a540ea6adf7d0d5">translateIdx</a>(idx);  <span class="comment">// 转换索引，处理负索引情况</span></div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span> </div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>        <span class="keywordflow">if</span>(idx &lt; 0 || idx &gt;= (int32_t)<a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>.size())  <span class="comment">// 检查索引是否有效</span></div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="WTSMarcos_8h.html#a9fa6ba5a28d266726a9227dbf5aa14a0">INVALID_DOUBLE</a>;  <span class="comment">// 无效索引返回无效值</span></div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span> </div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>[idx].high;  <span class="comment">// 返回指定位置的最高价</span></div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>    }</div>
</div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span> </div>
<div class="foldopen" id="foldopen00917" data-start="{" data-end="}">
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#a1118b22da3914993d2550b40bd0a179f">  917</a></span>    <span class="keyword">inline</span> <span class="keywordtype">double</span>   <a class="code hl_function" href="classWTSKlineData.html#a1118b22da3914993d2550b40bd0a179f">low</a>(int32_t idx)<span class="keyword"> const</span></div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span>        idx = <a class="code hl_function" href="classWTSKlineData.html#a99975f0c7493c97b6a540ea6adf7d0d5">translateIdx</a>(idx);  <span class="comment">// 转换索引，处理负索引情况</span></div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span> </div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>        <span class="keywordflow">if</span>(idx &lt; 0 || idx &gt;= (int32_t)<a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>.size())  <span class="comment">// 检查索引是否有效</span></div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="WTSMarcos_8h.html#a9fa6ba5a28d266726a9227dbf5aa14a0">INVALID_DOUBLE</a>;  <span class="comment">// 无效索引返回无效值</span></div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span> </div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>[idx].low;  <span class="comment">// 返回指定位置的最低价</span></div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>    }</div>
</div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span> </div>
<div class="foldopen" id="foldopen00936" data-start="{" data-end="}">
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#acdc394f40f4f744be271c4b8a529d2db">  936</a></span>    <span class="keyword">inline</span> <span class="keywordtype">double</span>   <a class="code hl_function" href="classWTSKlineData.html#acdc394f40f4f744be271c4b8a529d2db">close</a>(int32_t idx)<span class="keyword"> const</span></div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>        idx = <a class="code hl_function" href="classWTSKlineData.html#a99975f0c7493c97b6a540ea6adf7d0d5">translateIdx</a>(idx);  <span class="comment">// 转换索引，处理负索引情况</span></div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span> </div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span>        <span class="keywordflow">if</span>(idx &lt; 0 || idx &gt;= (int32_t)<a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>.size())  <span class="comment">// 检查索引是否有效</span></div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="WTSMarcos_8h.html#a9fa6ba5a28d266726a9227dbf5aa14a0">INVALID_DOUBLE</a>;  <span class="comment">// 无效索引返回无效值</span></div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span> </div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>[idx].close;  <span class="comment">// 返回指定位置的收盘价</span></div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>    }</div>
</div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span> </div>
<div class="foldopen" id="foldopen00955" data-start="{" data-end="}">
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#a8be50c6b3ed93868b1eced69b442ba8e">  955</a></span>    <span class="keyword">inline</span> <span class="keywordtype">double</span>   <a class="code hl_function" href="classWTSKlineData.html#a8be50c6b3ed93868b1eced69b442ba8e">volume</a>(int32_t idx)<span class="keyword"> const</span></div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span>        idx = <a class="code hl_function" href="classWTSKlineData.html#a99975f0c7493c97b6a540ea6adf7d0d5">translateIdx</a>(idx);  <span class="comment">// 转换索引，处理负索引情况</span></div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span> </div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span>        <span class="keywordflow">if</span>(idx &lt; 0 || idx &gt;= (int32_t)<a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>.size())  <span class="comment">// 检查索引是否有效</span></div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="WTSMarcos_8h.html#a9fa6ba5a28d266726a9227dbf5aa14a0">INVALID_DOUBLE</a>;  <span class="comment">// 无效索引返回无效值</span></div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span> </div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>[idx].vol;  <span class="comment">// 返回指定位置的成交量</span></div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span>    }</div>
</div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span> </div>
<div class="foldopen" id="foldopen00974" data-start="{" data-end="}">
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#a9c92624f42c30ff76d23721827fd0664">  974</a></span>    <span class="keyword">inline</span> <span class="keywordtype">double</span>   <a class="code hl_function" href="classWTSKlineData.html#a9c92624f42c30ff76d23721827fd0664">openinterest</a>(int32_t idx)<span class="keyword"> const</span></div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span>        idx = <a class="code hl_function" href="classWTSKlineData.html#a99975f0c7493c97b6a540ea6adf7d0d5">translateIdx</a>(idx);  <span class="comment">// 转换索引，处理负索引情况</span></div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span> </div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span>        <span class="keywordflow">if</span>(idx &lt; 0 || idx &gt;= (int32_t)<a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>.size())  <span class="comment">// 检查索引是否有效</span></div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="WTSMarcos_8h.html#ab58070d1c518278febd8f11f08c7bd24">INVALID_UINT32</a>;  <span class="comment">// 无效索引返回无效值</span></div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span> </div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>[idx].hold;  <span class="comment">// 返回指定位置的持仓量</span></div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span>    }</div>
</div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span> </div>
<div class="foldopen" id="foldopen00993" data-start="{" data-end="}">
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#ad2a6967d30b50efb820dcb3db9212291">  993</a></span>    <span class="keyword">inline</span> <span class="keywordtype">double</span>   <a class="code hl_function" href="classWTSKlineData.html#ad2a6967d30b50efb820dcb3db9212291">additional</a>(int32_t idx)<span class="keyword"> const</span></div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span>        idx = <a class="code hl_function" href="classWTSKlineData.html#a99975f0c7493c97b6a540ea6adf7d0d5">translateIdx</a>(idx);  <span class="comment">// 转换索引，处理负索引情况</span></div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span> </div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>        <span class="keywordflow">if</span>(idx &lt; 0 || idx &gt;= (int32_t)<a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>.size())  <span class="comment">// 检查索引是否有效</span></div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="WTSMarcos_8h.html#a9fa6ba5a28d266726a9227dbf5aa14a0">INVALID_DOUBLE</a>;  <span class="comment">// 无效索引返回无效值</span></div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span> </div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>[idx].add;  <span class="comment">// 返回指定位置的增仓量</span></div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span>    }   </div>
</div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span> </div>
<div class="foldopen" id="foldopen01012" data-start="{" data-end="}">
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#a4dcf60e453759b4143888d88391b67e4"> 1012</a></span>    <span class="keyword">inline</span> <span class="keywordtype">double</span>   <a class="code hl_function" href="classWTSKlineData.html#a4dcf60e453759b4143888d88391b67e4">bidprice</a>(int32_t idx)<span class="keyword"> const</span></div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span>        idx = <a class="code hl_function" href="classWTSKlineData.html#a99975f0c7493c97b6a540ea6adf7d0d5">translateIdx</a>(idx);  <span class="comment">// 转换索引，处理负索引情况</span></div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span> </div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span>        <span class="keywordflow">if</span> (idx &lt; 0 || idx &gt;= (int32_t)<a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>.size())  <span class="comment">// 检查索引是否有效</span></div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="WTSMarcos_8h.html#ab58070d1c518278febd8f11f08c7bd24">INVALID_UINT32</a>;  <span class="comment">// 无效索引返回无效值</span></div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span> </div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>[idx].bid;  <span class="comment">// 返回指定位置的买一价</span></div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span>    }</div>
</div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span> </div>
<div class="foldopen" id="foldopen01031" data-start="{" data-end="}">
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#add336b80453f8ad6c5691373c7f96659"> 1031</a></span>    <span class="keyword">inline</span> <span class="keywordtype">double</span>   <a class="code hl_function" href="classWTSKlineData.html#add336b80453f8ad6c5691373c7f96659">askprice</a>(int32_t idx)<span class="keyword"> const</span></div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span>        idx = <a class="code hl_function" href="classWTSKlineData.html#a99975f0c7493c97b6a540ea6adf7d0d5">translateIdx</a>(idx);  <span class="comment">// 转换索引，处理负索引情况</span></div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span> </div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span>        <span class="keywordflow">if</span> (idx &lt; 0 || idx &gt;= (int32_t)<a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>.size())  <span class="comment">// 检查索引是否有效</span></div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="WTSMarcos_8h.html#a9fa6ba5a28d266726a9227dbf5aa14a0">INVALID_DOUBLE</a>;  <span class="comment">// 无效索引返回无效值</span></div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span> </div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>[idx].ask;  <span class="comment">// 返回指定位置的卖一价</span></div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"> 1039</span>    }</div>
</div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span> </div>
<div class="foldopen" id="foldopen01050" data-start="{" data-end="}">
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#a7d5ded93de5d91604cf22d6f96bd8249"> 1050</a></span>    <span class="keyword">inline</span> <span class="keywordtype">double</span>   <a class="code hl_function" href="classWTSKlineData.html#a7d5ded93de5d91604cf22d6f96bd8249">money</a>(int32_t idx)<span class="keyword"> const</span></div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"> 1051</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"> 1052</span>        idx = <a class="code hl_function" href="classWTSKlineData.html#a99975f0c7493c97b6a540ea6adf7d0d5">translateIdx</a>(idx);  <span class="comment">// 转换索引，处理负索引情况</span></div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span> </div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span>        <span class="keywordflow">if</span>(idx &lt; 0 || idx &gt;= (int32_t)<a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>.size())  <span class="comment">// 检查索引是否有效</span></div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="WTSMarcos_8h.html#a9fa6ba5a28d266726a9227dbf5aa14a0">INVALID_DOUBLE</a>;  <span class="comment">// 无效索引返回无效值</span></div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span> </div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>[idx].money;  <span class="comment">// 返回指定位置的成交额</span></div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span>    }</div>
</div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span> </div>
<div class="foldopen" id="foldopen01069" data-start="{" data-end="}">
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#aba6b8bd1eccc9e0a9bc85753e7a3e279"> 1069</a></span>    <span class="keyword">inline</span> uint32_t <a class="code hl_function" href="classWTSKlineData.html#aba6b8bd1eccc9e0a9bc85753e7a3e279">date</a>(int32_t idx)<span class="keyword"> const</span></div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"> 1070</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"> 1071</span>        idx = <a class="code hl_function" href="classWTSKlineData.html#a99975f0c7493c97b6a540ea6adf7d0d5">translateIdx</a>(idx);  <span class="comment">// 转换索引，处理负索引情况</span></div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"> 1072</span> </div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span>        <span class="keywordflow">if</span>(idx &lt; 0 || idx &gt;= (int32_t)<a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>.size())  <span class="comment">// 检查索引是否有效</span></div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="WTSMarcos_8h.html#ab58070d1c518278febd8f11f08c7bd24">INVALID_UINT32</a>;  <span class="comment">// 无效索引返回无效值</span></div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span> </div>
<div class="line"><a id="l01076" name="l01076"></a><span class="lineno"> 1076</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>[idx].date;  <span class="comment">// 返回指定位置的日期</span></div>
<div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span>    }</div>
</div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span> </div>
<div class="foldopen" id="foldopen01088" data-start="{" data-end="}">
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#a3962dc6f1a16de4c680f4928adce7f81"> 1088</a></span>    <span class="keyword">inline</span> uint64_t <a class="code hl_function" href="classWTSKlineData.html#a3962dc6f1a16de4c680f4928adce7f81">time</a>(int32_t idx)<span class="keyword"> const</span></div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l01090" name="l01090"></a><span class="lineno"> 1090</span>        idx = <a class="code hl_function" href="classWTSKlineData.html#a99975f0c7493c97b6a540ea6adf7d0d5">translateIdx</a>(idx);  <span class="comment">// 转换索引，处理负索引情况</span></div>
<div class="line"><a id="l01091" name="l01091"></a><span class="lineno"> 1091</span> </div>
<div class="line"><a id="l01092" name="l01092"></a><span class="lineno"> 1092</span>        <span class="keywordflow">if</span>(idx &lt; 0 || idx &gt;= (int32_t)<a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>.size())  <span class="comment">// 检查索引是否有效</span></div>
<div class="line"><a id="l01093" name="l01093"></a><span class="lineno"> 1093</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="WTSMarcos_8h.html#ab58070d1c518278febd8f11f08c7bd24">INVALID_UINT32</a>;  <span class="comment">// 无效索引返回无效值</span></div>
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"> 1094</span> </div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>[idx].time;  <span class="comment">// 返回指定位置的时间</span></div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span>    }</div>
</div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span> </div>
<div class="foldopen" id="foldopen01110" data-start="{" data-end="}">
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#a04b1d70862558365513606b0b46083be"> 1110</a></span>    <a class="code hl_class" href="classWTSValueArray.html">WTSValueArray</a>*  <a class="code hl_function" href="classWTSKlineData.html#a04b1d70862558365513606b0b46083be">extractData</a>(<a class="code hl_typedef" href="WTSTypes_8h.html#ab8ef9ede7e4a6cfd3af326e7d1337087">WTSKlineFieldType</a> type, int32_t head = 0, int32_t tail = -1)<span class="keyword"> const</span></div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l01112" name="l01112"></a><span class="lineno"> 1112</span>        head = <a class="code hl_function" href="classWTSKlineData.html#a99975f0c7493c97b6a540ea6adf7d0d5">translateIdx</a>(head);  <span class="comment">// 转换起始位置索引</span></div>
<div class="line"><a id="l01113" name="l01113"></a><span class="lineno"> 1113</span>        tail = <a class="code hl_function" href="classWTSKlineData.html#a99975f0c7493c97b6a540ea6adf7d0d5">translateIdx</a>(tail);  <span class="comment">// 转换结束位置索引</span></div>
<div class="line"><a id="l01114" name="l01114"></a><span class="lineno"> 1114</span> </div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"> 1115</span>        uint32_t begin = min(head, tail);  <span class="comment">// 确保begin是较小的索引</span></div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"> 1116</span>        uint32_t end = max(head, tail);    <span class="comment">// 确保end是较大的索引</span></div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"> 1117</span> </div>
<div class="line"><a id="l01118" name="l01118"></a><span class="lineno"> 1118</span>        <span class="keywordflow">if</span>(begin &gt;= <a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>.size() || end &gt;= (int32_t)<a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>.size())  <span class="comment">// 检查索引是否超出范围</span></div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"> 1119</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;  <span class="comment">// 超出范围返回NULL</span></div>
<div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span> </div>
<div class="line"><a id="l01121" name="l01121"></a><span class="lineno"> 1121</span>        <a class="code hl_class" href="classWTSValueArray.html">WTSValueArray</a> *vArray = <a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a id="l01122" name="l01122"></a><span class="lineno"> 1122</span> </div>
<div class="line"><a id="l01123" name="l01123"></a><span class="lineno"> 1123</span>        vArray = <a class="code hl_function" href="classWTSValueArray.html#aa27d3229b24b0ded65d9ff8c3aeb14c7">WTSValueArray::create</a>();  <span class="comment">// 创建一个新的数值数组对象</span></div>
<div class="line"><a id="l01124" name="l01124"></a><span class="lineno"> 1124</span> </div>
<div class="line"><a id="l01125" name="l01125"></a><span class="lineno"> 1125</span>        <span class="keywordflow">for</span>(uint32_t i = 0; i &lt; <a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>.size(); i++)  <span class="comment">// 遍历所有K线数据</span></div>
<div class="line"><a id="l01126" name="l01126"></a><span class="lineno"> 1126</span>        {</div>
<div class="line"><a id="l01127" name="l01127"></a><span class="lineno"> 1127</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structWTSBarStruct.html">WTSBarStruct</a>&amp; day = <a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>.at(i);  <span class="comment">// 获取当前K线</span></div>
<div class="line"><a id="l01128" name="l01128"></a><span class="lineno"> 1128</span>            <span class="keywordflow">switch</span>(type)  <span class="comment">// 根据字段类型提取不同的值</span></div>
<div class="line"><a id="l01129" name="l01129"></a><span class="lineno"> 1129</span>            {</div>
<div class="line"><a id="l01130" name="l01130"></a><span class="lineno"> 1130</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="WTSTypes_8h.html#aa7f97f299a3eaeed91902c6b6dc0c492ad4d8774bc79658a279ee4b0390bfc941">KFT_OPEN</a>:  <span class="comment">// 开盘价</span></div>
<div class="line"><a id="l01131" name="l01131"></a><span class="lineno"> 1131</span>                    vArray-&gt;<a class="code hl_function" href="classWTSValueArray.html#a2161c6b69a32c1113e85ce4621919ab9">append</a>(day.<a class="code hl_variable" href="structWTSBarStruct.html#ac0ca05d9215e39adf184b342457ce1d5">open</a>);</div>
<div class="line"><a id="l01132" name="l01132"></a><span class="lineno"> 1132</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01133" name="l01133"></a><span class="lineno"> 1133</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="WTSTypes_8h.html#aa7f97f299a3eaeed91902c6b6dc0c492acf96cc951308f70b057bf8d241fb0760">KFT_HIGH</a>:  <span class="comment">// 最高价</span></div>
<div class="line"><a id="l01134" name="l01134"></a><span class="lineno"> 1134</span>                    vArray-&gt;<a class="code hl_function" href="classWTSValueArray.html#a2161c6b69a32c1113e85ce4621919ab9">append</a>(day.<a class="code hl_variable" href="structWTSBarStruct.html#a4e13b085107979a65715f32d32a3a62b">high</a>);</div>
<div class="line"><a id="l01135" name="l01135"></a><span class="lineno"> 1135</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01136" name="l01136"></a><span class="lineno"> 1136</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="WTSTypes_8h.html#aa7f97f299a3eaeed91902c6b6dc0c492ab7e218cc44052c5824ebd89641edcfd3">KFT_LOW</a>:  <span class="comment">// 最低价</span></div>
<div class="line"><a id="l01137" name="l01137"></a><span class="lineno"> 1137</span>                    vArray-&gt;<a class="code hl_function" href="classWTSValueArray.html#a2161c6b69a32c1113e85ce4621919ab9">append</a>(day.<a class="code hl_variable" href="structWTSBarStruct.html#a219dccc8fbb1d4aab6454e818d58d3cf">low</a>);</div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"> 1138</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01139" name="l01139"></a><span class="lineno"> 1139</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="WTSTypes_8h.html#aa7f97f299a3eaeed91902c6b6dc0c492a03a4ceb6fa99dc751cc32a3164b3bed6">KFT_CLOSE</a>:  <span class="comment">// 收盘价</span></div>
<div class="line"><a id="l01140" name="l01140"></a><span class="lineno"> 1140</span>                    vArray-&gt;<a class="code hl_function" href="classWTSValueArray.html#a2161c6b69a32c1113e85ce4621919ab9">append</a>(day.<a class="code hl_variable" href="structWTSBarStruct.html#aa65200ab92ac87434c0d1566a44f4bb7">close</a>);</div>
<div class="line"><a id="l01141" name="l01141"></a><span class="lineno"> 1141</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01142" name="l01142"></a><span class="lineno"> 1142</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="WTSTypes_8h.html#aa7f97f299a3eaeed91902c6b6dc0c492ab43b7aeeb34320a4e8916fa87c75fea5">KFT_VOLUME</a>:  <span class="comment">// 成交量</span></div>
<div class="line"><a id="l01143" name="l01143"></a><span class="lineno"> 1143</span>                    vArray-&gt;<a class="code hl_function" href="classWTSValueArray.html#a2161c6b69a32c1113e85ce4621919ab9">append</a>(day.<a class="code hl_variable" href="structWTSBarStruct.html#a4afe76084c6fb2c66107d7bcf9242387">vol</a>);</div>
<div class="line"><a id="l01144" name="l01144"></a><span class="lineno"> 1144</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01145" name="l01145"></a><span class="lineno"> 1145</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="WTSTypes_8h.html#aa7f97f299a3eaeed91902c6b6dc0c492a84c01e441f291cc68ea3212206125b38">KFT_SVOLUME</a>:  <span class="comment">// 带符号的成交量（根据收盘价和开盘价的关系标记正负）</span></div>
<div class="line"><a id="l01146" name="l01146"></a><span class="lineno"> 1146</span>                    <span class="keywordflow">if</span>(day.<a class="code hl_variable" href="structWTSBarStruct.html#a4afe76084c6fb2c66107d7bcf9242387">vol</a> &gt; INT_MAX)  <span class="comment">// 处理超大成交量</span></div>
<div class="line"><a id="l01147" name="l01147"></a><span class="lineno"> 1147</span>                        vArray-&gt;<a class="code hl_function" href="classWTSValueArray.html#a2161c6b69a32c1113e85ce4621919ab9">append</a>(1 * ((day.<a class="code hl_variable" href="structWTSBarStruct.html#aa65200ab92ac87434c0d1566a44f4bb7">close</a> &gt; day.<a class="code hl_variable" href="structWTSBarStruct.html#ac0ca05d9215e39adf184b342457ce1d5">open</a>) ? 1 : -1));  <span class="comment">// 数值太大时只保留符号</span></div>
<div class="line"><a id="l01148" name="l01148"></a><span class="lineno"> 1148</span>                    <span class="keywordflow">else</span></div>
<div class="line"><a id="l01149" name="l01149"></a><span class="lineno"> 1149</span>                        vArray-&gt;<a class="code hl_function" href="classWTSValueArray.html#a2161c6b69a32c1113e85ce4621919ab9">append</a>((int32_t)day.<a class="code hl_variable" href="structWTSBarStruct.html#a4afe76084c6fb2c66107d7bcf9242387">vol</a> * ((day.<a class="code hl_variable" href="structWTSBarStruct.html#aa65200ab92ac87434c0d1566a44f4bb7">close</a> &gt; day.<a class="code hl_variable" href="structWTSBarStruct.html#ac0ca05d9215e39adf184b342457ce1d5">open</a>)?1:-1));  <span class="comment">// 正常情况保留成交量和符号</span></div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"> 1150</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"> 1151</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="WTSTypes_8h.html#aa7f97f299a3eaeed91902c6b6dc0c492a4b0b573c4db5995cabeba8f21c481bc0">KFT_DATE</a>:  <span class="comment">// 日期</span></div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span>                    vArray-&gt;<a class="code hl_function" href="classWTSValueArray.html#a2161c6b69a32c1113e85ce4621919ab9">append</a>(day.<a class="code hl_variable" href="structWTSBarStruct.html#ad1dbdafda34a45eec0889f5826ce82b0">date</a>);</div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="WTSTypes_8h.html#aa7f97f299a3eaeed91902c6b6dc0c492af9b849bad99316d51d98451625ae46d7">KFT_TIME</a>:  <span class="comment">// 时间</span></div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span>                    vArray-&gt;<a class="code hl_function" href="classWTSValueArray.html#a2161c6b69a32c1113e85ce4621919ab9">append</a>((<span class="keywordtype">double</span>)day.<a class="code hl_variable" href="structWTSBarStruct.html#ad83e851fd7043b0484a2ba6bdf0588ca">time</a>);  <span class="comment">// 转换为double类型存储</span></div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span>            }</div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span>        }</div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span> </div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span>        <span class="keywordflow">return</span> vArray;  <span class="comment">// 返回提取的数据数组</span></div>
<div class="line"><a id="l01160" name="l01160"></a><span class="lineno"> 1160</span>    }</div>
</div>
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"> 1161</span> </div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#a5231e60be31ff49788b7ee311cbecaf4"> 1171</a></span>    <span class="keyword">inline</span> <a class="code hl_typedef" href="classWTSKlineData.html#a64a9c7417dad7e639dc5e743e6bc8964">WTSBarList</a>&amp; <a class="code hl_function" href="classWTSKlineData.html#a5231e60be31ff49788b7ee311cbecaf4">getDataRef</a>(){ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>; }</div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span> </div>
<div class="foldopen" id="foldopen01182" data-start="{" data-end="}">
<div class="line"><a id="l01182" name="l01182"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#a9b0b5ce2c4aef6633a94ec170180bbdb"> 1182</a></span>    <span class="keyword">inline</span> <a class="code hl_struct" href="structWTSBarStruct.html">WTSBarStruct</a>*    <a class="code hl_function" href="classWTSKlineData.html#a9b0b5ce2c4aef6633a94ec170180bbdb">at</a>(int32_t idx)</div>
<div class="line"><a id="l01183" name="l01183"></a><span class="lineno"> 1183</span>    {</div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span>        idx = <a class="code hl_function" href="classWTSKlineData.html#a99975f0c7493c97b6a540ea6adf7d0d5">translateIdx</a>(idx);  <span class="comment">// 转换索引，处理负索引情况</span></div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span> </div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"> 1186</span>        <span class="keywordflow">if</span>(idx &lt; 0 || idx &gt;= (int32_t)<a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>.size())  <span class="comment">// 检查索引是否有效</span></div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;  <span class="comment">// 无效索引返回NULL</span></div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span>        <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>[idx];  <span class="comment">// 返回指定位置K线的指针</span></div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span>    }</div>
</div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span> </div>
<div class="foldopen" id="foldopen01198" data-start="{" data-end="}">
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#ac6f50337abfb1a33bbc9194942092eef"> 1198</a></span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classWTSKlineData.html#ac6f50337abfb1a33bbc9194942092eef">release</a>()</div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span>    {</div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span>        <span class="keywordflow">if</span>(<a class="code hl_function" href="classWTSObject.html#a5add3c4b61260e79d5abc764a2507bb7">isSingleRefs</a>())  <span class="comment">// 检查是否只剩一个引用</span></div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span>        {</div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"> 1202</span>            <a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>.clear();  <span class="comment">// 清空K线数据容器</span></div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span>        }       </div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span> </div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span>        <a class="code hl_function" href="classWTSObject.html#a57b87f47529974f735f4989eaf2dd55f">WTSObject::release</a>();  <span class="comment">// 调用父类的release方法</span></div>
<div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span>    }</div>
</div>
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"> 1207</span> </div>
<div class="foldopen" id="foldopen01217" data-start="{" data-end="}">
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"><a class="line" href="classWTSKlineData.html#a5aaf007bec23ed89fa934fcab76735bd"> 1217</a></span>    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classWTSKlineData.html#a5aaf007bec23ed89fa934fcab76735bd">appendBar</a>(<span class="keyword">const</span> <a class="code hl_struct" href="structWTSBarStruct.html">WTSBarStruct</a>&amp; bar)</div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span>    {</div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>.empty())  <span class="comment">// 如果容器为空</span></div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span>        {</div>
<div class="line"><a id="l01221" name="l01221"></a><span class="lineno"> 1221</span>            <a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>.emplace_back(bar);  <span class="comment">// 直接添加新K线</span></div>
<div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span>        }</div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"> 1223</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span>        {</div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span>            <a class="code hl_struct" href="structWTSBarStruct.html">WTSBarStruct</a>* lastBar = <a class="code hl_function" href="classWTSKlineData.html#a9b0b5ce2c4aef6633a94ec170180bbdb">at</a>(-1);  <span class="comment">// 获取最后一条K线</span></div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span>            <span class="keywordflow">if</span>(lastBar-&gt;<a class="code hl_variable" href="structWTSBarStruct.html#ad1dbdafda34a45eec0889f5826ce82b0">date</a>==bar.<a class="code hl_variable" href="structWTSBarStruct.html#ad1dbdafda34a45eec0889f5826ce82b0">date</a> &amp;&amp; lastBar-&gt;<a class="code hl_variable" href="structWTSBarStruct.html#ad83e851fd7043b0484a2ba6bdf0588ca">time</a>==bar.<a class="code hl_variable" href="structWTSBarStruct.html#ad83e851fd7043b0484a2ba6bdf0588ca">time</a>)  <span class="comment">// 如果日期和时间相同</span></div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span>            {</div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span>                memcpy(lastBar, &amp;bar, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structWTSBarStruct.html">WTSBarStruct</a>));  <span class="comment">// 更新最后一条K线数据</span></div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span>            }</div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span>            {</div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span>                <a class="code hl_variable" href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">m_vecBarData</a>.emplace_back(bar);  <span class="comment">// 添加新K线数据</span></div>
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"> 1233</span>            }</div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span>        }</div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"> 1235</span>    }</div>
</div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span>};</div>
</div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span> </div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span> </div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span> </div>
<div class="foldopen" id="foldopen01251" data-start="{" data-end="};">
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"><a class="line" href="classWTSTickData.html"> 1251</a></span><span class="keyword">class </span><a class="code hl_class" href="classWTSTickData.html">WTSTickData</a> : <span class="keyword">public</span> <a class="code hl_class" href="classWTSPoolObject.html">WTSPoolObject</a>&lt;WTSTickData&gt;</div>
<div class="line"><a id="l01252" name="l01252"></a><span class="lineno"> 1252</span>{</div>
<div class="line"><a id="l01253" name="l01253"></a><span class="lineno"> 1253</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l01259" name="l01259"></a><span class="lineno"><a class="line" href="classWTSTickData.html#ae77b9fd3459282b5a3b8914a573ec371"> 1259</a></span>    <a class="code hl_function" href="classWTSTickData.html#ae77b9fd3459282b5a3b8914a573ec371">WTSTickData</a>() :<a class="code hl_variable" href="classWTSTickData.html#a9daa83379f1d0a8275f0216cfbe68a44">m_pContract</a>(<a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {}</div>
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"> 1260</span> </div>
<div class="foldopen" id="foldopen01270" data-start="{" data-end="}">
<div class="line"><a id="l01270" name="l01270"></a><span class="lineno"><a class="line" href="classWTSTickData.html#a4b56adfd1cd4e6b95833653ca987ce43"> 1270</a></span>    <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code hl_class" href="classWTSTickData.html">WTSTickData</a>* <a class="code hl_function" href="classWTSTickData.html#a4b56adfd1cd4e6b95833653ca987ce43">create</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* stdCode)</div>
<div class="line"><a id="l01271" name="l01271"></a><span class="lineno"> 1271</span>    {</div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span>        <a class="code hl_class" href="classWTSTickData.html">WTSTickData</a>* pRet = <a class="code hl_function" href="classWTSPoolObject.html#ae4ab339a4fff055594a70f7a64486c40">WTSTickData::allocate</a>();  <span class="comment">// 从对象池中分配内存</span></div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span>        <span class="keyword">auto</span> len = strlen(stdCode);  <span class="comment">// 获取合约代码长度</span></div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"> 1274</span>        memcpy(pRet-&gt;<a class="code hl_variable" href="classWTSTickData.html#ac82a4bb7bc1e9e7963d86e2c1f118d09">m_tickStruct</a>.<a class="code hl_variable" href="structWTSTickStruct.html#a31738a87bc9682ccec5da21306c27afb">code</a>, stdCode, len);  <span class="comment">// 复制合约代码</span></div>
<div class="line"><a id="l01275" name="l01275"></a><span class="lineno"> 1275</span>        pRet-&gt;<a class="code hl_variable" href="classWTSTickData.html#ac82a4bb7bc1e9e7963d86e2c1f118d09">m_tickStruct</a>.<a class="code hl_variable" href="structWTSTickStruct.html#a31738a87bc9682ccec5da21306c27afb">code</a>[len] = 0;  <span class="comment">// 确保字符串结束符</span></div>
<div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span> </div>
<div class="line"><a id="l01277" name="l01277"></a><span class="lineno"> 1277</span>        <span class="keywordflow">return</span> pRet;  <span class="comment">// 返回创建的对象</span></div>
<div class="line"><a id="l01278" name="l01278"></a><span class="lineno"> 1278</span>    }</div>
</div>
<div class="line"><a id="l01279" name="l01279"></a><span class="lineno"> 1279</span> </div>
<div class="foldopen" id="foldopen01289" data-start="{" data-end="}">
<div class="line"><a id="l01289" name="l01289"></a><span class="lineno"><a class="line" href="classWTSTickData.html#af6df2ab58356d41cc927cb6704ba87ed"> 1289</a></span>    <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code hl_class" href="classWTSTickData.html">WTSTickData</a>* <a class="code hl_function" href="classWTSTickData.html#af6df2ab58356d41cc927cb6704ba87ed">create</a>(<a class="code hl_struct" href="structWTSTickStruct.html">WTSTickStruct</a>&amp; tickData)</div>
<div class="line"><a id="l01290" name="l01290"></a><span class="lineno"> 1290</span>    {</div>
<div class="line"><a id="l01291" name="l01291"></a><span class="lineno"> 1291</span>        <a class="code hl_class" href="classWTSTickData.html">WTSTickData</a>* pRet = <a class="code hl_function" href="classWTSPoolObject.html#ae4ab339a4fff055594a70f7a64486c40">allocate</a>();  <span class="comment">// 从对象池中分配内存</span></div>
<div class="line"><a id="l01292" name="l01292"></a><span class="lineno"> 1292</span>        memcpy(&amp;pRet-&gt;<a class="code hl_variable" href="classWTSTickData.html#ac82a4bb7bc1e9e7963d86e2c1f118d09">m_tickStruct</a>, &amp;tickData, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structWTSTickStruct.html">WTSTickStruct</a>));  <span class="comment">// 复制结构体数据</span></div>
<div class="line"><a id="l01293" name="l01293"></a><span class="lineno"> 1293</span> </div>
<div class="line"><a id="l01294" name="l01294"></a><span class="lineno"> 1294</span>        <span class="keywordflow">return</span> pRet;  <span class="comment">// 返回创建的对象</span></div>
<div class="line"><a id="l01295" name="l01295"></a><span class="lineno"> 1295</span>    }</div>
</div>
<div class="line"><a id="l01296" name="l01296"></a><span class="lineno"> 1296</span> </div>
<div class="foldopen" id="foldopen01305" data-start="{" data-end="}">
<div class="line"><a id="l01305" name="l01305"></a><span class="lineno"><a class="line" href="classWTSTickData.html#af8df9fb130bea4ca8470a0ccef56b690"> 1305</a></span>    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classWTSTickData.html#af8df9fb130bea4ca8470a0ccef56b690">setCode</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_function" href="classWTSTickData.html#ae40aac80fd30843224b6e88d007b1d05">code</a>, std::size_t len = 0)</div>
<div class="line"><a id="l01306" name="l01306"></a><span class="lineno"> 1306</span>    {</div>
<div class="line"><a id="l01307" name="l01307"></a><span class="lineno"> 1307</span>        len = (len == 0) ? strlen(<a class="code hl_function" href="classWTSTickData.html#ae40aac80fd30843224b6e88d007b1d05">code</a>) : len;  <span class="comment">// 如果长度为0，自动计算字符串长度</span></div>
<div class="line"><a id="l01308" name="l01308"></a><span class="lineno"> 1308</span> </div>
<div class="line"><a id="l01309" name="l01309"></a><span class="lineno"> 1309</span>        memcpy(<a class="code hl_variable" href="classWTSTickData.html#ac82a4bb7bc1e9e7963d86e2c1f118d09">m_tickStruct</a>.<a class="code hl_variable" href="structWTSTickStruct.html#a31738a87bc9682ccec5da21306c27afb">code</a>, <a class="code hl_function" href="classWTSTickData.html#ae40aac80fd30843224b6e88d007b1d05">code</a>, len);  <span class="comment">// 复制合约代码</span></div>
<div class="line"><a id="l01310" name="l01310"></a><span class="lineno"> 1310</span>        <a class="code hl_variable" href="classWTSTickData.html#ac82a4bb7bc1e9e7963d86e2c1f118d09">m_tickStruct</a>.<a class="code hl_variable" href="structWTSTickStruct.html#a31738a87bc9682ccec5da21306c27afb">code</a>[len] = <span class="charliteral">&#39;\0&#39;</span>;  <span class="comment">// 确保字符串结束符</span></div>
<div class="line"><a id="l01311" name="l01311"></a><span class="lineno"> 1311</span>    }</div>
</div>
<div class="line"><a id="l01312" name="l01312"></a><span class="lineno"> 1312</span> </div>
<div class="line"><a id="l01320" name="l01320"></a><span class="lineno"><a class="line" href="classWTSTickData.html#ae40aac80fd30843224b6e88d007b1d05"> 1320</a></span>    <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_function" href="classWTSTickData.html#ae40aac80fd30843224b6e88d007b1d05">code</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTickData.html#ac82a4bb7bc1e9e7963d86e2c1f118d09">m_tickStruct</a>.<a class="code hl_variable" href="structWTSTickStruct.html#a31738a87bc9682ccec5da21306c27afb">code</a>; }</div>
<div class="line"><a id="l01321" name="l01321"></a><span class="lineno"> 1321</span> </div>
<div class="line"><a id="l01329" name="l01329"></a><span class="lineno"><a class="line" href="classWTSTickData.html#a359830353e1da19731470ebc9a50004e"> 1329</a></span>    <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>*  <a class="code hl_function" href="classWTSTickData.html#a359830353e1da19731470ebc9a50004e">exchg</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTickData.html#ac82a4bb7bc1e9e7963d86e2c1f118d09">m_tickStruct</a>.<a class="code hl_variable" href="structWTSTickStruct.html#a1fae83488fbdd65e552944bb1502b8fd">exchg</a>; }</div>
<div class="line"><a id="l01330" name="l01330"></a><span class="lineno"> 1330</span> </div>
<div class="line"><a id="l01338" name="l01338"></a><span class="lineno"><a class="line" href="classWTSTickData.html#ae502123e14736815e734b7f6456cfd13"> 1338</a></span>    <span class="keyword">inline</span> <span class="keywordtype">double</span>   <a class="code hl_function" href="classWTSTickData.html#ae502123e14736815e734b7f6456cfd13">price</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTickData.html#ac82a4bb7bc1e9e7963d86e2c1f118d09">m_tickStruct</a>.<a class="code hl_variable" href="structWTSTickStruct.html#a72563ba28f49fb904ddefbf652727c82">price</a>; }</div>
<div class="line"><a id="l01339" name="l01339"></a><span class="lineno"> 1339</span> </div>
<div class="line"><a id="l01347" name="l01347"></a><span class="lineno"><a class="line" href="classWTSTickData.html#a25b6a4e9293d666b29ee5c409d72073a"> 1347</a></span>    <span class="keyword">inline</span> <span class="keywordtype">double</span>   <a class="code hl_function" href="classWTSTickData.html#a25b6a4e9293d666b29ee5c409d72073a">open</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTickData.html#ac82a4bb7bc1e9e7963d86e2c1f118d09">m_tickStruct</a>.<a class="code hl_variable" href="structWTSTickStruct.html#ae27988b263f90158e7e86c0039a1290b">open</a>; }</div>
<div class="line"><a id="l01348" name="l01348"></a><span class="lineno"> 1348</span> </div>
<div class="line"><a id="l01356" name="l01356"></a><span class="lineno"><a class="line" href="classWTSTickData.html#a7119fbf29cf6e3775a75bc0c093ab613"> 1356</a></span>    <span class="keyword">inline</span> <span class="keywordtype">double</span>   <a class="code hl_function" href="classWTSTickData.html#a7119fbf29cf6e3775a75bc0c093ab613">high</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTickData.html#ac82a4bb7bc1e9e7963d86e2c1f118d09">m_tickStruct</a>.<a class="code hl_variable" href="structWTSTickStruct.html#ac44468303bfc5acde6ca341490e6e51f">high</a>; }</div>
<div class="line"><a id="l01357" name="l01357"></a><span class="lineno"> 1357</span> </div>
<div class="line"><a id="l01365" name="l01365"></a><span class="lineno"><a class="line" href="classWTSTickData.html#a47ff21745fccd3f0e8c8178b601e2b39"> 1365</a></span>    <span class="keyword">inline</span> <span class="keywordtype">double</span>   <a class="code hl_function" href="classWTSTickData.html#a47ff21745fccd3f0e8c8178b601e2b39">low</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTickData.html#ac82a4bb7bc1e9e7963d86e2c1f118d09">m_tickStruct</a>.<a class="code hl_variable" href="structWTSTickStruct.html#a07aab56a57a594daa634b8f28381ffaa">low</a>; }</div>
<div class="line"><a id="l01366" name="l01366"></a><span class="lineno"> 1366</span> </div>
<div class="line"><a id="l01374" name="l01374"></a><span class="lineno"><a class="line" href="classWTSTickData.html#ad0316b9ace5a02bc948f91f9dcdef830"> 1374</a></span>    <span class="keyword">inline</span> <span class="keywordtype">double</span>   <a class="code hl_function" href="classWTSTickData.html#ad0316b9ace5a02bc948f91f9dcdef830">preclose</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTickData.html#ac82a4bb7bc1e9e7963d86e2c1f118d09">m_tickStruct</a>.<a class="code hl_variable" href="structWTSTickStruct.html#a17bd5a2e41a49b42c52017a208bb9375">pre_close</a>; }</div>
<div class="line"><a id="l01375" name="l01375"></a><span class="lineno"> 1375</span>    </div>
<div class="line"><a id="l01383" name="l01383"></a><span class="lineno"><a class="line" href="classWTSTickData.html#aa411f12bddcb17910a05dbe2b0ba728f"> 1383</a></span>    <span class="keyword">inline</span> <span class="keywordtype">double</span>   <a class="code hl_function" href="classWTSTickData.html#aa411f12bddcb17910a05dbe2b0ba728f">presettle</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTickData.html#ac82a4bb7bc1e9e7963d86e2c1f118d09">m_tickStruct</a>.<a class="code hl_variable" href="structWTSTickStruct.html#a08e5338b44b175e874d45be91da587e8">pre_settle</a>; }</div>
<div class="line"><a id="l01384" name="l01384"></a><span class="lineno"> 1384</span>    </div>
<div class="line"><a id="l01392" name="l01392"></a><span class="lineno"><a class="line" href="classWTSTickData.html#af49aa793bb8ef25a3f855f30f6a4eb0a"> 1392</a></span>    <span class="keyword">inline</span> <span class="keywordtype">double</span>   <a class="code hl_function" href="classWTSTickData.html#af49aa793bb8ef25a3f855f30f6a4eb0a">preinterest</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTickData.html#ac82a4bb7bc1e9e7963d86e2c1f118d09">m_tickStruct</a>.<a class="code hl_variable" href="structWTSTickStruct.html#a748c94f5e832b7c622d1b3ee6968e9a5">pre_interest</a>; }</div>
<div class="line"><a id="l01393" name="l01393"></a><span class="lineno"> 1393</span> </div>
<div class="line"><a id="l01401" name="l01401"></a><span class="lineno"><a class="line" href="classWTSTickData.html#a34a2cd2169c8189380263a0668892eae"> 1401</a></span>    <span class="keyword">inline</span> <span class="keywordtype">double</span>   <a class="code hl_function" href="classWTSTickData.html#a34a2cd2169c8189380263a0668892eae">upperlimit</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTickData.html#ac82a4bb7bc1e9e7963d86e2c1f118d09">m_tickStruct</a>.<a class="code hl_variable" href="structWTSTickStruct.html#a571f622c146287aeb5750e974fe434ae">upper_limit</a>; }</div>
<div class="line"><a id="l01402" name="l01402"></a><span class="lineno"> 1402</span>    </div>
<div class="line"><a id="l01410" name="l01410"></a><span class="lineno"><a class="line" href="classWTSTickData.html#a550e20ab110d041774c7a57356548af0"> 1410</a></span>    <span class="keyword">inline</span> <span class="keywordtype">double</span>   <a class="code hl_function" href="classWTSTickData.html#a550e20ab110d041774c7a57356548af0">lowerlimit</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTickData.html#ac82a4bb7bc1e9e7963d86e2c1f118d09">m_tickStruct</a>.<a class="code hl_variable" href="structWTSTickStruct.html#aa765254d43077f75d8916cf2feb919fd">lower_limit</a>; }</div>
<div class="line"><a id="l01411" name="l01411"></a><span class="lineno"> 1411</span>    </div>
<div class="line"><a id="l01419" name="l01419"></a><span class="lineno"><a class="line" href="classWTSTickData.html#a9aaeae2b996a6d2e2dc8c813b622e6e0"> 1419</a></span>    <span class="keyword">inline</span> <span class="keywordtype">double</span>   <a class="code hl_function" href="classWTSTickData.html#a9aaeae2b996a6d2e2dc8c813b622e6e0">totalvolume</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTickData.html#ac82a4bb7bc1e9e7963d86e2c1f118d09">m_tickStruct</a>.<a class="code hl_variable" href="structWTSTickStruct.html#aabf07c4d7040b85931f0882de3398379">total_volume</a>; }</div>
<div class="line"><a id="l01420" name="l01420"></a><span class="lineno"> 1420</span> </div>
<div class="line"><a id="l01428" name="l01428"></a><span class="lineno"><a class="line" href="classWTSTickData.html#a097548155cfbbf9a0a36e1ee1ce3ad38"> 1428</a></span>    <span class="keyword">inline</span> <span class="keywordtype">double</span>   <a class="code hl_function" href="classWTSTickData.html#a097548155cfbbf9a0a36e1ee1ce3ad38">volume</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTickData.html#ac82a4bb7bc1e9e7963d86e2c1f118d09">m_tickStruct</a>.<a class="code hl_variable" href="structWTSTickStruct.html#a7e4b6bb1e61754353e06c235563b67d7">volume</a>; }</div>
<div class="line"><a id="l01429" name="l01429"></a><span class="lineno"> 1429</span> </div>
<div class="line"><a id="l01438" name="l01438"></a><span class="lineno"><a class="line" href="classWTSTickData.html#aa707b5cad7b783f37172a5964f864e87"> 1438</a></span>    <span class="keyword">inline</span> <span class="keywordtype">double</span>   <a class="code hl_function" href="classWTSTickData.html#aa707b5cad7b783f37172a5964f864e87">settlepx</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTickData.html#ac82a4bb7bc1e9e7963d86e2c1f118d09">m_tickStruct</a>.<a class="code hl_variable" href="structWTSTickStruct.html#afc11e9090102f4c73b5a1bb2b3092e37">settle_price</a>; }</div>
<div class="line"><a id="l01439" name="l01439"></a><span class="lineno"> 1439</span> </div>
<div class="line"><a id="l01448" name="l01448"></a><span class="lineno"><a class="line" href="classWTSTickData.html#a98420f532e7ce48309769ec01287b35c"> 1448</a></span>    <span class="keyword">inline</span> <span class="keywordtype">double</span>   <a class="code hl_function" href="classWTSTickData.html#a98420f532e7ce48309769ec01287b35c">openinterest</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTickData.html#ac82a4bb7bc1e9e7963d86e2c1f118d09">m_tickStruct</a>.<a class="code hl_variable" href="structWTSTickStruct.html#a9f77ec5a68aa78149ff70544d1a5325c">open_interest</a>; }</div>
<div class="line"><a id="l01449" name="l01449"></a><span class="lineno"> 1449</span> </div>
<div class="line"><a id="l01458" name="l01458"></a><span class="lineno"><a class="line" href="classWTSTickData.html#a1b992da494166749bd65a459970b74e3"> 1458</a></span>    <span class="keyword">inline</span> <span class="keywordtype">double</span>   <a class="code hl_function" href="classWTSTickData.html#a1b992da494166749bd65a459970b74e3">additional</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTickData.html#ac82a4bb7bc1e9e7963d86e2c1f118d09">m_tickStruct</a>.<a class="code hl_variable" href="structWTSTickStruct.html#a069d6e80c64f5c2ad8f6d9bb8dafe981">diff_interest</a>; }</div>
<div class="line"><a id="l01459" name="l01459"></a><span class="lineno"> 1459</span> </div>
<div class="line"><a id="l01467" name="l01467"></a><span class="lineno"><a class="line" href="classWTSTickData.html#aa4d387e35b143f3d81af2d6101575ce1"> 1467</a></span>    <span class="keyword">inline</span> <span class="keywordtype">double</span>   <a class="code hl_function" href="classWTSTickData.html#aa4d387e35b143f3d81af2d6101575ce1">totalturnover</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTickData.html#ac82a4bb7bc1e9e7963d86e2c1f118d09">m_tickStruct</a>.<a class="code hl_variable" href="structWTSTickStruct.html#aa4b209c7af071d33f094ec48d14ac5ad">total_turnover</a>; }</div>
<div class="line"><a id="l01468" name="l01468"></a><span class="lineno"> 1468</span> </div>
<div class="line"><a id="l01476" name="l01476"></a><span class="lineno"><a class="line" href="classWTSTickData.html#a160eb9dae713ed9d0db553600d8809e1"> 1476</a></span>    <span class="keyword">inline</span> <span class="keywordtype">double</span>   <a class="code hl_function" href="classWTSTickData.html#a160eb9dae713ed9d0db553600d8809e1">turnover</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTickData.html#ac82a4bb7bc1e9e7963d86e2c1f118d09">m_tickStruct</a>.<a class="code hl_variable" href="structWTSTickStruct.html#a8bfb68c9ec83f9a82827037aa93b5b1e">turn_over</a>; }</div>
<div class="line"><a id="l01477" name="l01477"></a><span class="lineno"> 1477</span> </div>
<div class="line"><a id="l01486" name="l01486"></a><span class="lineno"><a class="line" href="classWTSTickData.html#a5928e1b4018629598f5f69f418967c0f"> 1486</a></span>    <span class="keyword">inline</span> uint32_t <a class="code hl_function" href="classWTSTickData.html#a5928e1b4018629598f5f69f418967c0f">tradingdate</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTickData.html#ac82a4bb7bc1e9e7963d86e2c1f118d09">m_tickStruct</a>.<a class="code hl_variable" href="structWTSTickStruct.html#a9fe18bba3bedd1c23830ba835cdf5fba">trading_date</a>; }</div>
<div class="line"><a id="l01487" name="l01487"></a><span class="lineno"> 1487</span> </div>
<div class="line"><a id="l01496" name="l01496"></a><span class="lineno"><a class="line" href="classWTSTickData.html#a9f8dfcc3630181284346338f2049cfb3"> 1496</a></span>    <span class="keyword">inline</span> uint32_t <a class="code hl_function" href="classWTSTickData.html#a9f8dfcc3630181284346338f2049cfb3">actiondate</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTickData.html#ac82a4bb7bc1e9e7963d86e2c1f118d09">m_tickStruct</a>.<a class="code hl_variable" href="structWTSTickStruct.html#afd2eb785cc5bfd6ca1f93375732a09ef">action_date</a>; }</div>
<div class="line"><a id="l01497" name="l01497"></a><span class="lineno"> 1497</span> </div>
<div class="line"><a id="l01506" name="l01506"></a><span class="lineno"><a class="line" href="classWTSTickData.html#a12aa24165f23c4dacd1e4f686a2f5879"> 1506</a></span>    <span class="keyword">inline</span> uint32_t <a class="code hl_function" href="classWTSTickData.html#a12aa24165f23c4dacd1e4f686a2f5879">actiontime</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTickData.html#ac82a4bb7bc1e9e7963d86e2c1f118d09">m_tickStruct</a>.<a class="code hl_variable" href="structWTSTickStruct.html#a44aea5df719841d66b883c572ecd291d">action_time</a>; }</div>
<div class="line"><a id="l01507" name="l01507"></a><span class="lineno"> 1507</span> </div>
<div class="line"><a id="l01508" name="l01508"></a><span class="lineno"> 1508</span> </div>
<div class="foldopen" id="foldopen01518" data-start="{" data-end="}">
<div class="line"><a id="l01518" name="l01518"></a><span class="lineno"><a class="line" href="classWTSTickData.html#a803d1804cb06e32d69064ecd253f1c9d"> 1518</a></span>    <span class="keyword">inline</span> <span class="keywordtype">double</span>       <a class="code hl_function" href="classWTSTickData.html#a803d1804cb06e32d69064ecd253f1c9d">bidprice</a>(<span class="keywordtype">int</span> idx)<span class="keyword"> const</span></div>
<div class="line"><a id="l01519" name="l01519"></a><span class="lineno"> 1519</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l01520" name="l01520"></a><span class="lineno"> 1520</span>        <span class="keywordflow">if</span>(idx &lt; 0 || idx &gt;= 10)  <span class="comment">// 检查档位索引是否有效</span></div>
<div class="line"><a id="l01521" name="l01521"></a><span class="lineno"> 1521</span>            <span class="keywordflow">return</span> -1;  <span class="comment">// 索引无效返回-1</span></div>
<div class="line"><a id="l01522" name="l01522"></a><span class="lineno"> 1522</span> </div>
<div class="line"><a id="l01523" name="l01523"></a><span class="lineno"> 1523</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTickData.html#ac82a4bb7bc1e9e7963d86e2c1f118d09">m_tickStruct</a>.<a class="code hl_variable" href="structWTSTickStruct.html#a92c83647dcd3d77d659bff2967480489">bid_prices</a>[idx];  <span class="comment">// 返回指定档位的委买价</span></div>
<div class="line"><a id="l01524" name="l01524"></a><span class="lineno"> 1524</span>    }</div>
</div>
<div class="line"><a id="l01525" name="l01525"></a><span class="lineno"> 1525</span> </div>
<div class="foldopen" id="foldopen01535" data-start="{" data-end="}">
<div class="line"><a id="l01535" name="l01535"></a><span class="lineno"><a class="line" href="classWTSTickData.html#a235e2995d16b634c5edd5d4a45308302"> 1535</a></span>    <span class="keyword">inline</span> <span class="keywordtype">double</span>       <a class="code hl_function" href="classWTSTickData.html#a235e2995d16b634c5edd5d4a45308302">askprice</a>(<span class="keywordtype">int</span> idx)<span class="keyword"> const</span></div>
<div class="line"><a id="l01536" name="l01536"></a><span class="lineno"> 1536</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l01537" name="l01537"></a><span class="lineno"> 1537</span>        <span class="keywordflow">if</span>(idx &lt; 0 || idx &gt;= 10)  <span class="comment">// 检查档位索引是否有效</span></div>
<div class="line"><a id="l01538" name="l01538"></a><span class="lineno"> 1538</span>            <span class="keywordflow">return</span> -1;  <span class="comment">// 索引无效返回-1</span></div>
<div class="line"><a id="l01539" name="l01539"></a><span class="lineno"> 1539</span> </div>
<div class="line"><a id="l01540" name="l01540"></a><span class="lineno"> 1540</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTickData.html#ac82a4bb7bc1e9e7963d86e2c1f118d09">m_tickStruct</a>.<a class="code hl_variable" href="structWTSTickStruct.html#aab9d98249498f3987bc114764edca24e">ask_prices</a>[idx];  <span class="comment">// 返回指定档位的委卖价</span></div>
<div class="line"><a id="l01541" name="l01541"></a><span class="lineno"> 1541</span>    }</div>
</div>
<div class="line"><a id="l01542" name="l01542"></a><span class="lineno"> 1542</span> </div>
<div class="foldopen" id="foldopen01552" data-start="{" data-end="}">
<div class="line"><a id="l01552" name="l01552"></a><span class="lineno"><a class="line" href="classWTSTickData.html#a1428afc0bb0e6d1bb01be62bc5743631"> 1552</a></span>    <span class="keyword">inline</span> <span class="keywordtype">double</span>   <a class="code hl_function" href="classWTSTickData.html#a1428afc0bb0e6d1bb01be62bc5743631">bidqty</a>(<span class="keywordtype">int</span> idx)<span class="keyword"> const</span></div>
<div class="line"><a id="l01553" name="l01553"></a><span class="lineno"> 1553</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l01554" name="l01554"></a><span class="lineno"> 1554</span>        <span class="keywordflow">if</span>(idx &lt; 0 || idx &gt;= 10)  <span class="comment">// 检查档位索引是否有效</span></div>
<div class="line"><a id="l01555" name="l01555"></a><span class="lineno"> 1555</span>            <span class="keywordflow">return</span> -1;  <span class="comment">// 索引无效返回-1</span></div>
<div class="line"><a id="l01556" name="l01556"></a><span class="lineno"> 1556</span> </div>
<div class="line"><a id="l01557" name="l01557"></a><span class="lineno"> 1557</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTickData.html#ac82a4bb7bc1e9e7963d86e2c1f118d09">m_tickStruct</a>.<a class="code hl_variable" href="structWTSTickStruct.html#a70aac8776b4932b236b58a1043002f4b">bid_qty</a>[idx];  <span class="comment">// 返回指定档位的委买量</span></div>
<div class="line"><a id="l01558" name="l01558"></a><span class="lineno"> 1558</span>    }</div>
</div>
<div class="line"><a id="l01559" name="l01559"></a><span class="lineno"> 1559</span> </div>
<div class="foldopen" id="foldopen01569" data-start="{" data-end="}">
<div class="line"><a id="l01569" name="l01569"></a><span class="lineno"><a class="line" href="classWTSTickData.html#a2c374d0964b76835c0eaf1450a488302"> 1569</a></span>    <span class="keyword">inline</span> <span class="keywordtype">double</span>   <a class="code hl_function" href="classWTSTickData.html#a2c374d0964b76835c0eaf1450a488302">askqty</a>(<span class="keywordtype">int</span> idx)<span class="keyword"> const</span></div>
<div class="line"><a id="l01570" name="l01570"></a><span class="lineno"> 1570</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l01571" name="l01571"></a><span class="lineno"> 1571</span>        <span class="keywordflow">if</span>(idx &lt; 0 || idx &gt;= 10)  <span class="comment">// 检查档位索引是否有效</span></div>
<div class="line"><a id="l01572" name="l01572"></a><span class="lineno"> 1572</span>            <span class="keywordflow">return</span> -1;  <span class="comment">// 索引无效返回-1</span></div>
<div class="line"><a id="l01573" name="l01573"></a><span class="lineno"> 1573</span> </div>
<div class="line"><a id="l01574" name="l01574"></a><span class="lineno"> 1574</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTickData.html#ac82a4bb7bc1e9e7963d86e2c1f118d09">m_tickStruct</a>.<a class="code hl_variable" href="structWTSTickStruct.html#a0c229638a3bda7a9dae9f042534b566b">ask_qty</a>[idx];  <span class="comment">// 返回指定档位的委卖量</span></div>
<div class="line"><a id="l01575" name="l01575"></a><span class="lineno"> 1575</span>    }</div>
</div>
<div class="line"><a id="l01576" name="l01576"></a><span class="lineno"> 1576</span> </div>
<div class="line"><a id="l01577" name="l01577"></a><span class="lineno"> 1577</span>    <span class="comment">/*</span></div>
<div class="line"><a id="l01578" name="l01578"></a><span class="lineno"> 1578</span><span class="comment">     *  返回tick结构体的引用</span></div>
<div class="line"><a id="l01579" name="l01579"></a><span class="lineno"> 1579</span><span class="comment">     */</span></div>
<div class="line"><a id="l01580" name="l01580"></a><span class="lineno"><a class="line" href="classWTSTickData.html#a6a81212366831e7afe3eeac41b42e7b0"> 1580</a></span>    <span class="keyword">inline</span> <a class="code hl_struct" href="structWTSTickStruct.html">WTSTickStruct</a>&amp;   <a class="code hl_function" href="classWTSTickData.html#a6a81212366831e7afe3eeac41b42e7b0">getTickStruct</a>(){ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTickData.html#ac82a4bb7bc1e9e7963d86e2c1f118d09">m_tickStruct</a>; }</div>
<div class="line"><a id="l01581" name="l01581"></a><span class="lineno"> 1581</span> </div>
<div class="line"><a id="l01590" name="l01590"></a><span class="lineno"><a class="line" href="classWTSTickData.html#a3f5ca8ee02338f1991293bb33ba0318d"> 1590</a></span>    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classWTSTickData.html#a3f5ca8ee02338f1991293bb33ba0318d">setContractInfo</a>(<a class="code hl_class" href="classWTSContractInfo.html">WTSContractInfo</a>* cInfo) { <a class="code hl_variable" href="classWTSTickData.html#a9daa83379f1d0a8275f0216cfbe68a44">m_pContract</a> = cInfo; }</div>
<div class="line"><a id="l01591" name="l01591"></a><span class="lineno"> 1591</span>    </div>
<div class="line"><a id="l01599" name="l01599"></a><span class="lineno"><a class="line" href="classWTSTickData.html#a3bf709056260520001ce36105cad50ed"> 1599</a></span>    <span class="keyword">inline</span> <a class="code hl_class" href="classWTSContractInfo.html">WTSContractInfo</a>* <a class="code hl_function" href="classWTSTickData.html#a3bf709056260520001ce36105cad50ed">getContractInfo</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTickData.html#a9daa83379f1d0a8275f0216cfbe68a44">m_pContract</a>; }</div>
<div class="line"><a id="l01600" name="l01600"></a><span class="lineno"> 1600</span> </div>
<div class="line"><a id="l01601" name="l01601"></a><span class="lineno"> 1601</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l01602" name="l01602"></a><span class="lineno"><a class="line" href="classWTSTickData.html#ac82a4bb7bc1e9e7963d86e2c1f118d09"> 1602</a></span>    <a class="code hl_struct" href="structWTSTickStruct.html">WTSTickStruct</a>       <a class="code hl_variable" href="classWTSTickData.html#ac82a4bb7bc1e9e7963d86e2c1f118d09">m_tickStruct</a>;  </div>
<div class="line"><a id="l01603" name="l01603"></a><span class="lineno"><a class="line" href="classWTSTickData.html#a9daa83379f1d0a8275f0216cfbe68a44"> 1603</a></span>    <a class="code hl_class" href="classWTSContractInfo.html">WTSContractInfo</a>*    <a class="code hl_variable" href="classWTSTickData.html#a9daa83379f1d0a8275f0216cfbe68a44">m_pContract</a>;   </div>
<div class="line"><a id="l01604" name="l01604"></a><span class="lineno"> 1604</span>};</div>
</div>
<div class="line"><a id="l01605" name="l01605"></a><span class="lineno"> 1605</span> </div>
<div class="foldopen" id="foldopen01613" data-start="{" data-end="};">
<div class="line"><a id="l01613" name="l01613"></a><span class="lineno"><a class="line" href="classWTSOrdQueData.html"> 1613</a></span><span class="keyword">class </span><a class="code hl_class" href="classWTSOrdQueData.html">WTSOrdQueData</a> : <span class="keyword">public</span> <a class="code hl_class" href="classWTSObject.html">WTSObject</a></div>
<div class="line"><a id="l01614" name="l01614"></a><span class="lineno"> 1614</span>{</div>
<div class="line"><a id="l01615" name="l01615"></a><span class="lineno"> 1615</span><span class="keyword">public</span>:</div>
<div class="foldopen" id="foldopen01625" data-start="{" data-end="}">
<div class="line"><a id="l01625" name="l01625"></a><span class="lineno"><a class="line" href="classWTSOrdQueData.html#ac2ab80a5b207680caa89f5d8ede28508"> 1625</a></span>    <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code hl_class" href="classWTSOrdQueData.html">WTSOrdQueData</a>* <a class="code hl_function" href="classWTSOrdQueData.html#ac2ab80a5b207680caa89f5d8ede28508">create</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_function" href="classWTSOrdQueData.html#a7e4145c427384335e5a7c2e7264c8ebe">code</a>)</div>
<div class="line"><a id="l01626" name="l01626"></a><span class="lineno"> 1626</span>    {</div>
<div class="line"><a id="l01627" name="l01627"></a><span class="lineno"> 1627</span>        <a class="code hl_class" href="classWTSOrdQueData.html">WTSOrdQueData</a>* pRet = <span class="keyword">new</span> <a class="code hl_class" href="classWTSOrdQueData.html">WTSOrdQueData</a>;  <span class="comment">// 创建新对象</span></div>
<div class="line"><a id="l01628" name="l01628"></a><span class="lineno"> 1628</span>        <a class="code hl_function" href="WTSMarcos_8h.html#ae3e2cd00c20ce8b9ae0ae37a089d7d5e">wt_strcpy</a>(pRet-&gt;<a class="code hl_variable" href="classWTSOrdQueData.html#a992aa82555f2265bcd43dd4381389c80">m_oqStruct</a>.<a class="code hl_variable" href="structWTSOrdQueStruct.html#a3cc2213dd8756aff6ff0e7c2d4e38039">code</a>, <a class="code hl_function" href="classWTSOrdQueData.html#a7e4145c427384335e5a7c2e7264c8ebe">code</a>);    <span class="comment">// 设置合约代码</span></div>
<div class="line"><a id="l01629" name="l01629"></a><span class="lineno"> 1629</span>        <span class="keywordflow">return</span> pRet;  <span class="comment">// 返回创建的对象</span></div>
<div class="line"><a id="l01630" name="l01630"></a><span class="lineno"> 1630</span>    }</div>
</div>
<div class="line"><a id="l01631" name="l01631"></a><span class="lineno"> 1631</span> </div>
<div class="foldopen" id="foldopen01641" data-start="{" data-end="}">
<div class="line"><a id="l01641" name="l01641"></a><span class="lineno"><a class="line" href="classWTSOrdQueData.html#a176f644cf0c4a2c6980f9e869214dc9c"> 1641</a></span>    <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code hl_class" href="classWTSOrdQueData.html">WTSOrdQueData</a>* <a class="code hl_function" href="classWTSOrdQueData.html#a176f644cf0c4a2c6980f9e869214dc9c">create</a>(<a class="code hl_struct" href="structWTSOrdQueStruct.html">WTSOrdQueStruct</a>&amp; ordQueData)</div>
<div class="line"><a id="l01642" name="l01642"></a><span class="lineno"> 1642</span>    {</div>
<div class="line"><a id="l01643" name="l01643"></a><span class="lineno"> 1643</span>        <a class="code hl_class" href="classWTSOrdQueData.html">WTSOrdQueData</a>* pRet = <span class="keyword">new</span> <a class="code hl_class" href="classWTSOrdQueData.html">WTSOrdQueData</a>;  <span class="comment">// 创建新对象</span></div>
<div class="line"><a id="l01644" name="l01644"></a><span class="lineno"> 1644</span>        memcpy(&amp;pRet-&gt;<a class="code hl_variable" href="classWTSOrdQueData.html#a992aa82555f2265bcd43dd4381389c80">m_oqStruct</a>, &amp;ordQueData, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structWTSOrdQueStruct.html">WTSOrdQueStruct</a>));  <span class="comment">// 复制结构体数据</span></div>
<div class="line"><a id="l01645" name="l01645"></a><span class="lineno"> 1645</span> </div>
<div class="line"><a id="l01646" name="l01646"></a><span class="lineno"> 1646</span>        <span class="keywordflow">return</span> pRet;  <span class="comment">// 返回创建的对象</span></div>
<div class="line"><a id="l01647" name="l01647"></a><span class="lineno"> 1647</span>    }</div>
</div>
<div class="line"><a id="l01648" name="l01648"></a><span class="lineno"> 1648</span> </div>
<div class="line"><a id="l01656" name="l01656"></a><span class="lineno"><a class="line" href="classWTSOrdQueData.html#abaf941cd05958e8b8af69284a01bd048"> 1656</a></span>    <span class="keyword">inline</span> <a class="code hl_struct" href="structWTSOrdQueStruct.html">WTSOrdQueStruct</a>&amp; <a class="code hl_function" href="classWTSOrdQueData.html#abaf941cd05958e8b8af69284a01bd048">getOrdQueStruct</a>(){<span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSOrdQueData.html#a992aa82555f2265bcd43dd4381389c80">m_oqStruct</a>;}</div>
<div class="line"><a id="l01657" name="l01657"></a><span class="lineno"> 1657</span> </div>
<div class="line"><a id="l01663" name="l01663"></a><span class="lineno"><a class="line" href="classWTSOrdQueData.html#acf63a91c15ea57bfa7936dcc45b4a49d"> 1663</a></span>    <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_function" href="classWTSOrdQueData.html#acf63a91c15ea57bfa7936dcc45b4a49d">exchg</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSOrdQueData.html#a992aa82555f2265bcd43dd4381389c80">m_oqStruct</a>.<a class="code hl_variable" href="structWTSOrdQueStruct.html#a00fb33a24a672c0b4b2adc05a4607463">exchg</a>; }</div>
<div class="line"><a id="l01664" name="l01664"></a><span class="lineno"> 1664</span>    </div>
<div class="line"><a id="l01670" name="l01670"></a><span class="lineno"><a class="line" href="classWTSOrdQueData.html#a7e4145c427384335e5a7c2e7264c8ebe"> 1670</a></span>    <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_function" href="classWTSOrdQueData.html#a7e4145c427384335e5a7c2e7264c8ebe">code</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSOrdQueData.html#a992aa82555f2265bcd43dd4381389c80">m_oqStruct</a>.<a class="code hl_variable" href="structWTSOrdQueStruct.html#a3cc2213dd8756aff6ff0e7c2d4e38039">code</a>; }</div>
<div class="line"><a id="l01671" name="l01671"></a><span class="lineno"> 1671</span>    </div>
<div class="line"><a id="l01677" name="l01677"></a><span class="lineno"><a class="line" href="classWTSOrdQueData.html#aaa8b80db76d3027670267172e1ed97b6"> 1677</a></span>    <span class="keyword">inline</span> uint32_t <a class="code hl_function" href="classWTSOrdQueData.html#aaa8b80db76d3027670267172e1ed97b6">tradingdate</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSOrdQueData.html#a992aa82555f2265bcd43dd4381389c80">m_oqStruct</a>.<a class="code hl_variable" href="structWTSOrdQueStruct.html#aff41f909ae7be5562cd95f9f1a3620f5">trading_date</a>; }</div>
<div class="line"><a id="l01678" name="l01678"></a><span class="lineno"> 1678</span>    </div>
<div class="line"><a id="l01684" name="l01684"></a><span class="lineno"><a class="line" href="classWTSOrdQueData.html#a2caf7ae36841001c3ce43c0a98e6de30"> 1684</a></span>    <span class="keyword">inline</span> uint32_t <a class="code hl_function" href="classWTSOrdQueData.html#a2caf7ae36841001c3ce43c0a98e6de30">actiondate</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSOrdQueData.html#a992aa82555f2265bcd43dd4381389c80">m_oqStruct</a>.<a class="code hl_variable" href="structWTSOrdQueStruct.html#a92acba0f3a63462e57b384e9cc02850f">action_date</a>; }</div>
<div class="line"><a id="l01685" name="l01685"></a><span class="lineno"> 1685</span>    </div>
<div class="line"><a id="l01691" name="l01691"></a><span class="lineno"><a class="line" href="classWTSOrdQueData.html#a061b046e5c45ca46eb29389416697ea1"> 1691</a></span>    <span class="keyword">inline</span> uint32_t <a class="code hl_function" href="classWTSOrdQueData.html#a061b046e5c45ca46eb29389416697ea1">actiontime</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSOrdQueData.html#a992aa82555f2265bcd43dd4381389c80">m_oqStruct</a>.<a class="code hl_variable" href="structWTSOrdQueStruct.html#af7e32210ca8a5936ab2170e04883d465">action_time</a>; }</div>
<div class="line"><a id="l01692" name="l01692"></a><span class="lineno"> 1692</span> </div>
<div class="line"><a id="l01698" name="l01698"></a><span class="lineno"><a class="line" href="classWTSOrdQueData.html#a5f917ed7e414fa0040db0a0eb67966d5"> 1698</a></span>    <span class="keyword">inline</span> <span class="keywordtype">void</span>     <a class="code hl_function" href="classWTSOrdQueData.html#a5f917ed7e414fa0040db0a0eb67966d5">setCode</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_function" href="classWTSOrdQueData.html#a7e4145c427384335e5a7c2e7264c8ebe">code</a>) { <a class="code hl_function" href="WTSMarcos_8h.html#ae3e2cd00c20ce8b9ae0ae37a089d7d5e">wt_strcpy</a>(<a class="code hl_variable" href="classWTSOrdQueData.html#a992aa82555f2265bcd43dd4381389c80">m_oqStruct</a>.<a class="code hl_variable" href="structWTSOrdQueStruct.html#a3cc2213dd8756aff6ff0e7c2d4e38039">code</a>, <a class="code hl_function" href="classWTSOrdQueData.html#a7e4145c427384335e5a7c2e7264c8ebe">code</a>); }</div>
<div class="line"><a id="l01699" name="l01699"></a><span class="lineno"> 1699</span> </div>
<div class="line"><a id="l01705" name="l01705"></a><span class="lineno"><a class="line" href="classWTSOrdQueData.html#a7b4cb7008cc68da83a07578b4ed664ed"> 1705</a></span>    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classWTSOrdQueData.html#a7b4cb7008cc68da83a07578b4ed664ed">setContractInfo</a>(<a class="code hl_class" href="classWTSContractInfo.html">WTSContractInfo</a>* cInfo) { <a class="code hl_variable" href="classWTSOrdQueData.html#a5c1d781f52431a639740d98db945547f">m_pContract</a> = cInfo; }</div>
<div class="line"><a id="l01706" name="l01706"></a><span class="lineno"> 1706</span>    </div>
<div class="line"><a id="l01712" name="l01712"></a><span class="lineno"><a class="line" href="classWTSOrdQueData.html#af23b1e131ab13d22930d73ce4f8b5a5d"> 1712</a></span>    <span class="keyword">inline</span> <a class="code hl_class" href="classWTSContractInfo.html">WTSContractInfo</a>* <a class="code hl_function" href="classWTSOrdQueData.html#af23b1e131ab13d22930d73ce4f8b5a5d">getContractInfo</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSOrdQueData.html#a5c1d781f52431a639740d98db945547f">m_pContract</a>; }</div>
<div class="line"><a id="l01713" name="l01713"></a><span class="lineno"> 1713</span> </div>
<div class="line"><a id="l01714" name="l01714"></a><span class="lineno"> 1714</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l01715" name="l01715"></a><span class="lineno"><a class="line" href="classWTSOrdQueData.html#a992aa82555f2265bcd43dd4381389c80"> 1715</a></span>    <a class="code hl_struct" href="structWTSOrdQueStruct.html">WTSOrdQueStruct</a>     <a class="code hl_variable" href="classWTSOrdQueData.html#a992aa82555f2265bcd43dd4381389c80">m_oqStruct</a>;    </div>
<div class="line"><a id="l01716" name="l01716"></a><span class="lineno"><a class="line" href="classWTSOrdQueData.html#a5c1d781f52431a639740d98db945547f"> 1716</a></span>    <a class="code hl_class" href="classWTSContractInfo.html">WTSContractInfo</a>*    <a class="code hl_variable" href="classWTSOrdQueData.html#a5c1d781f52431a639740d98db945547f">m_pContract</a>;    </div>
<div class="line"><a id="l01717" name="l01717"></a><span class="lineno"> 1717</span>};</div>
</div>
<div class="line"><a id="l01718" name="l01718"></a><span class="lineno"> 1718</span> </div>
<div class="foldopen" id="foldopen01726" data-start="{" data-end="};">
<div class="line"><a id="l01726" name="l01726"></a><span class="lineno"><a class="line" href="classWTSOrdDtlData.html"> 1726</a></span><span class="keyword">class </span><a class="code hl_class" href="classWTSOrdDtlData.html">WTSOrdDtlData</a> : <span class="keyword">public</span> <a class="code hl_class" href="classWTSObject.html">WTSObject</a></div>
<div class="line"><a id="l01727" name="l01727"></a><span class="lineno"> 1727</span>{</div>
<div class="line"><a id="l01728" name="l01728"></a><span class="lineno"> 1728</span><span class="keyword">public</span>:</div>
<div class="foldopen" id="foldopen01738" data-start="{" data-end="}">
<div class="line"><a id="l01738" name="l01738"></a><span class="lineno"><a class="line" href="classWTSOrdDtlData.html#a34d6c6a7ae526e5f11f7de8ed9f23ce5"> 1738</a></span>    <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code hl_class" href="classWTSOrdDtlData.html">WTSOrdDtlData</a>* <a class="code hl_function" href="classWTSOrdDtlData.html#a34d6c6a7ae526e5f11f7de8ed9f23ce5">create</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_function" href="classWTSOrdDtlData.html#a9c92da3169366246ee4385ea392f6103">code</a>)</div>
<div class="line"><a id="l01739" name="l01739"></a><span class="lineno"> 1739</span>    {</div>
<div class="line"><a id="l01740" name="l01740"></a><span class="lineno"> 1740</span>        <a class="code hl_class" href="classWTSOrdDtlData.html">WTSOrdDtlData</a>* pRet = <span class="keyword">new</span> <a class="code hl_class" href="classWTSOrdDtlData.html">WTSOrdDtlData</a>;  <span class="comment">// 创建新对象</span></div>
<div class="line"><a id="l01741" name="l01741"></a><span class="lineno"> 1741</span>        <a class="code hl_function" href="WTSMarcos_8h.html#ae3e2cd00c20ce8b9ae0ae37a089d7d5e">wt_strcpy</a>(pRet-&gt;<a class="code hl_variable" href="classWTSOrdDtlData.html#a680cf68a7659cb4ff25b36a211ec1af3">m_odStruct</a>.<a class="code hl_variable" href="structWTSOrdDtlStruct.html#acf86b09c926f0c44746980d58908055a">code</a>, <a class="code hl_function" href="classWTSOrdDtlData.html#a9c92da3169366246ee4385ea392f6103">code</a>);   <span class="comment">// 设置合约代码</span></div>
<div class="line"><a id="l01742" name="l01742"></a><span class="lineno"> 1742</span>        <span class="keywordflow">return</span> pRet;  <span class="comment">// 返回创建的对象</span></div>
<div class="line"><a id="l01743" name="l01743"></a><span class="lineno"> 1743</span>    }</div>
</div>
<div class="line"><a id="l01744" name="l01744"></a><span class="lineno"> 1744</span> </div>
<div class="foldopen" id="foldopen01754" data-start="{" data-end="}">
<div class="line"><a id="l01754" name="l01754"></a><span class="lineno"><a class="line" href="classWTSOrdDtlData.html#a42851834d4d602c95d8919934822170f"> 1754</a></span>    <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code hl_class" href="classWTSOrdDtlData.html">WTSOrdDtlData</a>* <a class="code hl_function" href="classWTSOrdDtlData.html#a42851834d4d602c95d8919934822170f">create</a>(<a class="code hl_struct" href="structWTSOrdDtlStruct.html">WTSOrdDtlStruct</a>&amp; odData)</div>
<div class="line"><a id="l01755" name="l01755"></a><span class="lineno"> 1755</span>    {</div>
<div class="line"><a id="l01756" name="l01756"></a><span class="lineno"> 1756</span>        <a class="code hl_class" href="classWTSOrdDtlData.html">WTSOrdDtlData</a>* pRet = <span class="keyword">new</span> <a class="code hl_class" href="classWTSOrdDtlData.html">WTSOrdDtlData</a>;  <span class="comment">// 创建新对象</span></div>
<div class="line"><a id="l01757" name="l01757"></a><span class="lineno"> 1757</span>        memcpy(&amp;pRet-&gt;<a class="code hl_variable" href="classWTSOrdDtlData.html#a680cf68a7659cb4ff25b36a211ec1af3">m_odStruct</a>, &amp;odData, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structWTSOrdDtlStruct.html">WTSOrdDtlStruct</a>));  <span class="comment">// 复制结构体数据</span></div>
<div class="line"><a id="l01758" name="l01758"></a><span class="lineno"> 1758</span> </div>
<div class="line"><a id="l01759" name="l01759"></a><span class="lineno"> 1759</span>        <span class="keywordflow">return</span> pRet;  <span class="comment">// 返回创建的对象</span></div>
<div class="line"><a id="l01760" name="l01760"></a><span class="lineno"> 1760</span>    }</div>
</div>
<div class="line"><a id="l01761" name="l01761"></a><span class="lineno"> 1761</span> </div>
<div class="line"><a id="l01769" name="l01769"></a><span class="lineno"><a class="line" href="classWTSOrdDtlData.html#a640364531f9a83935509fe31b1d263f6"> 1769</a></span>    <span class="keyword">inline</span> <a class="code hl_struct" href="structWTSOrdDtlStruct.html">WTSOrdDtlStruct</a>&amp; <a class="code hl_function" href="classWTSOrdDtlData.html#a640364531f9a83935509fe31b1d263f6">getOrdDtlStruct</a>(){ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSOrdDtlData.html#a680cf68a7659cb4ff25b36a211ec1af3">m_odStruct</a>; }</div>
<div class="line"><a id="l01770" name="l01770"></a><span class="lineno"> 1770</span> </div>
<div class="line"><a id="l01776" name="l01776"></a><span class="lineno"><a class="line" href="classWTSOrdDtlData.html#a62bcf2670e1b1f19c890f8038c283a0a"> 1776</a></span>    <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_function" href="classWTSOrdDtlData.html#a62bcf2670e1b1f19c890f8038c283a0a">exchg</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSOrdDtlData.html#a680cf68a7659cb4ff25b36a211ec1af3">m_odStruct</a>.<a class="code hl_variable" href="structWTSOrdDtlStruct.html#a9af3549be793030ed159a7a2a23147b4">exchg</a>; }</div>
<div class="line"><a id="l01777" name="l01777"></a><span class="lineno"> 1777</span>    </div>
<div class="line"><a id="l01783" name="l01783"></a><span class="lineno"><a class="line" href="classWTSOrdDtlData.html#a9c92da3169366246ee4385ea392f6103"> 1783</a></span>    <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_function" href="classWTSOrdDtlData.html#a9c92da3169366246ee4385ea392f6103">code</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSOrdDtlData.html#a680cf68a7659cb4ff25b36a211ec1af3">m_odStruct</a>.<a class="code hl_variable" href="structWTSOrdDtlStruct.html#acf86b09c926f0c44746980d58908055a">code</a>; }</div>
<div class="line"><a id="l01784" name="l01784"></a><span class="lineno"> 1784</span>    </div>
<div class="line"><a id="l01790" name="l01790"></a><span class="lineno"><a class="line" href="classWTSOrdDtlData.html#a856ab4aa8eaa266ebbb14f9c0a35c788"> 1790</a></span>    <span class="keyword">inline</span> uint32_t <a class="code hl_function" href="classWTSOrdDtlData.html#a856ab4aa8eaa266ebbb14f9c0a35c788">tradingdate</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSOrdDtlData.html#a680cf68a7659cb4ff25b36a211ec1af3">m_odStruct</a>.<a class="code hl_variable" href="structWTSOrdDtlStruct.html#ae3b85ee17c1716a7f6b44fea0a565205">trading_date</a>; }</div>
<div class="line"><a id="l01791" name="l01791"></a><span class="lineno"> 1791</span>    </div>
<div class="line"><a id="l01797" name="l01797"></a><span class="lineno"><a class="line" href="classWTSOrdDtlData.html#ac4c5e43026a8646acf4a744d6aa9ea64"> 1797</a></span>    <span class="keyword">inline</span> uint32_t <a class="code hl_function" href="classWTSOrdDtlData.html#ac4c5e43026a8646acf4a744d6aa9ea64">actiondate</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSOrdDtlData.html#a680cf68a7659cb4ff25b36a211ec1af3">m_odStruct</a>.<a class="code hl_variable" href="structWTSOrdDtlStruct.html#a21f0c672c8f3054a38b5e40623249343">action_date</a>; }</div>
<div class="line"><a id="l01798" name="l01798"></a><span class="lineno"> 1798</span>    </div>
<div class="line"><a id="l01804" name="l01804"></a><span class="lineno"><a class="line" href="classWTSOrdDtlData.html#ad5e81ae7d6e76235eccf78b3e42c1fe3"> 1804</a></span>    <span class="keyword">inline</span> uint32_t <a class="code hl_function" href="classWTSOrdDtlData.html#ad5e81ae7d6e76235eccf78b3e42c1fe3">actiontime</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSOrdDtlData.html#a680cf68a7659cb4ff25b36a211ec1af3">m_odStruct</a>.<a class="code hl_variable" href="structWTSOrdDtlStruct.html#aec01f1330133315d1209a2d38e3fa2c0">action_time</a>; }</div>
<div class="line"><a id="l01805" name="l01805"></a><span class="lineno"> 1805</span> </div>
<div class="line"><a id="l01811" name="l01811"></a><span class="lineno"><a class="line" href="classWTSOrdDtlData.html#ae3cb6635de9d879586baede74de6f50d"> 1811</a></span>    <span class="keyword">inline</span> <span class="keywordtype">void</span>     <a class="code hl_function" href="classWTSOrdDtlData.html#ae3cb6635de9d879586baede74de6f50d">setCode</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_function" href="classWTSOrdDtlData.html#a9c92da3169366246ee4385ea392f6103">code</a>) { <a class="code hl_function" href="WTSMarcos_8h.html#ae3e2cd00c20ce8b9ae0ae37a089d7d5e">wt_strcpy</a>(<a class="code hl_variable" href="classWTSOrdDtlData.html#a680cf68a7659cb4ff25b36a211ec1af3">m_odStruct</a>.<a class="code hl_variable" href="structWTSOrdDtlStruct.html#acf86b09c926f0c44746980d58908055a">code</a>, <a class="code hl_function" href="classWTSOrdDtlData.html#a9c92da3169366246ee4385ea392f6103">code</a>); }</div>
<div class="line"><a id="l01812" name="l01812"></a><span class="lineno"> 1812</span> </div>
<div class="line"><a id="l01818" name="l01818"></a><span class="lineno"><a class="line" href="classWTSOrdDtlData.html#a4cc070b26654db366a3812f0e0442fa8"> 1818</a></span>    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classWTSOrdDtlData.html#a4cc070b26654db366a3812f0e0442fa8">setContractInfo</a>(<a class="code hl_class" href="classWTSContractInfo.html">WTSContractInfo</a>* cInfo) { <a class="code hl_variable" href="classWTSOrdDtlData.html#a7c65bafd134ee71093486a6ee819619b">m_pContract</a> = cInfo; }</div>
<div class="line"><a id="l01819" name="l01819"></a><span class="lineno"> 1819</span>    </div>
<div class="line"><a id="l01825" name="l01825"></a><span class="lineno"><a class="line" href="classWTSOrdDtlData.html#a3c99826d35bff675e2ada1662403bd85"> 1825</a></span>    <span class="keyword">inline</span> <a class="code hl_class" href="classWTSContractInfo.html">WTSContractInfo</a>* <a class="code hl_function" href="classWTSOrdDtlData.html#a3c99826d35bff675e2ada1662403bd85">getContractInfo</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSOrdDtlData.html#a7c65bafd134ee71093486a6ee819619b">m_pContract</a>; }</div>
<div class="line"><a id="l01826" name="l01826"></a><span class="lineno"> 1826</span> </div>
<div class="line"><a id="l01827" name="l01827"></a><span class="lineno"> 1827</span> </div>
<div class="line"><a id="l01828" name="l01828"></a><span class="lineno"> 1828</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l01829" name="l01829"></a><span class="lineno"><a class="line" href="classWTSOrdDtlData.html#a680cf68a7659cb4ff25b36a211ec1af3"> 1829</a></span>    <a class="code hl_struct" href="structWTSOrdDtlStruct.html">WTSOrdDtlStruct</a>     <a class="code hl_variable" href="classWTSOrdDtlData.html#a680cf68a7659cb4ff25b36a211ec1af3">m_odStruct</a>;   </div>
<div class="line"><a id="l01830" name="l01830"></a><span class="lineno"><a class="line" href="classWTSOrdDtlData.html#a7c65bafd134ee71093486a6ee819619b"> 1830</a></span>    <a class="code hl_class" href="classWTSContractInfo.html">WTSContractInfo</a>*    <a class="code hl_variable" href="classWTSOrdDtlData.html#a7c65bafd134ee71093486a6ee819619b">m_pContract</a>;   </div>
<div class="line"><a id="l01831" name="l01831"></a><span class="lineno"> 1831</span>};</div>
</div>
<div class="line"><a id="l01832" name="l01832"></a><span class="lineno"> 1832</span> </div>
<div class="foldopen" id="foldopen01840" data-start="{" data-end="};">
<div class="line"><a id="l01840" name="l01840"></a><span class="lineno"><a class="line" href="classWTSTransData.html"> 1840</a></span><span class="keyword">class </span><a class="code hl_class" href="classWTSTransData.html">WTSTransData</a> : <span class="keyword">public</span> <a class="code hl_class" href="classWTSObject.html">WTSObject</a></div>
<div class="line"><a id="l01841" name="l01841"></a><span class="lineno"> 1841</span>{</div>
<div class="line"><a id="l01842" name="l01842"></a><span class="lineno"> 1842</span><span class="keyword">public</span>:</div>
<div class="foldopen" id="foldopen01852" data-start="{" data-end="}">
<div class="line"><a id="l01852" name="l01852"></a><span class="lineno"><a class="line" href="classWTSTransData.html#ab5ec005415eb54b37db3d0d9c4a646fd"> 1852</a></span>    <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code hl_class" href="classWTSTransData.html">WTSTransData</a>* <a class="code hl_function" href="classWTSTransData.html#ab5ec005415eb54b37db3d0d9c4a646fd">create</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_function" href="classWTSTransData.html#a38bb9e885bde5c1bbd534a6d06c45529">code</a>)</div>
<div class="line"><a id="l01853" name="l01853"></a><span class="lineno"> 1853</span>    {</div>
<div class="line"><a id="l01854" name="l01854"></a><span class="lineno"> 1854</span>        <a class="code hl_class" href="classWTSTransData.html">WTSTransData</a>* pRet = <span class="keyword">new</span> <a class="code hl_class" href="classWTSTransData.html">WTSTransData</a>;  <span class="comment">// 创建新对象</span></div>
<div class="line"><a id="l01855" name="l01855"></a><span class="lineno"> 1855</span>        <a class="code hl_function" href="WTSMarcos_8h.html#ae3e2cd00c20ce8b9ae0ae37a089d7d5e">wt_strcpy</a>(pRet-&gt;<a class="code hl_variable" href="classWTSTransData.html#a487c949e7459865abc239a0e511e9015">m_tsStruct</a>.<a class="code hl_variable" href="structWTSTransStruct.html#a4fc0925f7408496c5bd154551ed70e75">code</a>, <a class="code hl_function" href="classWTSTransData.html#a38bb9e885bde5c1bbd534a6d06c45529">code</a>);  <span class="comment">// 设置合约代码</span></div>
<div class="line"><a id="l01856" name="l01856"></a><span class="lineno"> 1856</span>        <span class="keywordflow">return</span> pRet;  <span class="comment">// 返回创建的对象</span></div>
<div class="line"><a id="l01857" name="l01857"></a><span class="lineno"> 1857</span>    }</div>
</div>
<div class="line"><a id="l01858" name="l01858"></a><span class="lineno"> 1858</span> </div>
<div class="foldopen" id="foldopen01868" data-start="{" data-end="}">
<div class="line"><a id="l01868" name="l01868"></a><span class="lineno"><a class="line" href="classWTSTransData.html#ad8176a17bd6d4be75cf373725a2a1b05"> 1868</a></span>    <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code hl_class" href="classWTSTransData.html">WTSTransData</a>* <a class="code hl_function" href="classWTSTransData.html#ad8176a17bd6d4be75cf373725a2a1b05">create</a>(<a class="code hl_struct" href="structWTSTransStruct.html">WTSTransStruct</a>&amp; transData)</div>
<div class="line"><a id="l01869" name="l01869"></a><span class="lineno"> 1869</span>    {</div>
<div class="line"><a id="l01870" name="l01870"></a><span class="lineno"> 1870</span>        <a class="code hl_class" href="classWTSTransData.html">WTSTransData</a>* pRet = <span class="keyword">new</span> <a class="code hl_class" href="classWTSTransData.html">WTSTransData</a>;  <span class="comment">// 创建新对象</span></div>
<div class="line"><a id="l01871" name="l01871"></a><span class="lineno"> 1871</span>        memcpy(&amp;pRet-&gt;<a class="code hl_variable" href="classWTSTransData.html#a487c949e7459865abc239a0e511e9015">m_tsStruct</a>, &amp;transData, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structWTSTransStruct.html">WTSTransStruct</a>));  <span class="comment">// 复制结构体数据</span></div>
<div class="line"><a id="l01872" name="l01872"></a><span class="lineno"> 1872</span> </div>
<div class="line"><a id="l01873" name="l01873"></a><span class="lineno"> 1873</span>        <span class="keywordflow">return</span> pRet;  <span class="comment">// 返回创建的对象</span></div>
<div class="line"><a id="l01874" name="l01874"></a><span class="lineno"> 1874</span>    }</div>
</div>
<div class="line"><a id="l01875" name="l01875"></a><span class="lineno"> 1875</span> </div>
<div class="line"><a id="l01881" name="l01881"></a><span class="lineno"><a class="line" href="classWTSTransData.html#af21f46fe4b1969e4cd8c13bd6f447daa"> 1881</a></span>    <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_function" href="classWTSTransData.html#af21f46fe4b1969e4cd8c13bd6f447daa">exchg</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTransData.html#a487c949e7459865abc239a0e511e9015">m_tsStruct</a>.<a class="code hl_variable" href="structWTSTransStruct.html#a84964b0207c065f2f4671b972720a7f2">exchg</a>; }</div>
<div class="line"><a id="l01882" name="l01882"></a><span class="lineno"> 1882</span>    </div>
<div class="line"><a id="l01888" name="l01888"></a><span class="lineno"><a class="line" href="classWTSTransData.html#a38bb9e885bde5c1bbd534a6d06c45529"> 1888</a></span>    <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_function" href="classWTSTransData.html#a38bb9e885bde5c1bbd534a6d06c45529">code</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTransData.html#a487c949e7459865abc239a0e511e9015">m_tsStruct</a>.<a class="code hl_variable" href="structWTSTransStruct.html#a4fc0925f7408496c5bd154551ed70e75">code</a>; }</div>
<div class="line"><a id="l01889" name="l01889"></a><span class="lineno"> 1889</span>    </div>
<div class="line"><a id="l01895" name="l01895"></a><span class="lineno"><a class="line" href="classWTSTransData.html#a12761836e8a85612278aab9e1cb5e93f"> 1895</a></span>    <span class="keyword">inline</span> uint32_t <a class="code hl_function" href="classWTSTransData.html#a12761836e8a85612278aab9e1cb5e93f">tradingdate</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTransData.html#a487c949e7459865abc239a0e511e9015">m_tsStruct</a>.<a class="code hl_variable" href="structWTSTransStruct.html#a6aefca0d66619e4d6d373aa1ae9be20d">trading_date</a>; }</div>
<div class="line"><a id="l01896" name="l01896"></a><span class="lineno"> 1896</span>    </div>
<div class="line"><a id="l01902" name="l01902"></a><span class="lineno"><a class="line" href="classWTSTransData.html#a7056c7dd0c572badf1de0d52099e663b"> 1902</a></span>    <span class="keyword">inline</span> uint32_t <a class="code hl_function" href="classWTSTransData.html#a7056c7dd0c572badf1de0d52099e663b">actiondate</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTransData.html#a487c949e7459865abc239a0e511e9015">m_tsStruct</a>.<a class="code hl_variable" href="structWTSTransStruct.html#aa01b54f115b30482f93bcb861469f19b">action_date</a>; }</div>
<div class="line"><a id="l01903" name="l01903"></a><span class="lineno"> 1903</span>    </div>
<div class="line"><a id="l01909" name="l01909"></a><span class="lineno"><a class="line" href="classWTSTransData.html#a151d66f7956dec0ef9a437df5a962c38"> 1909</a></span>    <span class="keyword">inline</span> uint32_t <a class="code hl_function" href="classWTSTransData.html#a151d66f7956dec0ef9a437df5a962c38">actiontime</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTransData.html#a487c949e7459865abc239a0e511e9015">m_tsStruct</a>.<a class="code hl_variable" href="structWTSTransStruct.html#a5c80b03829c404a5e0a9816e9ed5b59e">action_time</a>; }</div>
<div class="line"><a id="l01910" name="l01910"></a><span class="lineno"> 1910</span> </div>
<div class="line"><a id="l01918" name="l01918"></a><span class="lineno"><a class="line" href="classWTSTransData.html#a24a2e65bf238646f87e2cb040910dc00"> 1918</a></span>    <span class="keyword">inline</span> <a class="code hl_struct" href="structWTSTransStruct.html">WTSTransStruct</a>&amp; <a class="code hl_function" href="classWTSTransData.html#a24a2e65bf238646f87e2cb040910dc00">getTransStruct</a>(){ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTransData.html#a487c949e7459865abc239a0e511e9015">m_tsStruct</a>; }</div>
<div class="line"><a id="l01919" name="l01919"></a><span class="lineno"> 1919</span> </div>
<div class="line"><a id="l01925" name="l01925"></a><span class="lineno"><a class="line" href="classWTSTransData.html#a1ea6265980d0716bcf84d7bb526e3db6"> 1925</a></span>    <span class="keyword">inline</span> <span class="keywordtype">void</span>     <a class="code hl_function" href="classWTSTransData.html#a1ea6265980d0716bcf84d7bb526e3db6">setCode</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_function" href="classWTSTransData.html#a38bb9e885bde5c1bbd534a6d06c45529">code</a>) { <a class="code hl_function" href="WTSMarcos_8h.html#ae3e2cd00c20ce8b9ae0ae37a089d7d5e">wt_strcpy</a>(<a class="code hl_variable" href="classWTSTransData.html#a487c949e7459865abc239a0e511e9015">m_tsStruct</a>.<a class="code hl_variable" href="structWTSTransStruct.html#a4fc0925f7408496c5bd154551ed70e75">code</a>, <a class="code hl_function" href="classWTSTransData.html#a38bb9e885bde5c1bbd534a6d06c45529">code</a>); }</div>
<div class="line"><a id="l01926" name="l01926"></a><span class="lineno"> 1926</span> </div>
<div class="line"><a id="l01932" name="l01932"></a><span class="lineno"><a class="line" href="classWTSTransData.html#a5cd0029debf3cd4d7d1032fe072f4219"> 1932</a></span>    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classWTSTransData.html#a5cd0029debf3cd4d7d1032fe072f4219">setContractInfo</a>(<a class="code hl_class" href="classWTSContractInfo.html">WTSContractInfo</a>* cInfo) { <a class="code hl_variable" href="classWTSTransData.html#a18f1a8ff4955abecceaf6043c7931cfd">m_pContract</a> = cInfo; }</div>
<div class="line"><a id="l01933" name="l01933"></a><span class="lineno"> 1933</span>    </div>
<div class="line"><a id="l01939" name="l01939"></a><span class="lineno"><a class="line" href="classWTSTransData.html#a9fe75eafd82ed57032e7f92aa9dee35f"> 1939</a></span>    <span class="keyword">inline</span> <a class="code hl_class" href="classWTSContractInfo.html">WTSContractInfo</a>* <a class="code hl_function" href="classWTSTransData.html#a9fe75eafd82ed57032e7f92aa9dee35f">getContractInfo</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTransData.html#a18f1a8ff4955abecceaf6043c7931cfd">m_pContract</a>; }</div>
<div class="line"><a id="l01940" name="l01940"></a><span class="lineno"> 1940</span> </div>
<div class="line"><a id="l01941" name="l01941"></a><span class="lineno"> 1941</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l01942" name="l01942"></a><span class="lineno"><a class="line" href="classWTSTransData.html#a487c949e7459865abc239a0e511e9015"> 1942</a></span>    <a class="code hl_struct" href="structWTSTransStruct.html">WTSTransStruct</a>      <a class="code hl_variable" href="classWTSTransData.html#a487c949e7459865abc239a0e511e9015">m_tsStruct</a>;    </div>
<div class="line"><a id="l01943" name="l01943"></a><span class="lineno"><a class="line" href="classWTSTransData.html#a18f1a8ff4955abecceaf6043c7931cfd"> 1943</a></span>    <a class="code hl_class" href="classWTSContractInfo.html">WTSContractInfo</a>*    <a class="code hl_variable" href="classWTSTransData.html#a18f1a8ff4955abecceaf6043c7931cfd">m_pContract</a>;   </div>
<div class="line"><a id="l01944" name="l01944"></a><span class="lineno"> 1944</span>};</div>
</div>
<div class="line"><a id="l01945" name="l01945"></a><span class="lineno"> 1945</span> </div>
<div class="foldopen" id="foldopen01954" data-start="{" data-end="};">
<div class="line"><a id="l01954" name="l01954"></a><span class="lineno"><a class="line" href="classWTSHisTickData.html"> 1954</a></span><span class="keyword">class </span><a class="code hl_class" href="classWTSHisTickData.html">WTSHisTickData</a> : <span class="keyword">public</span> <a class="code hl_class" href="classWTSObject.html">WTSObject</a></div>
<div class="line"><a id="l01955" name="l01955"></a><span class="lineno"> 1955</span>{</div>
<div class="line"><a id="l01956" name="l01956"></a><span class="lineno"> 1956</span><span class="keyword">protected</span>:</div>
<div class="line"><a id="l01962" name="l01962"></a><span class="lineno"><a class="line" href="classWTSHisTickData.html#af2e93d46011fba1d83ee2c873c1e0c6c"> 1962</a></span>    <span class="keywordtype">char</span>                        <a class="code hl_variable" href="classWTSHisTickData.html#af2e93d46011fba1d83ee2c873c1e0c6c">m_strCode</a>[32];</div>
<div class="line"><a id="l01963" name="l01963"></a><span class="lineno"> 1963</span>    </div>
<div class="line"><a id="l01969" name="l01969"></a><span class="lineno"><a class="line" href="classWTSHisTickData.html#aefd2b14ebe4ef875f425ba69cd657734"> 1969</a></span>    std::vector&lt;WTSTickStruct&gt;  <a class="code hl_variable" href="classWTSHisTickData.html#aefd2b14ebe4ef875f425ba69cd657734">m_ayTicks</a>;</div>
<div class="line"><a id="l01970" name="l01970"></a><span class="lineno"> 1970</span>    </div>
<div class="line"><a id="l01976" name="l01976"></a><span class="lineno"><a class="line" href="classWTSHisTickData.html#ac2e52aef34127e65c6b1712452666105"> 1976</a></span>    <span class="keywordtype">bool</span>                        <a class="code hl_variable" href="classWTSHisTickData.html#ac2e52aef34127e65c6b1712452666105">m_bValidOnly</a>;</div>
<div class="line"><a id="l01977" name="l01977"></a><span class="lineno"> 1977</span>    </div>
<div class="line"><a id="l01983" name="l01983"></a><span class="lineno"><a class="line" href="classWTSHisTickData.html#ab336a2fddd26fa2eb8df16621dbc4922"> 1983</a></span>    <span class="keywordtype">double</span>                      <a class="code hl_variable" href="classWTSHisTickData.html#ab336a2fddd26fa2eb8df16621dbc4922">m_dFactor</a>;</div>
<div class="line"><a id="l01984" name="l01984"></a><span class="lineno"> 1984</span> </div>
<div class="line"><a id="l01991" name="l01991"></a><span class="lineno"><a class="line" href="classWTSHisTickData.html#a0d32c0955620476e026dc0b886c6ee3c"> 1991</a></span>    <a class="code hl_function" href="classWTSHisTickData.html#a0d32c0955620476e026dc0b886c6ee3c">WTSHisTickData</a>() :<a class="code hl_variable" href="classWTSHisTickData.html#ac2e52aef34127e65c6b1712452666105">m_bValidOnly</a>(false), <a class="code hl_variable" href="classWTSHisTickData.html#ab336a2fddd26fa2eb8df16621dbc4922">m_dFactor</a>(1.0){}</div>
<div class="line"><a id="l01992" name="l01992"></a><span class="lineno"> 1992</span> </div>
<div class="line"><a id="l01993" name="l01993"></a><span class="lineno"> 1993</span><span class="keyword">public</span>:</div>
<div class="foldopen" id="foldopen02006" data-start="{" data-end="}">
<div class="line"><a id="l02006" name="l02006"></a><span class="lineno"><a class="line" href="classWTSHisTickData.html#ad3e64605aa9877081bc8d133bc72453b"> 2006</a></span>    <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code hl_class" href="classWTSHisTickData.html">WTSHisTickData</a>* <a class="code hl_function" href="classWTSHisTickData.html#ad3e64605aa9877081bc8d133bc72453b">create</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* stdCode, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nSize = 0, <span class="keywordtype">bool</span> bValidOnly = <span class="keyword">false</span>, <span class="keywordtype">double</span> factor = 1.0)</div>
<div class="line"><a id="l02007" name="l02007"></a><span class="lineno"> 2007</span>    {</div>
<div class="line"><a id="l02008" name="l02008"></a><span class="lineno"> 2008</span>        <a class="code hl_class" href="classWTSHisTickData.html">WTSHisTickData</a> *pRet = <span class="keyword">new</span> <a class="code hl_function" href="classWTSHisTickData.html#a0d32c0955620476e026dc0b886c6ee3c">WTSHisTickData</a>;  <span class="comment">// 创建新对象</span></div>
<div class="line"><a id="l02009" name="l02009"></a><span class="lineno"> 2009</span>        <a class="code hl_function" href="WTSMarcos_8h.html#ae3e2cd00c20ce8b9ae0ae37a089d7d5e">wt_strcpy</a>(pRet-&gt;<a class="code hl_variable" href="classWTSHisTickData.html#af2e93d46011fba1d83ee2c873c1e0c6c">m_strCode</a>, stdCode);       <span class="comment">// 设置合约代码</span></div>
<div class="line"><a id="l02010" name="l02010"></a><span class="lineno"> 2010</span>        pRet-&gt;<a class="code hl_variable" href="classWTSHisTickData.html#aefd2b14ebe4ef875f425ba69cd657734">m_ayTicks</a>.resize(nSize);             <span class="comment">// 预分配容器大小</span></div>
<div class="line"><a id="l02011" name="l02011"></a><span class="lineno"> 2011</span>        pRet-&gt;<a class="code hl_variable" href="classWTSHisTickData.html#ac2e52aef34127e65c6b1712452666105">m_bValidOnly</a> = bValidOnly;           <span class="comment">// 设置是否仅包含有效数据</span></div>
<div class="line"><a id="l02012" name="l02012"></a><span class="lineno"> 2012</span>        pRet-&gt;<a class="code hl_variable" href="classWTSHisTickData.html#ab336a2fddd26fa2eb8df16621dbc4922">m_dFactor</a> = factor;                  <span class="comment">// 设置复权因子</span></div>
<div class="line"><a id="l02013" name="l02013"></a><span class="lineno"> 2013</span> </div>
<div class="line"><a id="l02014" name="l02014"></a><span class="lineno"> 2014</span>        <span class="keywordflow">return</span> pRet;  <span class="comment">// 返回创建的对象</span></div>
<div class="line"><a id="l02015" name="l02015"></a><span class="lineno"> 2015</span>    }</div>
</div>
<div class="line"><a id="l02016" name="l02016"></a><span class="lineno"> 2016</span> </div>
<div class="foldopen" id="foldopen02028" data-start="{" data-end="}">
<div class="line"><a id="l02028" name="l02028"></a><span class="lineno"><a class="line" href="classWTSHisTickData.html#a33936cffa3a44e47d7e5a3262a8c9e24"> 2028</a></span>    <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code hl_class" href="classWTSHisTickData.html">WTSHisTickData</a>* <a class="code hl_function" href="classWTSHisTickData.html#a33936cffa3a44e47d7e5a3262a8c9e24">create</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* stdCode, <span class="keywordtype">bool</span> bValidOnly = <span class="keyword">false</span>, <span class="keywordtype">double</span> factor = 1.0)</div>
<div class="line"><a id="l02029" name="l02029"></a><span class="lineno"> 2029</span>    {</div>
<div class="line"><a id="l02030" name="l02030"></a><span class="lineno"> 2030</span>        <a class="code hl_class" href="classWTSHisTickData.html">WTSHisTickData</a> *pRet = <span class="keyword">new</span> <a class="code hl_function" href="classWTSHisTickData.html#a0d32c0955620476e026dc0b886c6ee3c">WTSHisTickData</a>;  <span class="comment">// 创建新对象</span></div>
<div class="line"><a id="l02031" name="l02031"></a><span class="lineno"> 2031</span>        <a class="code hl_function" href="WTSMarcos_8h.html#ae3e2cd00c20ce8b9ae0ae37a089d7d5e">wt_strcpy</a>(pRet-&gt;<a class="code hl_variable" href="classWTSHisTickData.html#af2e93d46011fba1d83ee2c873c1e0c6c">m_strCode</a>, stdCode);       <span class="comment">// 设置合约代码</span></div>
<div class="line"><a id="l02032" name="l02032"></a><span class="lineno"> 2032</span>        pRet-&gt;<a class="code hl_variable" href="classWTSHisTickData.html#ac2e52aef34127e65c6b1712452666105">m_bValidOnly</a> = bValidOnly;           <span class="comment">// 设置是否仅包含有效数据</span></div>
<div class="line"><a id="l02033" name="l02033"></a><span class="lineno"> 2033</span>        pRet-&gt;<a class="code hl_variable" href="classWTSHisTickData.html#ab336a2fddd26fa2eb8df16621dbc4922">m_dFactor</a> = factor;                  <span class="comment">// 设置复权因子</span></div>
<div class="line"><a id="l02034" name="l02034"></a><span class="lineno"> 2034</span> </div>
<div class="line"><a id="l02035" name="l02035"></a><span class="lineno"> 2035</span>        <span class="keywordflow">return</span> pRet;  <span class="comment">// 返回创建的对象</span></div>
<div class="line"><a id="l02036" name="l02036"></a><span class="lineno"> 2036</span>    }</div>
</div>
<div class="line"><a id="l02037" name="l02037"></a><span class="lineno"> 2037</span> </div>
<div class="line"><a id="l02045" name="l02045"></a><span class="lineno"><a class="line" href="classWTSHisTickData.html#aadabb1bfaa19748389f96bda917a7ce8"> 2045</a></span>    <span class="keyword">inline</span> uint32_t <a class="code hl_function" href="classWTSHisTickData.html#aadabb1bfaa19748389f96bda917a7ce8">size</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSHisTickData.html#aefd2b14ebe4ef875f425ba69cd657734">m_ayTicks</a>.size(); }</div>
<div class="line"><a id="l02046" name="l02046"></a><span class="lineno"> 2046</span>    </div>
<div class="line"><a id="l02054" name="l02054"></a><span class="lineno"><a class="line" href="classWTSHisTickData.html#a61c6d725c1ca12b01d415caa6b2534d6"> 2054</a></span>    <span class="keyword">inline</span> <span class="keywordtype">bool</span>     <a class="code hl_function" href="classWTSHisTickData.html#a61c6d725c1ca12b01d415caa6b2534d6">empty</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSHisTickData.html#aefd2b14ebe4ef875f425ba69cd657734">m_ayTicks</a>.empty(); }</div>
<div class="line"><a id="l02055" name="l02055"></a><span class="lineno"> 2055</span> </div>
<div class="line"><a id="l02063" name="l02063"></a><span class="lineno"><a class="line" href="classWTSHisTickData.html#aae2824712642b696bcb703a438b75708"> 2063</a></span>    <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span>*      <a class="code hl_function" href="classWTSHisTickData.html#aae2824712642b696bcb703a438b75708">code</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSHisTickData.html#af2e93d46011fba1d83ee2c873c1e0c6c">m_strCode</a>; }</div>
<div class="line"><a id="l02064" name="l02064"></a><span class="lineno"> 2064</span> </div>
<div class="foldopen" id="foldopen02073" data-start="{" data-end="}">
<div class="line"><a id="l02073" name="l02073"></a><span class="lineno"><a class="line" href="classWTSHisTickData.html#a651b6ceb5c74b784f24b22c12a3f9fdb"> 2073</a></span>    <span class="keyword">inline</span> <a class="code hl_struct" href="structWTSTickStruct.html">WTSTickStruct</a>*   <a class="code hl_function" href="classWTSHisTickData.html#a651b6ceb5c74b784f24b22c12a3f9fdb">at</a>(uint32_t idx)</div>
<div class="line"><a id="l02074" name="l02074"></a><span class="lineno"> 2074</span>    {</div>
<div class="line"><a id="l02075" name="l02075"></a><span class="lineno"> 2075</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classWTSHisTickData.html#aefd2b14ebe4ef875f425ba69cd657734">m_ayTicks</a>.empty() || idx &gt;= <a class="code hl_variable" href="classWTSHisTickData.html#aefd2b14ebe4ef875f425ba69cd657734">m_ayTicks</a>.size())  <span class="comment">// 检查索引是否有效</span></div>
<div class="line"><a id="l02076" name="l02076"></a><span class="lineno"> 2076</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;  <span class="comment">// 无效索引返回NULL</span></div>
<div class="line"><a id="l02077" name="l02077"></a><span class="lineno"> 2077</span> </div>
<div class="line"><a id="l02078" name="l02078"></a><span class="lineno"> 2078</span>        <span class="keywordflow">return</span> &amp;<a class="code hl_variable" href="classWTSHisTickData.html#aefd2b14ebe4ef875f425ba69cd657734">m_ayTicks</a>[idx];  <span class="comment">// 返回指定位置的Tick数据指针</span></div>
<div class="line"><a id="l02079" name="l02079"></a><span class="lineno"> 2079</span>    }</div>
</div>
<div class="line"><a id="l02080" name="l02080"></a><span class="lineno"> 2080</span> </div>
<div class="line"><a id="l02089" name="l02089"></a><span class="lineno"><a class="line" href="classWTSHisTickData.html#a20365050de927f885a98f4e7b991d347"> 2089</a></span>    <span class="keyword">inline</span> std::vector&lt;WTSTickStruct&gt;&amp; <a class="code hl_function" href="classWTSHisTickData.html#a20365050de927f885a98f4e7b991d347">getDataRef</a>() { <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSHisTickData.html#aefd2b14ebe4ef875f425ba69cd657734">m_ayTicks</a>; }</div>
<div class="line"><a id="l02090" name="l02090"></a><span class="lineno"> 2090</span> </div>
<div class="line"><a id="l02098" name="l02098"></a><span class="lineno"><a class="line" href="classWTSHisTickData.html#aa3b8c04eebd78124cf13d24b31fc09f9"> 2098</a></span>    <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="classWTSHisTickData.html#aa3b8c04eebd78124cf13d24b31fc09f9">isValidOnly</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSHisTickData.html#ac2e52aef34127e65c6b1712452666105">m_bValidOnly</a>; }</div>
<div class="line"><a id="l02099" name="l02099"></a><span class="lineno"> 2099</span> </div>
<div class="foldopen" id="foldopen02108" data-start="{" data-end="}">
<div class="line"><a id="l02108" name="l02108"></a><span class="lineno"><a class="line" href="classWTSHisTickData.html#a826a25a2d3e5370b43b0d261ca51ce26"> 2108</a></span>    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classWTSHisTickData.html#a826a25a2d3e5370b43b0d261ca51ce26">appendTick</a>(<span class="keyword">const</span> <a class="code hl_struct" href="structWTSTickStruct.html">WTSTickStruct</a>&amp; ts)</div>
<div class="line"><a id="l02109" name="l02109"></a><span class="lineno"> 2109</span>    {</div>
<div class="line"><a id="l02110" name="l02110"></a><span class="lineno"> 2110</span>        <a class="code hl_variable" href="classWTSHisTickData.html#aefd2b14ebe4ef875f425ba69cd657734">m_ayTicks</a>.emplace_back(ts);  <span class="comment">// 添加新的Tick数据</span></div>
<div class="line"><a id="l02111" name="l02111"></a><span class="lineno"> 2111</span>        <span class="comment">// 复权修正，根据复权因子对价格数据进行调整</span></div>
<div class="line"><a id="l02112" name="l02112"></a><span class="lineno"> 2112</span>        <a class="code hl_variable" href="classWTSHisTickData.html#aefd2b14ebe4ef875f425ba69cd657734">m_ayTicks</a>.back().price *= <a class="code hl_variable" href="classWTSHisTickData.html#ab336a2fddd26fa2eb8df16621dbc4922">m_dFactor</a>;  <span class="comment">// 调整最新成交价</span></div>
<div class="line"><a id="l02113" name="l02113"></a><span class="lineno"> 2113</span>        <a class="code hl_variable" href="classWTSHisTickData.html#aefd2b14ebe4ef875f425ba69cd657734">m_ayTicks</a>.back().open *= <a class="code hl_variable" href="classWTSHisTickData.html#ab336a2fddd26fa2eb8df16621dbc4922">m_dFactor</a>;   <span class="comment">// 调整开盘价</span></div>
<div class="line"><a id="l02114" name="l02114"></a><span class="lineno"> 2114</span>        <a class="code hl_variable" href="classWTSHisTickData.html#aefd2b14ebe4ef875f425ba69cd657734">m_ayTicks</a>.back().high *= <a class="code hl_variable" href="classWTSHisTickData.html#ab336a2fddd26fa2eb8df16621dbc4922">m_dFactor</a>;   <span class="comment">// 调整最高价</span></div>
<div class="line"><a id="l02115" name="l02115"></a><span class="lineno"> 2115</span>        <a class="code hl_variable" href="classWTSHisTickData.html#aefd2b14ebe4ef875f425ba69cd657734">m_ayTicks</a>.back().low *= <a class="code hl_variable" href="classWTSHisTickData.html#ab336a2fddd26fa2eb8df16621dbc4922">m_dFactor</a>;    <span class="comment">// 调整最低价</span></div>
<div class="line"><a id="l02116" name="l02116"></a><span class="lineno"> 2116</span>    }</div>
</div>
<div class="line"><a id="l02117" name="l02117"></a><span class="lineno"> 2117</span>};</div>
</div>
<div class="line"><a id="l02118" name="l02118"></a><span class="lineno"> 2118</span> </div>
<div class="line"><a id="l02120" name="l02120"></a><span class="lineno"> 2120</span> </div>
<div class="foldopen" id="foldopen02128" data-start="{" data-end="};">
<div class="line"><a id="l02128" name="l02128"></a><span class="lineno"><a class="line" href="classWTSTickSlice.html"> 2128</a></span><span class="keyword">class </span><a class="code hl_class" href="classWTSTickSlice.html">WTSTickSlice</a> : <span class="keyword">public</span> <a class="code hl_class" href="classWTSObject.html">WTSObject</a></div>
<div class="line"><a id="l02129" name="l02129"></a><span class="lineno"> 2129</span>{</div>
<div class="line"><a id="l02130" name="l02130"></a><span class="lineno"> 2130</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l02131" name="l02131"></a><span class="lineno"><a class="line" href="classWTSTickSlice.html#a041efae74e35425bc59a88f5825eb4ce"> 2131</a></span>    <span class="keywordtype">char</span>            <a class="code hl_variable" href="classWTSTickSlice.html#a041efae74e35425bc59a88f5825eb4ce">_code</a>[<a class="code hl_define" href="WTSMarcos_8h.html#a43110534aa06a6d801f0f875c3cf4f1c">MAX_INSTRUMENT_LENGTH</a>];       </div>
<div class="line"><a id="l02132" name="l02132"></a><span class="lineno"><a class="line" href="classWTSTickSlice.html#a9a28352060b9902b703f21ff7b13cbdf"> 2132</a></span>    <span class="keyword">typedef</span> std::pair&lt;WTSTickStruct*, uint32_t&gt; <a class="code hl_typedef" href="classWTSTickSlice.html#a9a28352060b9902b703f21ff7b13cbdf">TickBlock</a>;  </div>
<div class="line"><a id="l02133" name="l02133"></a><span class="lineno"><a class="line" href="classWTSTickSlice.html#a88afb2856baafc6cb6489c0635e2755a"> 2133</a></span>    std::vector&lt;TickBlock&gt; <a class="code hl_variable" href="classWTSTickSlice.html#a88afb2856baafc6cb6489c0635e2755a">_blocks</a>;              </div>
<div class="line"><a id="l02134" name="l02134"></a><span class="lineno"><a class="line" href="classWTSTickSlice.html#aa6c19545ddbfb03086746091b561a215"> 2134</a></span>    uint32_t        <a class="code hl_variable" href="classWTSTickSlice.html#aa6c19545ddbfb03086746091b561a215">_count</a>;                      </div>
<div class="line"><a id="l02135" name="l02135"></a><span class="lineno"> 2135</span> </div>
<div class="line"><a id="l02136" name="l02136"></a><span class="lineno"> 2136</span><span class="keyword">protected</span>:</div>
<div class="line"><a id="l02143" name="l02143"></a><span class="lineno"><a class="line" href="classWTSTickSlice.html#a7426669576bd00d43dd559a341e95d24"> 2143</a></span>    <a class="code hl_function" href="classWTSTickSlice.html#a7426669576bd00d43dd559a341e95d24">WTSTickSlice</a>() { <a class="code hl_variable" href="classWTSTickSlice.html#a88afb2856baafc6cb6489c0635e2755a">_blocks</a>.clear(); }</div>
<div class="line"><a id="l02144" name="l02144"></a><span class="lineno"> 2144</span>    </div>
<div class="foldopen" id="foldopen02155" data-start="{" data-end="}">
<div class="line"><a id="l02155" name="l02155"></a><span class="lineno"><a class="line" href="classWTSTickSlice.html#a4251785d57088666f5a73f0d940b291b"> 2155</a></span>    <span class="keyword">inline</span> int32_t      <a class="code hl_function" href="classWTSTickSlice.html#a4251785d57088666f5a73f0d940b291b">translateIdx</a>(int32_t idx)<span class="keyword"> const</span></div>
<div class="line"><a id="l02156" name="l02156"></a><span class="lineno"> 2156</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l02157" name="l02157"></a><span class="lineno"> 2157</span>        <span class="keywordflow">if</span> (idx &lt; 0)  <span class="comment">// 如果是负数索引</span></div>
<div class="line"><a id="l02158" name="l02158"></a><span class="lineno"> 2158</span>        {</div>
<div class="line"><a id="l02159" name="l02159"></a><span class="lineno"> 2159</span>            <span class="keywordflow">return</span> max(0, (int32_t)<a class="code hl_variable" href="classWTSTickSlice.html#aa6c19545ddbfb03086746091b561a215">_count</a> + idx);  <span class="comment">// 计算从末尾开始的位置，并确保不小于0</span></div>
<div class="line"><a id="l02160" name="l02160"></a><span class="lineno"> 2160</span>        }</div>
<div class="line"><a id="l02161" name="l02161"></a><span class="lineno"> 2161</span> </div>
<div class="line"><a id="l02162" name="l02162"></a><span class="lineno"> 2162</span>        <span class="keywordflow">return</span> idx;  <span class="comment">// 正数索引直接返回</span></div>
<div class="line"><a id="l02163" name="l02163"></a><span class="lineno"> 2163</span>    }</div>
</div>
<div class="line"><a id="l02164" name="l02164"></a><span class="lineno"> 2164</span> </div>
<div class="line"><a id="l02165" name="l02165"></a><span class="lineno"> 2165</span><span class="keyword">public</span>:</div>
<div class="foldopen" id="foldopen02177" data-start="{" data-end="}">
<div class="line"><a id="l02177" name="l02177"></a><span class="lineno"><a class="line" href="classWTSTickSlice.html#a370515e4189bc4bb6c69b17375704878"> 2177</a></span>    <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code hl_class" href="classWTSTickSlice.html">WTSTickSlice</a>* <a class="code hl_function" href="classWTSTickSlice.html#a370515e4189bc4bb6c69b17375704878">create</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* code, <a class="code hl_struct" href="structWTSTickStruct.html">WTSTickStruct</a>* ticks = <a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, uint32_t count = 0)</div>
<div class="line"><a id="l02178" name="l02178"></a><span class="lineno"> 2178</span>    {</div>
<div class="line"><a id="l02179" name="l02179"></a><span class="lineno"> 2179</span>        <span class="comment">//if (ticks == NULL || count == 0)  // 注释掉的代码，允许创建空切片</span></div>
<div class="line"><a id="l02180" name="l02180"></a><span class="lineno"> 2180</span>        <span class="comment">//  return NULL;</span></div>
<div class="line"><a id="l02181" name="l02181"></a><span class="lineno"> 2181</span> </div>
<div class="line"><a id="l02182" name="l02182"></a><span class="lineno"> 2182</span>        <a class="code hl_class" href="classWTSTickSlice.html">WTSTickSlice</a>* slice = <span class="keyword">new</span> <a class="code hl_function" href="classWTSTickSlice.html#a7426669576bd00d43dd559a341e95d24">WTSTickSlice</a>();  <span class="comment">// 创建新对象</span></div>
<div class="line"><a id="l02183" name="l02183"></a><span class="lineno"> 2183</span>        <a class="code hl_function" href="WTSMarcos_8h.html#ae3e2cd00c20ce8b9ae0ae37a089d7d5e">wt_strcpy</a>(slice-&gt;<a class="code hl_variable" href="classWTSTickSlice.html#a041efae74e35425bc59a88f5825eb4ce">_code</a>, code);             <span class="comment">// 设置合约代码</span></div>
<div class="line"><a id="l02184" name="l02184"></a><span class="lineno"> 2184</span>        <span class="keywordflow">if</span>(ticks != <a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)  <span class="comment">// 如果提供了数据，添加到切片中</span></div>
<div class="line"><a id="l02185" name="l02185"></a><span class="lineno"> 2185</span>        {</div>
<div class="line"><a id="l02186" name="l02186"></a><span class="lineno"> 2186</span>            slice-&gt;<a class="code hl_variable" href="classWTSTickSlice.html#a88afb2856baafc6cb6489c0635e2755a">_blocks</a>.emplace_back(<a class="code hl_typedef" href="classWTSTickSlice.html#a9a28352060b9902b703f21ff7b13cbdf">TickBlock</a>(ticks, count));  <span class="comment">// 添加数据块</span></div>
<div class="line"><a id="l02187" name="l02187"></a><span class="lineno"> 2187</span>            slice-&gt;<a class="code hl_variable" href="classWTSTickSlice.html#aa6c19545ddbfb03086746091b561a215">_count</a> = count;  <span class="comment">// 设置总数据数量</span></div>
<div class="line"><a id="l02188" name="l02188"></a><span class="lineno"> 2188</span>        }</div>
<div class="line"><a id="l02189" name="l02189"></a><span class="lineno"> 2189</span> </div>
<div class="line"><a id="l02190" name="l02190"></a><span class="lineno"> 2190</span>        <span class="keywordflow">return</span> slice;  <span class="comment">// 返回创建的对象</span></div>
<div class="line"><a id="l02191" name="l02191"></a><span class="lineno"> 2191</span>    }</div>
</div>
<div class="line"><a id="l02192" name="l02192"></a><span class="lineno"> 2192</span> </div>
<div class="foldopen" id="foldopen02203" data-start="{" data-end="}">
<div class="line"><a id="l02203" name="l02203"></a><span class="lineno"><a class="line" href="classWTSTickSlice.html#ad560e8ad28a36313db005268c0c9cc33"> 2203</a></span>    <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="classWTSTickSlice.html#ad560e8ad28a36313db005268c0c9cc33">appendBlock</a>(<a class="code hl_struct" href="structWTSTickStruct.html">WTSTickStruct</a>* ticks, uint32_t count)</div>
<div class="line"><a id="l02204" name="l02204"></a><span class="lineno"> 2204</span>    {</div>
<div class="line"><a id="l02205" name="l02205"></a><span class="lineno"> 2205</span>        <span class="keywordflow">if</span> (ticks == <a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || count == 0)  <span class="comment">// 检查参数是否有效</span></div>
<div class="line"><a id="l02206" name="l02206"></a><span class="lineno"> 2206</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;  <span class="comment">// 无效参数，返回false</span></div>
<div class="line"><a id="l02207" name="l02207"></a><span class="lineno"> 2207</span> </div>
<div class="line"><a id="l02208" name="l02208"></a><span class="lineno"> 2208</span>        <a class="code hl_variable" href="classWTSTickSlice.html#aa6c19545ddbfb03086746091b561a215">_count</a> += count;  <span class="comment">// 增加总数据数量</span></div>
<div class="line"><a id="l02209" name="l02209"></a><span class="lineno"> 2209</span>        <a class="code hl_variable" href="classWTSTickSlice.html#a88afb2856baafc6cb6489c0635e2755a">_blocks</a>.emplace_back(<a class="code hl_typedef" href="classWTSTickSlice.html#a9a28352060b9902b703f21ff7b13cbdf">TickBlock</a>(ticks, count));  <span class="comment">// 添加数据块到容器尾部</span></div>
<div class="line"><a id="l02210" name="l02210"></a><span class="lineno"> 2210</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;  <span class="comment">// 添加成功</span></div>
<div class="line"><a id="l02211" name="l02211"></a><span class="lineno"> 2211</span>    }</div>
</div>
<div class="line"><a id="l02212" name="l02212"></a><span class="lineno"> 2212</span> </div>
<div class="foldopen" id="foldopen02224" data-start="{" data-end="}">
<div class="line"><a id="l02224" name="l02224"></a><span class="lineno"><a class="line" href="classWTSTickSlice.html#aabec8f40810003509e78ec01b3b7d8dd"> 2224</a></span>    <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="classWTSTickSlice.html#aabec8f40810003509e78ec01b3b7d8dd">insertBlock</a>(std::size_t idx, <a class="code hl_struct" href="structWTSTickStruct.html">WTSTickStruct</a>* ticks, uint32_t count)</div>
<div class="line"><a id="l02225" name="l02225"></a><span class="lineno"> 2225</span>    {</div>
<div class="line"><a id="l02226" name="l02226"></a><span class="lineno"> 2226</span>        <span class="keywordflow">if</span> (ticks == <a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || count == 0)  <span class="comment">// 检查参数是否有效</span></div>
<div class="line"><a id="l02227" name="l02227"></a><span class="lineno"> 2227</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;  <span class="comment">// 无效参数，返回false</span></div>
<div class="line"><a id="l02228" name="l02228"></a><span class="lineno"> 2228</span> </div>
<div class="line"><a id="l02229" name="l02229"></a><span class="lineno"> 2229</span>        <a class="code hl_variable" href="classWTSTickSlice.html#aa6c19545ddbfb03086746091b561a215">_count</a> += count;  <span class="comment">// 增加总数据数量</span></div>
<div class="line"><a id="l02230" name="l02230"></a><span class="lineno"> 2230</span>        <a class="code hl_variable" href="classWTSTickSlice.html#a88afb2856baafc6cb6489c0635e2755a">_blocks</a>.insert(<a class="code hl_variable" href="classWTSTickSlice.html#a88afb2856baafc6cb6489c0635e2755a">_blocks</a>.begin()+idx, <a class="code hl_typedef" href="classWTSTickSlice.html#a9a28352060b9902b703f21ff7b13cbdf">TickBlock</a>(ticks, count));  <span class="comment">// 在指定位置插入数据块</span></div>
<div class="line"><a id="l02231" name="l02231"></a><span class="lineno"> 2231</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;  <span class="comment">// 插入成功</span></div>
<div class="line"><a id="l02232" name="l02232"></a><span class="lineno"> 2232</span>    }</div>
</div>
<div class="line"><a id="l02233" name="l02233"></a><span class="lineno"> 2233</span> </div>
<div class="foldopen" id="foldopen02241" data-start="{" data-end="}">
<div class="line"><a id="l02241" name="l02241"></a><span class="lineno"><a class="line" href="classWTSTickSlice.html#a926a036c5939d799ab46390c4542bbde"> 2241</a></span>    <span class="keyword">inline</span> std::size_t  <a class="code hl_function" href="classWTSTickSlice.html#a926a036c5939d799ab46390c4542bbde">get_block_counts</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l02242" name="l02242"></a><span class="lineno"> 2242</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l02243" name="l02243"></a><span class="lineno"> 2243</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTickSlice.html#a88afb2856baafc6cb6489c0635e2755a">_blocks</a>.size();  <span class="comment">// 返回数据块容器的大小</span></div>
<div class="line"><a id="l02244" name="l02244"></a><span class="lineno"> 2244</span>    }</div>
</div>
<div class="line"><a id="l02245" name="l02245"></a><span class="lineno"> 2245</span> </div>
<div class="foldopen" id="foldopen02254" data-start="{" data-end="}">
<div class="line"><a id="l02254" name="l02254"></a><span class="lineno"><a class="line" href="classWTSTickSlice.html#a521a6dc789392a657c5e12a560e16a4f"> 2254</a></span>    <span class="keyword">inline</span> <a class="code hl_struct" href="structWTSTickStruct.html">WTSTickStruct</a>*   <a class="code hl_function" href="classWTSTickSlice.html#a521a6dc789392a657c5e12a560e16a4f">get_block_addr</a>(std::size_t blkIdx)</div>
<div class="line"><a id="l02255" name="l02255"></a><span class="lineno"> 2255</span>    {</div>
<div class="line"><a id="l02256" name="l02256"></a><span class="lineno"> 2256</span>        <span class="keywordflow">if</span> (blkIdx &gt;= <a class="code hl_variable" href="classWTSTickSlice.html#a88afb2856baafc6cb6489c0635e2755a">_blocks</a>.size())  <span class="comment">// 检查索引是否有效</span></div>
<div class="line"><a id="l02257" name="l02257"></a><span class="lineno"> 2257</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;  <span class="comment">// 无效索引返回NULL</span></div>
<div class="line"><a id="l02258" name="l02258"></a><span class="lineno"> 2258</span> </div>
<div class="line"><a id="l02259" name="l02259"></a><span class="lineno"> 2259</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTickSlice.html#a88afb2856baafc6cb6489c0635e2755a">_blocks</a>[blkIdx].first;  <span class="comment">// 返回指定数据块的内存地址</span></div>
<div class="line"><a id="l02260" name="l02260"></a><span class="lineno"> 2260</span>    }</div>
</div>
<div class="line"><a id="l02261" name="l02261"></a><span class="lineno"> 2261</span> </div>
<div class="foldopen" id="foldopen02270" data-start="{" data-end="}">
<div class="line"><a id="l02270" name="l02270"></a><span class="lineno"><a class="line" href="classWTSTickSlice.html#a80e65a26a9722f492cc5a525af2e12dc"> 2270</a></span>    <span class="keyword">inline</span> uint32_t <a class="code hl_function" href="classWTSTickSlice.html#a80e65a26a9722f492cc5a525af2e12dc">get_block_size</a>(std::size_t blkIdx)</div>
<div class="line"><a id="l02271" name="l02271"></a><span class="lineno"> 2271</span>    {</div>
<div class="line"><a id="l02272" name="l02272"></a><span class="lineno"> 2272</span>        <span class="keywordflow">if</span> (blkIdx &gt;= <a class="code hl_variable" href="classWTSTickSlice.html#a88afb2856baafc6cb6489c0635e2755a">_blocks</a>.size())  <span class="comment">// 检查索引是否有效</span></div>
<div class="line"><a id="l02273" name="l02273"></a><span class="lineno"> 2273</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="WTSMarcos_8h.html#ab58070d1c518278febd8f11f08c7bd24">INVALID_UINT32</a>;  <span class="comment">// 无效索引返回INVALID_UINT32</span></div>
<div class="line"><a id="l02274" name="l02274"></a><span class="lineno"> 2274</span> </div>
<div class="line"><a id="l02275" name="l02275"></a><span class="lineno"> 2275</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTickSlice.html#a88afb2856baafc6cb6489c0635e2755a">_blocks</a>[blkIdx].second;  <span class="comment">// 返回指定数据块的大小</span></div>
<div class="line"><a id="l02276" name="l02276"></a><span class="lineno"> 2276</span>    }</div>
</div>
<div class="line"><a id="l02277" name="l02277"></a><span class="lineno"> 2277</span> </div>
<div class="line"><a id="l02285" name="l02285"></a><span class="lineno"><a class="line" href="classWTSTickSlice.html#aefe68c93c7a904a1daec29f2f10f6ea1"> 2285</a></span>    <span class="keyword">inline</span> uint32_t <a class="code hl_function" href="classWTSTickSlice.html#aefe68c93c7a904a1daec29f2f10f6ea1">size</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTickSlice.html#aa6c19545ddbfb03086746091b561a215">_count</a>; }</div>
<div class="line"><a id="l02286" name="l02286"></a><span class="lineno"> 2286</span> </div>
<div class="line"><a id="l02294" name="l02294"></a><span class="lineno"><a class="line" href="classWTSTickSlice.html#ae78e2f20a6c992d8377d73288c815d7e"> 2294</a></span>    <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="classWTSTickSlice.html#ae78e2f20a6c992d8377d73288c815d7e">empty</a>()<span class="keyword"> const</span>{ <span class="keywordflow">return</span> (<a class="code hl_variable" href="classWTSTickSlice.html#aa6c19545ddbfb03086746091b561a215">_count</a> == 0); }</div>
<div class="line"><a id="l02295" name="l02295"></a><span class="lineno"> 2295</span> </div>
<div class="foldopen" id="foldopen02306" data-start="{" data-end="}">
<div class="line"><a id="l02306" name="l02306"></a><span class="lineno"><a class="line" href="classWTSTickSlice.html#a9b0625a04807a326a0e9016945579f7a"> 2306</a></span>    <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code hl_struct" href="structWTSTickStruct.html">WTSTickStruct</a>* <a class="code hl_function" href="classWTSTickSlice.html#a9b0625a04807a326a0e9016945579f7a">at</a>(int32_t idx)</div>
<div class="line"><a id="l02307" name="l02307"></a><span class="lineno"> 2307</span>    {</div>
<div class="line"><a id="l02308" name="l02308"></a><span class="lineno"> 2308</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classWTSTickSlice.html#aa6c19545ddbfb03086746091b561a215">_count</a> == 0)  <span class="comment">// 如果切片为空</span></div>
<div class="line"><a id="l02309" name="l02309"></a><span class="lineno"> 2309</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;  <span class="comment">// 直接返回NULL</span></div>
<div class="line"><a id="l02310" name="l02310"></a><span class="lineno"> 2310</span> </div>
<div class="line"><a id="l02311" name="l02311"></a><span class="lineno"> 2311</span>        idx = <a class="code hl_function" href="classWTSTickSlice.html#a4251785d57088666f5a73f0d940b291b">translateIdx</a>(idx);  <span class="comment">// 将索引转换为适当的正向索引</span></div>
<div class="line"><a id="l02312" name="l02312"></a><span class="lineno"> 2312</span>        <span class="keywordflow">do</span> </div>
<div class="line"><a id="l02313" name="l02313"></a><span class="lineno"> 2313</span>        {</div>
<div class="line"><a id="l02314" name="l02314"></a><span class="lineno"> 2314</span>            <span class="keywordflow">for</span>(<span class="keyword">auto</span>&amp; item : <a class="code hl_variable" href="classWTSTickSlice.html#a88afb2856baafc6cb6489c0635e2755a">_blocks</a>)  <span class="comment">// 遍历所有数据块</span></div>
<div class="line"><a id="l02315" name="l02315"></a><span class="lineno"> 2315</span>            {</div>
<div class="line"><a id="l02316" name="l02316"></a><span class="lineno"> 2316</span>                <span class="keywordflow">if</span> ((uint32_t)idx &gt;= item.second)  <span class="comment">// 如果索引超过当前块的大小</span></div>
<div class="line"><a id="l02317" name="l02317"></a><span class="lineno"> 2317</span>                    idx -= item.second;  <span class="comment">// 减去当前块的大小，准备检查下一个块</span></div>
<div class="line"><a id="l02318" name="l02318"></a><span class="lineno"> 2318</span>                <span class="keywordflow">else</span></div>
<div class="line"><a id="l02319" name="l02319"></a><span class="lineno"> 2319</span>                    <span class="keywordflow">return</span> item.first + idx;  <span class="comment">// 找到目标索引，返回对应的数据指针</span></div>
<div class="line"><a id="l02320" name="l02320"></a><span class="lineno"> 2320</span>            }</div>
<div class="line"><a id="l02321" name="l02321"></a><span class="lineno"> 2321</span>        } <span class="keywordflow">while</span> (<span class="keyword">false</span>);  <span class="comment">// 仅循环一次的do-while结构</span></div>
<div class="line"><a id="l02322" name="l02322"></a><span class="lineno"> 2322</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;  <span class="comment">// 如果没有找到合适的索引，返回NULL</span></div>
<div class="line"><a id="l02323" name="l02323"></a><span class="lineno"> 2323</span>    }</div>
</div>
<div class="line"><a id="l02324" name="l02324"></a><span class="lineno"> 2324</span>};</div>
</div>
<div class="line"><a id="l02325" name="l02325"></a><span class="lineno"> 2325</span> </div>
<div class="line"><a id="l02327" name="l02327"></a><span class="lineno"> 2327</span> </div>
<div class="foldopen" id="foldopen02335" data-start="{" data-end="};">
<div class="line"><a id="l02335" name="l02335"></a><span class="lineno"><a class="line" href="classWTSOrdDtlSlice.html"> 2335</a></span><span class="keyword">class </span><a class="code hl_class" href="classWTSOrdDtlSlice.html">WTSOrdDtlSlice</a> : <span class="keyword">public</span> <a class="code hl_class" href="classWTSObject.html">WTSObject</a></div>
<div class="line"><a id="l02336" name="l02336"></a><span class="lineno"> 2336</span>{</div>
<div class="line"><a id="l02337" name="l02337"></a><span class="lineno"> 2337</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l02338" name="l02338"></a><span class="lineno"><a class="line" href="classWTSOrdDtlSlice.html#a04eb72c185be84d25fcef6f8f952abcc"> 2338</a></span>    <span class="keywordtype">char</span>                <a class="code hl_variable" href="classWTSOrdDtlSlice.html#a04eb72c185be84d25fcef6f8f952abcc">m_strCode</a>[<a class="code hl_define" href="WTSMarcos_8h.html#a43110534aa06a6d801f0f875c3cf4f1c">MAX_INSTRUMENT_LENGTH</a>];  </div>
<div class="line"><a id="l02339" name="l02339"></a><span class="lineno"><a class="line" href="classWTSOrdDtlSlice.html#a00a15709048a4b74a5437ff9b3f4e598"> 2339</a></span>    <a class="code hl_struct" href="structWTSOrdDtlStruct.html">WTSOrdDtlStruct</a>*    <a class="code hl_variable" href="classWTSOrdDtlSlice.html#a00a15709048a4b74a5437ff9b3f4e598">m_ptrBegin</a>;                 </div>
<div class="line"><a id="l02340" name="l02340"></a><span class="lineno"><a class="line" href="classWTSOrdDtlSlice.html#adba40ac729ec093283494ae48520da85"> 2340</a></span>    uint32_t            <a class="code hl_variable" href="classWTSOrdDtlSlice.html#adba40ac729ec093283494ae48520da85">m_uCount</a>;                      </div>
<div class="line"><a id="l02341" name="l02341"></a><span class="lineno"> 2341</span> </div>
<div class="line"><a id="l02342" name="l02342"></a><span class="lineno"> 2342</span><span class="keyword">protected</span>:</div>
<div class="line"><a id="l02349" name="l02349"></a><span class="lineno"><a class="line" href="classWTSOrdDtlSlice.html#a8699c2496555396b5cd14421f83f6680"> 2349</a></span>    <a class="code hl_function" href="classWTSOrdDtlSlice.html#a8699c2496555396b5cd14421f83f6680">WTSOrdDtlSlice</a>() :<a class="code hl_variable" href="classWTSOrdDtlSlice.html#a00a15709048a4b74a5437ff9b3f4e598">m_ptrBegin</a>(<a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>), <a class="code hl_variable" href="classWTSOrdDtlSlice.html#adba40ac729ec093283494ae48520da85">m_uCount</a>(0) {}</div>
<div class="line"><a id="l02350" name="l02350"></a><span class="lineno"> 2350</span>    </div>
<div class="foldopen" id="foldopen02361" data-start="{" data-end="}">
<div class="line"><a id="l02361" name="l02361"></a><span class="lineno"><a class="line" href="classWTSOrdDtlSlice.html#a50f033050194c7a8cb76c0be797eb70d"> 2361</a></span>    <span class="keyword">inline</span> int32_t      <a class="code hl_function" href="classWTSOrdDtlSlice.html#a50f033050194c7a8cb76c0be797eb70d">translateIdx</a>(int32_t idx)<span class="keyword"> const</span></div>
<div class="line"><a id="l02362" name="l02362"></a><span class="lineno"> 2362</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l02363" name="l02363"></a><span class="lineno"> 2363</span>        <span class="keywordflow">if</span> (idx &lt; 0)  <span class="comment">// 如果是负数索引</span></div>
<div class="line"><a id="l02364" name="l02364"></a><span class="lineno"> 2364</span>        {</div>
<div class="line"><a id="l02365" name="l02365"></a><span class="lineno"> 2365</span>            <span class="keywordflow">return</span> max(0, (int32_t)<a class="code hl_variable" href="classWTSOrdDtlSlice.html#adba40ac729ec093283494ae48520da85">m_uCount</a> + idx);  <span class="comment">// 计算从末尾开始的位置，并确保不小于0</span></div>
<div class="line"><a id="l02366" name="l02366"></a><span class="lineno"> 2366</span>        }</div>
<div class="line"><a id="l02367" name="l02367"></a><span class="lineno"> 2367</span> </div>
<div class="line"><a id="l02368" name="l02368"></a><span class="lineno"> 2368</span>        <span class="keywordflow">return</span> idx;  <span class="comment">// 正数索引直接返回</span></div>
<div class="line"><a id="l02369" name="l02369"></a><span class="lineno"> 2369</span>    }</div>
</div>
<div class="line"><a id="l02370" name="l02370"></a><span class="lineno"> 2370</span> </div>
<div class="line"><a id="l02371" name="l02371"></a><span class="lineno"> 2371</span><span class="keyword">public</span>:</div>
<div class="foldopen" id="foldopen02383" data-start="{" data-end="}">
<div class="line"><a id="l02383" name="l02383"></a><span class="lineno"><a class="line" href="classWTSOrdDtlSlice.html#a6213778145b4d847d20cf886dc5341ae"> 2383</a></span>    <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code hl_class" href="classWTSOrdDtlSlice.html">WTSOrdDtlSlice</a>* <a class="code hl_function" href="classWTSOrdDtlSlice.html#a6213778145b4d847d20cf886dc5341ae">create</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* code, <a class="code hl_struct" href="structWTSOrdDtlStruct.html">WTSOrdDtlStruct</a>* firstItem, uint32_t count)</div>
<div class="line"><a id="l02384" name="l02384"></a><span class="lineno"> 2384</span>    {</div>
<div class="line"><a id="l02385" name="l02385"></a><span class="lineno"> 2385</span>        <span class="keywordflow">if</span> (count == 0 || firstItem == <a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)  <span class="comment">// 检查参数是否有效</span></div>
<div class="line"><a id="l02386" name="l02386"></a><span class="lineno"> 2386</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;  <span class="comment">// 无效参数返回NULL</span></div>
<div class="line"><a id="l02387" name="l02387"></a><span class="lineno"> 2387</span> </div>
<div class="line"><a id="l02388" name="l02388"></a><span class="lineno"> 2388</span>        <a class="code hl_class" href="classWTSOrdDtlSlice.html">WTSOrdDtlSlice</a>* slice = <span class="keyword">new</span> <a class="code hl_function" href="classWTSOrdDtlSlice.html#a8699c2496555396b5cd14421f83f6680">WTSOrdDtlSlice</a>();  <span class="comment">// 创建新对象</span></div>
<div class="line"><a id="l02389" name="l02389"></a><span class="lineno"> 2389</span>        <a class="code hl_function" href="WTSMarcos_8h.html#ae3e2cd00c20ce8b9ae0ae37a089d7d5e">wt_strcpy</a>(slice-&gt;<a class="code hl_variable" href="classWTSOrdDtlSlice.html#a04eb72c185be84d25fcef6f8f952abcc">m_strCode</a>, code);            <span class="comment">// 设置合约代码</span></div>
<div class="line"><a id="l02390" name="l02390"></a><span class="lineno"> 2390</span>        slice-&gt;<a class="code hl_variable" href="classWTSOrdDtlSlice.html#a00a15709048a4b74a5437ff9b3f4e598">m_ptrBegin</a> = firstItem;                <span class="comment">// 设置数据起始指针</span></div>
<div class="line"><a id="l02391" name="l02391"></a><span class="lineno"> 2391</span>        slice-&gt;<a class="code hl_variable" href="classWTSOrdDtlSlice.html#adba40ac729ec093283494ae48520da85">m_uCount</a> = count;                      <span class="comment">// 设置数据数量</span></div>
<div class="line"><a id="l02392" name="l02392"></a><span class="lineno"> 2392</span> </div>
<div class="line"><a id="l02393" name="l02393"></a><span class="lineno"> 2393</span>        <span class="keywordflow">return</span> slice;  <span class="comment">// 返回创建的对象</span></div>
<div class="line"><a id="l02394" name="l02394"></a><span class="lineno"> 2394</span>    }</div>
</div>
<div class="line"><a id="l02395" name="l02395"></a><span class="lineno"> 2395</span> </div>
<div class="line"><a id="l02403" name="l02403"></a><span class="lineno"><a class="line" href="classWTSOrdDtlSlice.html#a719c060e54682d112cf83f2bc71b2ad5"> 2403</a></span>    <span class="keyword">inline</span> uint32_t <a class="code hl_function" href="classWTSOrdDtlSlice.html#a719c060e54682d112cf83f2bc71b2ad5">size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSOrdDtlSlice.html#adba40ac729ec093283494ae48520da85">m_uCount</a>; }</div>
<div class="line"><a id="l02404" name="l02404"></a><span class="lineno"> 2404</span> </div>
<div class="line"><a id="l02412" name="l02412"></a><span class="lineno"><a class="line" href="classWTSOrdDtlSlice.html#a9cf6b34eebc917cf4d6084954aea9b93"> 2412</a></span>    <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="classWTSOrdDtlSlice.html#a9cf6b34eebc917cf4d6084954aea9b93">empty</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<a class="code hl_variable" href="classWTSOrdDtlSlice.html#adba40ac729ec093283494ae48520da85">m_uCount</a> == 0) || (<a class="code hl_variable" href="classWTSOrdDtlSlice.html#a00a15709048a4b74a5437ff9b3f4e598">m_ptrBegin</a> == <a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>); }</div>
<div class="line"><a id="l02413" name="l02413"></a><span class="lineno"> 2413</span> </div>
<div class="foldopen" id="foldopen02424" data-start="{" data-end="}">
<div class="line"><a id="l02424" name="l02424"></a><span class="lineno"><a class="line" href="classWTSOrdDtlSlice.html#a98759d3a82975017d8d69522c9f733d3"> 2424</a></span>    <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code hl_struct" href="structWTSOrdDtlStruct.html">WTSOrdDtlStruct</a>* <a class="code hl_function" href="classWTSOrdDtlSlice.html#a98759d3a82975017d8d69522c9f733d3">at</a>(int32_t idx)</div>
<div class="line"><a id="l02425" name="l02425"></a><span class="lineno"> 2425</span>    {</div>
<div class="line"><a id="l02426" name="l02426"></a><span class="lineno"> 2426</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classWTSOrdDtlSlice.html#a00a15709048a4b74a5437ff9b3f4e598">m_ptrBegin</a> == <a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)  <span class="comment">// 检查数据指针是否为空</span></div>
<div class="line"><a id="l02427" name="l02427"></a><span class="lineno"> 2427</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;  <span class="comment">// 空指针返回NULL</span></div>
<div class="line"><a id="l02428" name="l02428"></a><span class="lineno"> 2428</span>        idx = <a class="code hl_function" href="classWTSOrdDtlSlice.html#a50f033050194c7a8cb76c0be797eb70d">translateIdx</a>(idx);  <span class="comment">// 将索引转换为适当的正向索引</span></div>
<div class="line"><a id="l02429" name="l02429"></a><span class="lineno"> 2429</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSOrdDtlSlice.html#a00a15709048a4b74a5437ff9b3f4e598">m_ptrBegin</a> + idx;  <span class="comment">// 返回目标位置的数据指针</span></div>
<div class="line"><a id="l02430" name="l02430"></a><span class="lineno"> 2430</span>    }</div>
</div>
<div class="line"><a id="l02431" name="l02431"></a><span class="lineno"> 2431</span>};</div>
</div>
<div class="line"><a id="l02432" name="l02432"></a><span class="lineno"> 2432</span> </div>
<div class="line"><a id="l02434" name="l02434"></a><span class="lineno"> 2434</span> </div>
<div class="foldopen" id="foldopen02442" data-start="{" data-end="};">
<div class="line"><a id="l02442" name="l02442"></a><span class="lineno"><a class="line" href="classWTSOrdQueSlice.html"> 2442</a></span><span class="keyword">class </span><a class="code hl_class" href="classWTSOrdQueSlice.html">WTSOrdQueSlice</a> : <span class="keyword">public</span> <a class="code hl_class" href="classWTSObject.html">WTSObject</a></div>
<div class="line"><a id="l02443" name="l02443"></a><span class="lineno"> 2443</span>{</div>
<div class="line"><a id="l02444" name="l02444"></a><span class="lineno"> 2444</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l02445" name="l02445"></a><span class="lineno"><a class="line" href="classWTSOrdQueSlice.html#acb7ce05e02d1870f8a04e15f29cd514d"> 2445</a></span>    <span class="keywordtype">char</span>                <a class="code hl_variable" href="classWTSOrdQueSlice.html#acb7ce05e02d1870f8a04e15f29cd514d">m_strCode</a>[<a class="code hl_define" href="WTSMarcos_8h.html#a43110534aa06a6d801f0f875c3cf4f1c">MAX_INSTRUMENT_LENGTH</a>];  </div>
<div class="line"><a id="l02446" name="l02446"></a><span class="lineno"><a class="line" href="classWTSOrdQueSlice.html#a372aaf4338f404d584f6e8697add2d8c"> 2446</a></span>    <a class="code hl_struct" href="structWTSOrdQueStruct.html">WTSOrdQueStruct</a>*    <a class="code hl_variable" href="classWTSOrdQueSlice.html#a372aaf4338f404d584f6e8697add2d8c">m_ptrBegin</a>;                 </div>
<div class="line"><a id="l02447" name="l02447"></a><span class="lineno"><a class="line" href="classWTSOrdQueSlice.html#a246f127e5eecd25858d6429f768be70c"> 2447</a></span>    uint32_t            <a class="code hl_variable" href="classWTSOrdQueSlice.html#a246f127e5eecd25858d6429f768be70c">m_uCount</a>;                      </div>
<div class="line"><a id="l02448" name="l02448"></a><span class="lineno"> 2448</span> </div>
<div class="line"><a id="l02449" name="l02449"></a><span class="lineno"> 2449</span><span class="keyword">protected</span>:</div>
<div class="line"><a id="l02456" name="l02456"></a><span class="lineno"><a class="line" href="classWTSOrdQueSlice.html#a2a11c93eea9d4074674f67d1bf72a9c3"> 2456</a></span>    <a class="code hl_function" href="classWTSOrdQueSlice.html#a2a11c93eea9d4074674f67d1bf72a9c3">WTSOrdQueSlice</a>() :<a class="code hl_variable" href="classWTSOrdQueSlice.html#a372aaf4338f404d584f6e8697add2d8c">m_ptrBegin</a>(<a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>), <a class="code hl_variable" href="classWTSOrdQueSlice.html#a246f127e5eecd25858d6429f768be70c">m_uCount</a>(0) {}</div>
<div class="line"><a id="l02457" name="l02457"></a><span class="lineno"> 2457</span>    </div>
<div class="foldopen" id="foldopen02468" data-start="{" data-end="}">
<div class="line"><a id="l02468" name="l02468"></a><span class="lineno"><a class="line" href="classWTSOrdQueSlice.html#a5f587a8586f7d0f42c8a00c6b97a095c"> 2468</a></span>    <span class="keyword">inline</span> int32_t      <a class="code hl_function" href="classWTSOrdQueSlice.html#a5f587a8586f7d0f42c8a00c6b97a095c">translateIdx</a>(int32_t idx)<span class="keyword"> const</span></div>
<div class="line"><a id="l02469" name="l02469"></a><span class="lineno"> 2469</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l02470" name="l02470"></a><span class="lineno"> 2470</span>        <span class="keywordflow">if</span> (idx &lt; 0)  <span class="comment">// 如果是负数索引</span></div>
<div class="line"><a id="l02471" name="l02471"></a><span class="lineno"> 2471</span>        {</div>
<div class="line"><a id="l02472" name="l02472"></a><span class="lineno"> 2472</span>            <span class="keywordflow">return</span> max(0, (int32_t)<a class="code hl_variable" href="classWTSOrdQueSlice.html#a246f127e5eecd25858d6429f768be70c">m_uCount</a> + idx);  <span class="comment">// 计算从末尾开始的位置，并确保不小于0</span></div>
<div class="line"><a id="l02473" name="l02473"></a><span class="lineno"> 2473</span>        }</div>
<div class="line"><a id="l02474" name="l02474"></a><span class="lineno"> 2474</span> </div>
<div class="line"><a id="l02475" name="l02475"></a><span class="lineno"> 2475</span>        <span class="keywordflow">return</span> idx;  <span class="comment">// 正数索引直接返回</span></div>
<div class="line"><a id="l02476" name="l02476"></a><span class="lineno"> 2476</span>    }</div>
</div>
<div class="line"><a id="l02477" name="l02477"></a><span class="lineno"> 2477</span> </div>
<div class="line"><a id="l02478" name="l02478"></a><span class="lineno"> 2478</span><span class="keyword">public</span>:</div>
<div class="foldopen" id="foldopen02490" data-start="{" data-end="}">
<div class="line"><a id="l02490" name="l02490"></a><span class="lineno"><a class="line" href="classWTSOrdQueSlice.html#a63b99e021632b088dc40947d78e09a73"> 2490</a></span>    <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code hl_class" href="classWTSOrdQueSlice.html">WTSOrdQueSlice</a>* <a class="code hl_function" href="classWTSOrdQueSlice.html#a63b99e021632b088dc40947d78e09a73">create</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* code, <a class="code hl_struct" href="structWTSOrdQueStruct.html">WTSOrdQueStruct</a>* firstItem, uint32_t count)</div>
<div class="line"><a id="l02491" name="l02491"></a><span class="lineno"> 2491</span>    {</div>
<div class="line"><a id="l02492" name="l02492"></a><span class="lineno"> 2492</span>        <span class="keywordflow">if</span> (count == 0 || firstItem == <a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)  <span class="comment">// 检查参数是否有效</span></div>
<div class="line"><a id="l02493" name="l02493"></a><span class="lineno"> 2493</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;  <span class="comment">// 无效参数返回NULL</span></div>
<div class="line"><a id="l02494" name="l02494"></a><span class="lineno"> 2494</span> </div>
<div class="line"><a id="l02495" name="l02495"></a><span class="lineno"> 2495</span>        <a class="code hl_class" href="classWTSOrdQueSlice.html">WTSOrdQueSlice</a>* slice = <span class="keyword">new</span> <a class="code hl_function" href="classWTSOrdQueSlice.html#a2a11c93eea9d4074674f67d1bf72a9c3">WTSOrdQueSlice</a>();  <span class="comment">// 创建新对象</span></div>
<div class="line"><a id="l02496" name="l02496"></a><span class="lineno"> 2496</span>        <a class="code hl_function" href="WTSMarcos_8h.html#ae3e2cd00c20ce8b9ae0ae37a089d7d5e">wt_strcpy</a>(slice-&gt;<a class="code hl_variable" href="classWTSOrdQueSlice.html#acb7ce05e02d1870f8a04e15f29cd514d">m_strCode</a>, code);            <span class="comment">// 设置合约代码</span></div>
<div class="line"><a id="l02497" name="l02497"></a><span class="lineno"> 2497</span>        slice-&gt;<a class="code hl_variable" href="classWTSOrdQueSlice.html#a372aaf4338f404d584f6e8697add2d8c">m_ptrBegin</a> = firstItem;                <span class="comment">// 设置数据起始指针</span></div>
<div class="line"><a id="l02498" name="l02498"></a><span class="lineno"> 2498</span>        slice-&gt;<a class="code hl_variable" href="classWTSOrdQueSlice.html#a246f127e5eecd25858d6429f768be70c">m_uCount</a> = count;                      <span class="comment">// 设置数据数量</span></div>
<div class="line"><a id="l02499" name="l02499"></a><span class="lineno"> 2499</span> </div>
<div class="line"><a id="l02500" name="l02500"></a><span class="lineno"> 2500</span>        <span class="keywordflow">return</span> slice;  <span class="comment">// 返回创建的对象</span></div>
<div class="line"><a id="l02501" name="l02501"></a><span class="lineno"> 2501</span>    }</div>
</div>
<div class="line"><a id="l02502" name="l02502"></a><span class="lineno"> 2502</span> </div>
<div class="line"><a id="l02510" name="l02510"></a><span class="lineno"><a class="line" href="classWTSOrdQueSlice.html#a28b74f8f2e54e2bcb012958d72f6c950"> 2510</a></span>    <span class="keyword">inline</span> uint32_t <a class="code hl_function" href="classWTSOrdQueSlice.html#a28b74f8f2e54e2bcb012958d72f6c950">size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSOrdQueSlice.html#a246f127e5eecd25858d6429f768be70c">m_uCount</a>; }</div>
<div class="line"><a id="l02511" name="l02511"></a><span class="lineno"> 2511</span> </div>
<div class="line"><a id="l02519" name="l02519"></a><span class="lineno"><a class="line" href="classWTSOrdQueSlice.html#a79194fd70ad5f0bcb293aed1a275329a"> 2519</a></span>    <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="classWTSOrdQueSlice.html#a79194fd70ad5f0bcb293aed1a275329a">empty</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<a class="code hl_variable" href="classWTSOrdQueSlice.html#a246f127e5eecd25858d6429f768be70c">m_uCount</a> == 0) || (<a class="code hl_variable" href="classWTSOrdQueSlice.html#a372aaf4338f404d584f6e8697add2d8c">m_ptrBegin</a> == <a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>); }</div>
<div class="line"><a id="l02520" name="l02520"></a><span class="lineno"> 2520</span> </div>
<div class="foldopen" id="foldopen02531" data-start="{" data-end="}">
<div class="line"><a id="l02531" name="l02531"></a><span class="lineno"><a class="line" href="classWTSOrdQueSlice.html#af803772e431213f255c441d60c93dace"> 2531</a></span>    <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code hl_struct" href="structWTSOrdQueStruct.html">WTSOrdQueStruct</a>* <a class="code hl_function" href="classWTSOrdQueSlice.html#af803772e431213f255c441d60c93dace">at</a>(int32_t idx)</div>
<div class="line"><a id="l02532" name="l02532"></a><span class="lineno"> 2532</span>    {</div>
<div class="line"><a id="l02533" name="l02533"></a><span class="lineno"> 2533</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classWTSOrdQueSlice.html#a372aaf4338f404d584f6e8697add2d8c">m_ptrBegin</a> == <a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)  <span class="comment">// 检查数据指针是否为空</span></div>
<div class="line"><a id="l02534" name="l02534"></a><span class="lineno"> 2534</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;  <span class="comment">// 空指针返回NULL</span></div>
<div class="line"><a id="l02535" name="l02535"></a><span class="lineno"> 2535</span>        idx = <a class="code hl_function" href="classWTSOrdQueSlice.html#a5f587a8586f7d0f42c8a00c6b97a095c">translateIdx</a>(idx);  <span class="comment">// 将索引转换为适当的正向索引</span></div>
<div class="line"><a id="l02536" name="l02536"></a><span class="lineno"> 2536</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSOrdQueSlice.html#a372aaf4338f404d584f6e8697add2d8c">m_ptrBegin</a> + idx;  <span class="comment">// 返回目标位置的数据指针</span></div>
<div class="line"><a id="l02537" name="l02537"></a><span class="lineno"> 2537</span>    }</div>
</div>
<div class="line"><a id="l02538" name="l02538"></a><span class="lineno"> 2538</span>};</div>
</div>
<div class="line"><a id="l02539" name="l02539"></a><span class="lineno"> 2539</span> </div>
<div class="line"><a id="l02541" name="l02541"></a><span class="lineno"> 2541</span> </div>
<div class="foldopen" id="foldopen02549" data-start="{" data-end="};">
<div class="line"><a id="l02549" name="l02549"></a><span class="lineno"><a class="line" href="classWTSTransSlice.html"> 2549</a></span><span class="keyword">class </span><a class="code hl_class" href="classWTSTransSlice.html">WTSTransSlice</a> : <span class="keyword">public</span> <a class="code hl_class" href="classWTSObject.html">WTSObject</a></div>
<div class="line"><a id="l02550" name="l02550"></a><span class="lineno"> 2550</span>{</div>
<div class="line"><a id="l02551" name="l02551"></a><span class="lineno"> 2551</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l02552" name="l02552"></a><span class="lineno"><a class="line" href="classWTSTransSlice.html#a38ffa9a7fa123b8d309c26bbd7872667"> 2552</a></span>    <span class="keywordtype">char</span>            <a class="code hl_variable" href="classWTSTransSlice.html#a38ffa9a7fa123b8d309c26bbd7872667">m_strCode</a>[<a class="code hl_define" href="WTSMarcos_8h.html#a43110534aa06a6d801f0f875c3cf4f1c">MAX_INSTRUMENT_LENGTH</a>];  </div>
<div class="line"><a id="l02553" name="l02553"></a><span class="lineno"><a class="line" href="classWTSTransSlice.html#a2834967aa2c0b3eb5c6434ec2322a6e5"> 2553</a></span>    <a class="code hl_struct" href="structWTSTransStruct.html">WTSTransStruct</a>* <a class="code hl_variable" href="classWTSTransSlice.html#a2834967aa2c0b3eb5c6434ec2322a6e5">m_ptrBegin</a>;                </div>
<div class="line"><a id="l02554" name="l02554"></a><span class="lineno"><a class="line" href="classWTSTransSlice.html#a862e078a4fe080f5576c17cba4acebe3"> 2554</a></span>    uint32_t        <a class="code hl_variable" href="classWTSTransSlice.html#a862e078a4fe080f5576c17cba4acebe3">m_uCount</a>;                     </div>
<div class="line"><a id="l02555" name="l02555"></a><span class="lineno"> 2555</span> </div>
<div class="line"><a id="l02556" name="l02556"></a><span class="lineno"> 2556</span><span class="keyword">protected</span>:</div>
<div class="line"><a id="l02563" name="l02563"></a><span class="lineno"><a class="line" href="classWTSTransSlice.html#a5aef7c14b5bba605b4cbdf4afdaa0eec"> 2563</a></span>    <a class="code hl_function" href="classWTSTransSlice.html#a5aef7c14b5bba605b4cbdf4afdaa0eec">WTSTransSlice</a>() :<a class="code hl_variable" href="classWTSTransSlice.html#a2834967aa2c0b3eb5c6434ec2322a6e5">m_ptrBegin</a>(<a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>), <a class="code hl_variable" href="classWTSTransSlice.html#a862e078a4fe080f5576c17cba4acebe3">m_uCount</a>(0) {}</div>
<div class="line"><a id="l02564" name="l02564"></a><span class="lineno"> 2564</span>    </div>
<div class="foldopen" id="foldopen02575" data-start="{" data-end="}">
<div class="line"><a id="l02575" name="l02575"></a><span class="lineno"><a class="line" href="classWTSTransSlice.html#ad46e1d6413bc6c6253a87e8cd54e168b"> 2575</a></span>    <span class="keyword">inline</span> int32_t      <a class="code hl_function" href="classWTSTransSlice.html#ad46e1d6413bc6c6253a87e8cd54e168b">translateIdx</a>(int32_t idx)<span class="keyword"> const</span></div>
<div class="line"><a id="l02576" name="l02576"></a><span class="lineno"> 2576</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l02577" name="l02577"></a><span class="lineno"> 2577</span>        <span class="keywordflow">if</span> (idx &lt; 0)  <span class="comment">// 如果是负数索引</span></div>
<div class="line"><a id="l02578" name="l02578"></a><span class="lineno"> 2578</span>        {</div>
<div class="line"><a id="l02579" name="l02579"></a><span class="lineno"> 2579</span>            <span class="keywordflow">return</span> max(0, (int32_t)<a class="code hl_variable" href="classWTSTransSlice.html#a862e078a4fe080f5576c17cba4acebe3">m_uCount</a> + idx);  <span class="comment">// 计算从末尾开始的位置，并确保不小于0</span></div>
<div class="line"><a id="l02580" name="l02580"></a><span class="lineno"> 2580</span>        }</div>
<div class="line"><a id="l02581" name="l02581"></a><span class="lineno"> 2581</span> </div>
<div class="line"><a id="l02582" name="l02582"></a><span class="lineno"> 2582</span>        <span class="keywordflow">return</span> idx;  <span class="comment">// 正数索引直接返回</span></div>
<div class="line"><a id="l02583" name="l02583"></a><span class="lineno"> 2583</span>    }</div>
</div>
<div class="line"><a id="l02584" name="l02584"></a><span class="lineno"> 2584</span> </div>
<div class="line"><a id="l02585" name="l02585"></a><span class="lineno"> 2585</span><span class="keyword">public</span>:</div>
<div class="foldopen" id="foldopen02597" data-start="{" data-end="}">
<div class="line"><a id="l02597" name="l02597"></a><span class="lineno"><a class="line" href="classWTSTransSlice.html#a30a349dba2f1b873e4e5b9c3bbf67018"> 2597</a></span>    <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code hl_class" href="classWTSTransSlice.html">WTSTransSlice</a>* <a class="code hl_function" href="classWTSTransSlice.html#a30a349dba2f1b873e4e5b9c3bbf67018">create</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* code, <a class="code hl_struct" href="structWTSTransStruct.html">WTSTransStruct</a>* firstItem, uint32_t count)</div>
<div class="line"><a id="l02598" name="l02598"></a><span class="lineno"> 2598</span>    {</div>
<div class="line"><a id="l02599" name="l02599"></a><span class="lineno"> 2599</span>        <span class="keywordflow">if</span> (count == 0 || firstItem == <a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)  <span class="comment">// 检查参数是否有效</span></div>
<div class="line"><a id="l02600" name="l02600"></a><span class="lineno"> 2600</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;  <span class="comment">// 无效参数返回NULL</span></div>
<div class="line"><a id="l02601" name="l02601"></a><span class="lineno"> 2601</span> </div>
<div class="line"><a id="l02602" name="l02602"></a><span class="lineno"> 2602</span>        <a class="code hl_class" href="classWTSTransSlice.html">WTSTransSlice</a>* slice = <span class="keyword">new</span> <a class="code hl_function" href="classWTSTransSlice.html#a5aef7c14b5bba605b4cbdf4afdaa0eec">WTSTransSlice</a>();  <span class="comment">// 创建新对象</span></div>
<div class="line"><a id="l02603" name="l02603"></a><span class="lineno"> 2603</span>        <a class="code hl_function" href="WTSMarcos_8h.html#ae3e2cd00c20ce8b9ae0ae37a089d7d5e">wt_strcpy</a>(slice-&gt;<a class="code hl_variable" href="classWTSTransSlice.html#a38ffa9a7fa123b8d309c26bbd7872667">m_strCode</a>, code);          <span class="comment">// 设置合约代码</span></div>
<div class="line"><a id="l02604" name="l02604"></a><span class="lineno"> 2604</span>        slice-&gt;<a class="code hl_variable" href="classWTSTransSlice.html#a2834967aa2c0b3eb5c6434ec2322a6e5">m_ptrBegin</a> = firstItem;              <span class="comment">// 设置数据起始指针</span></div>
<div class="line"><a id="l02605" name="l02605"></a><span class="lineno"> 2605</span>        slice-&gt;<a class="code hl_variable" href="classWTSTransSlice.html#a862e078a4fe080f5576c17cba4acebe3">m_uCount</a> = count;                    <span class="comment">// 设置数据数量</span></div>
<div class="line"><a id="l02606" name="l02606"></a><span class="lineno"> 2606</span> </div>
<div class="line"><a id="l02607" name="l02607"></a><span class="lineno"> 2607</span>        <span class="keywordflow">return</span> slice;  <span class="comment">// 返回创建的对象</span></div>
<div class="line"><a id="l02608" name="l02608"></a><span class="lineno"> 2608</span>    }</div>
</div>
<div class="line"><a id="l02609" name="l02609"></a><span class="lineno"> 2609</span> </div>
<div class="line"><a id="l02617" name="l02617"></a><span class="lineno"><a class="line" href="classWTSTransSlice.html#a4366b7115a21d7015133ee5abfbeecfe"> 2617</a></span>    <span class="keyword">inline</span> uint32_t <a class="code hl_function" href="classWTSTransSlice.html#a4366b7115a21d7015133ee5abfbeecfe">size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTransSlice.html#a862e078a4fe080f5576c17cba4acebe3">m_uCount</a>; }</div>
<div class="line"><a id="l02618" name="l02618"></a><span class="lineno"> 2618</span> </div>
<div class="line"><a id="l02626" name="l02626"></a><span class="lineno"><a class="line" href="classWTSTransSlice.html#a30347c8222d2157b18c8ca9a3d9733b5"> 2626</a></span>    <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="classWTSTransSlice.html#a30347c8222d2157b18c8ca9a3d9733b5">empty</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<a class="code hl_variable" href="classWTSTransSlice.html#a862e078a4fe080f5576c17cba4acebe3">m_uCount</a> == 0) || (<a class="code hl_variable" href="classWTSTransSlice.html#a2834967aa2c0b3eb5c6434ec2322a6e5">m_ptrBegin</a> == <a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>); }</div>
<div class="line"><a id="l02627" name="l02627"></a><span class="lineno"> 2627</span> </div>
<div class="foldopen" id="foldopen02638" data-start="{" data-end="}">
<div class="line"><a id="l02638" name="l02638"></a><span class="lineno"><a class="line" href="classWTSTransSlice.html#a185a4e0774f6f2d365f417eb3c7398cf"> 2638</a></span>    <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code hl_struct" href="structWTSTransStruct.html">WTSTransStruct</a>* <a class="code hl_function" href="classWTSTransSlice.html#a185a4e0774f6f2d365f417eb3c7398cf">at</a>(int32_t idx)</div>
<div class="line"><a id="l02639" name="l02639"></a><span class="lineno"> 2639</span>    {</div>
<div class="line"><a id="l02640" name="l02640"></a><span class="lineno"> 2640</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classWTSTransSlice.html#a2834967aa2c0b3eb5c6434ec2322a6e5">m_ptrBegin</a> == <a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)  <span class="comment">// 检查数据指针是否为空</span></div>
<div class="line"><a id="l02641" name="l02641"></a><span class="lineno"> 2641</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;  <span class="comment">// 空指针返回NULL</span></div>
<div class="line"><a id="l02642" name="l02642"></a><span class="lineno"> 2642</span>        idx = <a class="code hl_function" href="classWTSTransSlice.html#ad46e1d6413bc6c6253a87e8cd54e168b">translateIdx</a>(idx);  <span class="comment">// 将索引转换为适当的正向索引</span></div>
<div class="line"><a id="l02643" name="l02643"></a><span class="lineno"> 2643</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classWTSTransSlice.html#a2834967aa2c0b3eb5c6434ec2322a6e5">m_ptrBegin</a> + idx;  <span class="comment">// 返回目标位置的数据指针</span></div>
<div class="line"><a id="l02644" name="l02644"></a><span class="lineno"> 2644</span>    }</div>
</div>
<div class="line"><a id="l02645" name="l02645"></a><span class="lineno"> 2645</span>};</div>
</div>
<div class="line"><a id="l02646" name="l02646"></a><span class="lineno"> 2646</span> </div>
<div class="line"><a id="l02647" name="l02647"></a><span class="lineno"> 2647</span><a class="code hl_define" href="WTSMarcos_8h.html#a5da4b88d7c6e99888ed7c2baf9425aee">NS_WTP_END</a></div>
<div class="ttc" id="aWTSCollection_8hpp_html"><div class="ttname"><a href="WTSCollection_8hpp.html">WTSCollection.hpp</a></div><div class="ttdoc">Wt集合组件定义文件</div></div>
<div class="ttc" id="aWTSMarcos_8h_html"><div class="ttname"><a href="WTSMarcos_8h.html">WTSMarcos.h</a></div><div class="ttdoc">WonderTrader基础宏定义文件</div></div>
<div class="ttc" id="aWTSMarcos_8h_html_a0588b0f85be4d70813e3cc9a1fbf19e4"><div class="ttname"><a href="WTSMarcos_8h.html#a0588b0f85be4d70813e3cc9a1fbf19e4">NS_WTP_BEGIN</a></div><div class="ttdeci">#define NS_WTP_BEGIN</div><div class="ttdoc">命名空间定义宏</div><div class="ttdef"><b>Definition</b> <a href="WTSMarcos_8h_source.html#l00085">WTSMarcos.h:85</a></div></div>
<div class="ttc" id="aWTSMarcos_8h_html_a43110534aa06a6d801f0f875c3cf4f1c"><div class="ttname"><a href="WTSMarcos_8h.html#a43110534aa06a6d801f0f875c3cf4f1c">MAX_INSTRUMENT_LENGTH</a></div><div class="ttdeci">#define MAX_INSTRUMENT_LENGTH</div><div class="ttdoc">合约代码最大长度限制</div><div class="ttdef"><b>Definition</b> <a href="WTSMarcos_8h_source.html#l00030">WTSMarcos.h:30</a></div></div>
<div class="ttc" id="aWTSMarcos_8h_html_a5da4b88d7c6e99888ed7c2baf9425aee"><div class="ttname"><a href="WTSMarcos_8h.html#a5da4b88d7c6e99888ed7c2baf9425aee">NS_WTP_END</a></div><div class="ttdeci">#define NS_WTP_END</div><div class="ttdef"><b>Definition</b> <a href="WTSMarcos_8h_source.html#l00086">WTSMarcos.h:86</a></div></div>
<div class="ttc" id="aWTSMarcos_8h_html_a9fa6ba5a28d266726a9227dbf5aa14a0"><div class="ttname"><a href="WTSMarcos_8h.html#a9fa6ba5a28d266726a9227dbf5aa14a0">INVALID_DOUBLE</a></div><div class="ttdeci">#define INVALID_DOUBLE</div><div class="ttdoc">无效值宏定义</div><div class="ttdef"><b>Definition</b> <a href="WTSMarcos_8h_source.html#l00066">WTSMarcos.h:66</a></div></div>
<div class="ttc" id="aWTSMarcos_8h_html_ab58070d1c518278febd8f11f08c7bd24"><div class="ttname"><a href="WTSMarcos_8h.html#ab58070d1c518278febd8f11f08c7bd24">INVALID_UINT32</a></div><div class="ttdeci">#define INVALID_UINT32</div><div class="ttdoc">无效的无符号32位整数值</div><div class="ttdef"><b>Definition</b> <a href="WTSMarcos_8h_source.html#l00068">WTSMarcos.h:68</a></div></div>
<div class="ttc" id="aWTSMarcos_8h_html_ae3e2cd00c20ce8b9ae0ae37a089d7d5e"><div class="ttname"><a href="WTSMarcos_8h.html#ae3e2cd00c20ce8b9ae0ae37a089d7d5e">wt_strcpy</a></div><div class="ttdeci">size_t wt_strcpy(char *des, const char *src, size_t len=0)</div><div class="ttdoc">字符串拷贝函数</div><div class="ttdef"><b>Definition</b> <a href="WTSMarcos_8h_source.html#l00155">WTSMarcos.h:155</a></div></div>
<div class="ttc" id="aWTSObject_8hpp_html"><div class="ttname"><a href="WTSObject_8hpp.html">WTSObject.hpp</a></div><div class="ttdoc">Wt基础Object定义</div></div>
<div class="ttc" id="aWTSStruct_8h_html"><div class="ttname"><a href="WTSStruct_8h.html">WTSStruct.h</a></div><div class="ttdoc">Wt基础结构体定义</div></div>
<div class="ttc" id="aWTSTypes_8h_html"><div class="ttname"><a href="WTSTypes_8h.html">WTSTypes.h</a></div><div class="ttdoc">WonderTrader基本数据类型定义文件</div></div>
<div class="ttc" id="aWTSTypes_8h_html_a27f5d8bd7208a5fc1d044c6f5961904c"><div class="ttname"><a href="WTSTypes_8h.html#a27f5d8bd7208a5fc1d044c6f5961904c">WTSKlinePeriod</a></div><div class="ttdeci">enum tagKlinePeriod WTSKlinePeriod</div></div>
<div class="ttc" id="aWTSTypes_8h_html_aa7f97f299a3eaeed91902c6b6dc0c492a03a4ceb6fa99dc751cc32a3164b3bed6"><div class="ttname"><a href="WTSTypes_8h.html#aa7f97f299a3eaeed91902c6b6dc0c492a03a4ceb6fa99dc751cc32a3164b3bed6">KFT_CLOSE</a></div><div class="ttdeci">@ KFT_CLOSE</div><div class="ttdef"><b>Definition</b> <a href="WTSTypes_8h_source.html#l00092">WTSTypes.h:92</a></div></div>
<div class="ttc" id="aWTSTypes_8h_html_aa7f97f299a3eaeed91902c6b6dc0c492a4b0b573c4db5995cabeba8f21c481bc0"><div class="ttname"><a href="WTSTypes_8h.html#aa7f97f299a3eaeed91902c6b6dc0c492a4b0b573c4db5995cabeba8f21c481bc0">KFT_DATE</a></div><div class="ttdeci">@ KFT_DATE</div><div class="ttdef"><b>Definition</b> <a href="WTSTypes_8h_source.html#l00093">WTSTypes.h:93</a></div></div>
<div class="ttc" id="aWTSTypes_8h_html_aa7f97f299a3eaeed91902c6b6dc0c492a84c01e441f291cc68ea3212206125b38"><div class="ttname"><a href="WTSTypes_8h.html#aa7f97f299a3eaeed91902c6b6dc0c492a84c01e441f291cc68ea3212206125b38">KFT_SVOLUME</a></div><div class="ttdeci">@ KFT_SVOLUME</div><div class="ttdef"><b>Definition</b> <a href="WTSTypes_8h_source.html#l00097">WTSTypes.h:96</a></div></div>
<div class="ttc" id="aWTSTypes_8h_html_aa7f97f299a3eaeed91902c6b6dc0c492ab43b7aeeb34320a4e8916fa87c75fea5"><div class="ttname"><a href="WTSTypes_8h.html#aa7f97f299a3eaeed91902c6b6dc0c492ab43b7aeeb34320a4e8916fa87c75fea5">KFT_VOLUME</a></div><div class="ttdeci">@ KFT_VOLUME</div><div class="ttdef"><b>Definition</b> <a href="WTSTypes_8h_source.html#l00095">WTSTypes.h:95</a></div></div>
<div class="ttc" id="aWTSTypes_8h_html_aa7f97f299a3eaeed91902c6b6dc0c492ab7e218cc44052c5824ebd89641edcfd3"><div class="ttname"><a href="WTSTypes_8h.html#aa7f97f299a3eaeed91902c6b6dc0c492ab7e218cc44052c5824ebd89641edcfd3">KFT_LOW</a></div><div class="ttdeci">@ KFT_LOW</div><div class="ttdef"><b>Definition</b> <a href="WTSTypes_8h_source.html#l00091">WTSTypes.h:91</a></div></div>
<div class="ttc" id="aWTSTypes_8h_html_aa7f97f299a3eaeed91902c6b6dc0c492acf96cc951308f70b057bf8d241fb0760"><div class="ttname"><a href="WTSTypes_8h.html#aa7f97f299a3eaeed91902c6b6dc0c492acf96cc951308f70b057bf8d241fb0760">KFT_HIGH</a></div><div class="ttdeci">@ KFT_HIGH</div><div class="ttdef"><b>Definition</b> <a href="WTSTypes_8h_source.html#l00090">WTSTypes.h:90</a></div></div>
<div class="ttc" id="aWTSTypes_8h_html_aa7f97f299a3eaeed91902c6b6dc0c492ad4d8774bc79658a279ee4b0390bfc941"><div class="ttname"><a href="WTSTypes_8h.html#aa7f97f299a3eaeed91902c6b6dc0c492ad4d8774bc79658a279ee4b0390bfc941">KFT_OPEN</a></div><div class="ttdeci">@ KFT_OPEN</div><div class="ttdef"><b>Definition</b> <a href="WTSTypes_8h_source.html#l00089">WTSTypes.h:89</a></div></div>
<div class="ttc" id="aWTSTypes_8h_html_aa7f97f299a3eaeed91902c6b6dc0c492af9b849bad99316d51d98451625ae46d7"><div class="ttname"><a href="WTSTypes_8h.html#aa7f97f299a3eaeed91902c6b6dc0c492af9b849bad99316d51d98451625ae46d7">KFT_TIME</a></div><div class="ttdeci">@ KFT_TIME</div><div class="ttdef"><b>Definition</b> <a href="WTSTypes_8h_source.html#l00094">WTSTypes.h:94</a></div></div>
<div class="ttc" id="aWTSTypes_8h_html_ab8ef9ede7e4a6cfd3af326e7d1337087"><div class="ttname"><a href="WTSTypes_8h.html#ab8ef9ede7e4a6cfd3af326e7d1337087">WTSKlineFieldType</a></div><div class="ttdeci">enum tagKlineFieldType WTSKlineFieldType</div></div>
<div class="ttc" id="aWTSTypes_8h_html_acac96eb977d20b3a6186f0ccede8a9d8a3b64a9f21f4bd5432a8b3f8424c4410e"><div class="ttname"><a href="WTSTypes_8h.html#acac96eb977d20b3a6186f0ccede8a9d8a3b64a9f21f4bd5432a8b3f8424c4410e">KP_Minute1</a></div><div class="ttdeci">@ KP_Minute1</div><div class="ttdef"><b>Definition</b> <a href="WTSTypes_8h_source.html#l00105">WTSTypes.h:105</a></div></div>
<div class="ttc" id="aclassWTSContractInfo_html"><div class="ttname"><a href="classWTSContractInfo.html">WTSContractInfo</a></div><div class="ttdoc">合约信息类</div><div class="ttdef"><b>Definition</b> <a href="WTSContractInfo_8hpp_source.html#l00171">WTSContractInfo.hpp:172</a></div></div>
<div class="ttc" id="aclassWTSHisTickData_html"><div class="ttname"><a href="classWTSHisTickData.html">WTSHisTickData</a></div><div class="ttdoc">历史Tick数据类</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01954">WTSDataDef.hpp:1955</a></div></div>
<div class="ttc" id="aclassWTSHisTickData_html_a0d32c0955620476e026dc0b886c6ee3c"><div class="ttname"><a href="classWTSHisTickData.html#a0d32c0955620476e026dc0b886c6ee3c">WTSHisTickData::WTSHisTickData</a></div><div class="ttdeci">WTSHisTickData()</div><div class="ttdoc">构造函数（保护类型）</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01991">WTSDataDef.hpp:1991</a></div></div>
<div class="ttc" id="aclassWTSHisTickData_html_a20365050de927f885a98f4e7b991d347"><div class="ttname"><a href="classWTSHisTickData.html#a20365050de927f885a98f4e7b991d347">WTSHisTickData::getDataRef</a></div><div class="ttdeci">std::vector&lt; WTSTickStruct &gt; &amp; getDataRef()</div><div class="ttdoc">获取Tick数据容器的引用</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02089">WTSDataDef.hpp:2089</a></div></div>
<div class="ttc" id="aclassWTSHisTickData_html_a33936cffa3a44e47d7e5a3262a8c9e24"><div class="ttname"><a href="classWTSHisTickData.html#a33936cffa3a44e47d7e5a3262a8c9e24">WTSHisTickData::create</a></div><div class="ttdeci">static WTSHisTickData * create(const char *stdCode, bool bValidOnly=false, double factor=1.0)</div><div class="ttdoc">创建历史Tick数据对象（不预分配容量版本）</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02028">WTSDataDef.hpp:2028</a></div></div>
<div class="ttc" id="aclassWTSHisTickData_html_a61c6d725c1ca12b01d415caa6b2534d6"><div class="ttname"><a href="classWTSHisTickData.html#a61c6d725c1ca12b01d415caa6b2534d6">WTSHisTickData::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdoc">判断历史Tick数据是否为空</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02054">WTSDataDef.hpp:2054</a></div></div>
<div class="ttc" id="aclassWTSHisTickData_html_a651b6ceb5c74b784f24b22c12a3f9fdb"><div class="ttname"><a href="classWTSHisTickData.html#a651b6ceb5c74b784f24b22c12a3f9fdb">WTSHisTickData::at</a></div><div class="ttdeci">WTSTickStruct * at(uint32_t idx)</div><div class="ttdoc">获取指定位置的Tick数据</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02073">WTSDataDef.hpp:2073</a></div></div>
<div class="ttc" id="aclassWTSHisTickData_html_a826a25a2d3e5370b43b0d261ca51ce26"><div class="ttname"><a href="classWTSHisTickData.html#a826a25a2d3e5370b43b0d261ca51ce26">WTSHisTickData::appendTick</a></div><div class="ttdeci">void appendTick(const WTSTickStruct &amp;ts)</div><div class="ttdoc">追加一条Tick数据</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02108">WTSDataDef.hpp:2108</a></div></div>
<div class="ttc" id="aclassWTSHisTickData_html_aa3b8c04eebd78124cf13d24b31fc09f9"><div class="ttname"><a href="classWTSHisTickData.html#aa3b8c04eebd78124cf13d24b31fc09f9">WTSHisTickData::isValidOnly</a></div><div class="ttdeci">bool isValidOnly() const</div><div class="ttdoc">判断是否仅包含有效数据</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02098">WTSDataDef.hpp:2098</a></div></div>
<div class="ttc" id="aclassWTSHisTickData_html_aadabb1bfaa19748389f96bda917a7ce8"><div class="ttname"><a href="classWTSHisTickData.html#aadabb1bfaa19748389f96bda917a7ce8">WTSHisTickData::size</a></div><div class="ttdeci">uint32_t size() const</div><div class="ttdoc">获取历史Tick数据的条数</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02045">WTSDataDef.hpp:2045</a></div></div>
<div class="ttc" id="aclassWTSHisTickData_html_aae2824712642b696bcb703a438b75708"><div class="ttname"><a href="classWTSHisTickData.html#aae2824712642b696bcb703a438b75708">WTSHisTickData::code</a></div><div class="ttdeci">const char * code() const</div><div class="ttdoc">获取历史Tick数据对应的合约代码</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02063">WTSDataDef.hpp:2063</a></div></div>
<div class="ttc" id="aclassWTSHisTickData_html_ab336a2fddd26fa2eb8df16621dbc4922"><div class="ttname"><a href="classWTSHisTickData.html#ab336a2fddd26fa2eb8df16621dbc4922">WTSHisTickData::m_dFactor</a></div><div class="ttdeci">double m_dFactor</div><div class="ttdoc">复权因子</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01983">WTSDataDef.hpp:1983</a></div></div>
<div class="ttc" id="aclassWTSHisTickData_html_ac2e52aef34127e65c6b1712452666105"><div class="ttname"><a href="classWTSHisTickData.html#ac2e52aef34127e65c6b1712452666105">WTSHisTickData::m_bValidOnly</a></div><div class="ttdeci">bool m_bValidOnly</div><div class="ttdoc">是否只包含有效数据</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01976">WTSDataDef.hpp:1976</a></div></div>
<div class="ttc" id="aclassWTSHisTickData_html_ad3e64605aa9877081bc8d133bc72453b"><div class="ttname"><a href="classWTSHisTickData.html#ad3e64605aa9877081bc8d133bc72453b">WTSHisTickData::create</a></div><div class="ttdeci">static WTSHisTickData * create(const char *stdCode, unsigned int nSize=0, bool bValidOnly=false, double factor=1.0)</div><div class="ttdoc">创建指定大小的历史Tick数据对象</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02006">WTSDataDef.hpp:2006</a></div></div>
<div class="ttc" id="aclassWTSHisTickData_html_aefd2b14ebe4ef875f425ba69cd657734"><div class="ttname"><a href="classWTSHisTickData.html#aefd2b14ebe4ef875f425ba69cd657734">WTSHisTickData::m_ayTicks</a></div><div class="ttdeci">std::vector&lt; WTSTickStruct &gt; m_ayTicks</div><div class="ttdoc">Tick数据容器</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01969">WTSDataDef.hpp:1969</a></div></div>
<div class="ttc" id="aclassWTSHisTickData_html_af2e93d46011fba1d83ee2c873c1e0c6c"><div class="ttname"><a href="classWTSHisTickData.html#af2e93d46011fba1d83ee2c873c1e0c6c">WTSHisTickData::m_strCode</a></div><div class="ttdeci">char m_strCode[32]</div><div class="ttdoc">合约代码</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01962">WTSDataDef.hpp:1962</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html"><div class="ttname"><a href="classWTSKlineData.html">WTSKlineData</a></div><div class="ttdoc">K线数据类</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00649">WTSDataDef.hpp:650</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_a03242326ba9409ab377cf7982b08ffdd"><div class="ttname"><a href="classWTSKlineData.html#a03242326ba9409ab377cf7982b08ffdd">WTSKlineData::isUnixTime</a></div><div class="ttdeci">bool isUnixTime() const</div><div class="ttdoc">判断是否使用Unix时间戳格式</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00772">WTSDataDef.hpp:772</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_a032a8fcceeddf4ac8227330eef8fbd82"><div class="ttname"><a href="classWTSKlineData.html#a032a8fcceeddf4ac8227330eef8fbd82">WTSKlineData::period</a></div><div class="ttdeci">WTSKlinePeriod period() const</div><div class="ttdoc">获取K线周期类型</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00758">WTSDataDef.hpp:758</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_a04b1d70862558365513606b0b46083be"><div class="ttname"><a href="classWTSKlineData.html#a04b1d70862558365513606b0b46083be">WTSKlineData::extractData</a></div><div class="ttdeci">WTSValueArray * extractData(WTSKlineFieldType type, int32_t head=0, int32_t tail=-1) const</div><div class="ttdoc">提取K线数据中指定字段的数据序列</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01110">WTSDataDef.hpp:1110</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_a08d8f88eed19fa432594a9354d91bce5"><div class="ttname"><a href="classWTSKlineData.html#a08d8f88eed19fa432594a9354d91bce5">WTSKlineData::setCode</a></div><div class="ttdeci">void setCode(const char *code)</div><div class="ttdoc">设置K线数据的合约代码</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00868">WTSDataDef.hpp:868</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_a1118b22da3914993d2550b40bd0a179f"><div class="ttname"><a href="classWTSKlineData.html#a1118b22da3914993d2550b40bd0a179f">WTSKlineData::low</a></div><div class="ttdeci">double low(int32_t idx) const</div><div class="ttdoc">读取指定位置的最低价</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00917">WTSDataDef.hpp:917</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_a1ff97a9a62dd22a6f7f2608e1b719bbf"><div class="ttname"><a href="classWTSKlineData.html#a1ff97a9a62dd22a6f7f2608e1b719bbf">WTSKlineData::create</a></div><div class="ttdeci">static WTSKlineData * create(const char *code, uint32_t size)</div><div class="ttdoc">创建一个K线数据对象</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00708">WTSDataDef.hpp:708</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_a32558b75beb893c1fc5b5df58fbdbe29"><div class="ttname"><a href="classWTSKlineData.html#a32558b75beb893c1fc5b5df58fbdbe29">WTSKlineData::high</a></div><div class="ttdeci">double high(int32_t idx) const</div><div class="ttdoc">读取指定位置的最高价</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00898">WTSDataDef.hpp:898</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_a3962dc6f1a16de4c680f4928adce7f81"><div class="ttname"><a href="classWTSKlineData.html#a3962dc6f1a16de4c680f4928adce7f81">WTSKlineData::time</a></div><div class="ttdeci">uint64_t time(int32_t idx) const</div><div class="ttdoc">读取指定位置的时间</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01088">WTSDataDef.hpp:1088</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_a39e3eabb26f1a3a74c40f6890e523f2c"><div class="ttname"><a href="classWTSKlineData.html#a39e3eabb26f1a3a74c40f6890e523f2c">WTSKlineData::m_bUnixTime</a></div><div class="ttdeci">bool m_bUnixTime</div><div class="ttdoc">是否是时间戳格式，目前只在秒线上有效</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00659">WTSDataDef.hpp:659</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_a40553f33d8aa6f09c1107494c31bd560"><div class="ttname"><a href="classWTSKlineData.html#a40553f33d8aa6f09c1107494c31bd560">WTSKlineData::maxprice</a></div><div class="ttdeci">double maxprice(int32_t head, int32_t tail) const</div><div class="ttdoc">查找指定范围内的最高价格</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00784">WTSDataDef.hpp:784</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_a43fb5ca9e10d81ed94a21baede44b2d9"><div class="ttname"><a href="classWTSKlineData.html#a43fb5ca9e10d81ed94a21baede44b2d9">WTSKlineData::size</a></div><div class="ttdeci">uint32_t size() const</div><div class="ttdoc">返回K线数据的总数量</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00841">WTSDataDef.hpp:841</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_a4c3ac297e1e2facfa2027fe18b76ffa9"><div class="ttname"><a href="classWTSKlineData.html#a4c3ac297e1e2facfa2027fe18b76ffa9">WTSKlineData::times</a></div><div class="ttdeci">uint32_t times() const</div><div class="ttdoc">获取K线周期倍数</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00765">WTSDataDef.hpp:765</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_a4dcf60e453759b4143888d88391b67e4"><div class="ttname"><a href="classWTSKlineData.html#a4dcf60e453759b4143888d88391b67e4">WTSKlineData::bidprice</a></div><div class="ttdeci">double bidprice(int32_t idx) const</div><div class="ttdoc">读取指定位置的买一价（买盘价）</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01012">WTSDataDef.hpp:1012</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_a5231e60be31ff49788b7ee311cbecaf4"><div class="ttname"><a href="classWTSKlineData.html#a5231e60be31ff49788b7ee311cbecaf4">WTSKlineData::getDataRef</a></div><div class="ttdeci">WTSBarList &amp; getDataRef()</div><div class="ttdoc">获取K线数据内部vector容器的引用</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01171">WTSDataDef.hpp:1171</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_a5581a01eac1be1a393b893b3a8d1e574"><div class="ttname"><a href="classWTSKlineData.html#a5581a01eac1be1a393b893b3a8d1e574">WTSKlineData::m_vecBarData</a></div><div class="ttdeci">WTSBarList m_vecBarData</div><div class="ttdoc">K线数据容器，使用std::vector存储</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00660">WTSDataDef.hpp:660</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_a588f7772f8446a52f2cebf039af15b86"><div class="ttname"><a href="classWTSKlineData.html#a588f7772f8446a52f2cebf039af15b86">WTSKlineData::m_uTimes</a></div><div class="ttdeci">uint32_t m_uTimes</div><div class="ttdoc">周期倍数（如5分钟、15分钟等的倍数）</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00658">WTSDataDef.hpp:658</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_a5aaf007bec23ed89fa934fcab76735bd"><div class="ttname"><a href="classWTSKlineData.html#a5aaf007bec23ed89fa934fcab76735bd">WTSKlineData::appendBar</a></div><div class="ttdeci">void appendBar(const WTSBarStruct &amp;bar)</div><div class="ttdoc">追加一条K线数据</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01217">WTSDataDef.hpp:1217</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_a64a9c7417dad7e639dc5e743e6bc8964"><div class="ttname"><a href="classWTSKlineData.html#a64a9c7417dad7e639dc5e743e6bc8964">WTSKlineData::WTSBarList</a></div><div class="ttdeci">std::vector&lt; WTSBarStruct &gt; WTSBarList</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00653">WTSDataDef.hpp:653</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_a6586dc36dc475933f12e2c1f30fb1491"><div class="ttname"><a href="classWTSKlineData.html#a6586dc36dc475933f12e2c1f30fb1491">WTSKlineData::m_strCode</a></div><div class="ttdeci">char m_strCode[32]</div><div class="ttdoc">合约代码</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00656">WTSDataDef.hpp:656</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_a669e83176a30e91885eaf71cd672fdb2"><div class="ttname"><a href="classWTSKlineData.html#a669e83176a30e91885eaf71cd672fdb2">WTSKlineData::setPeriod</a></div><div class="ttdeci">void setPeriod(WTSKlinePeriod period, uint32_t times=1)</div><div class="ttdoc">设置K线周期和倍数</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00742">WTSDataDef.hpp:742</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_a74b21efb7193ebf027bbf4b831413a3d"><div class="ttname"><a href="classWTSKlineData.html#a74b21efb7193ebf027bbf4b831413a3d">WTSKlineData::isClosed</a></div><div class="ttdeci">bool isClosed() const</div><div class="ttdoc">判断K线是否闭合</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00732">WTSDataDef.hpp:732</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_a7d5ded93de5d91604cf22d6f96bd8249"><div class="ttname"><a href="classWTSKlineData.html#a7d5ded93de5d91604cf22d6f96bd8249">WTSKlineData::money</a></div><div class="ttdeci">double money(int32_t idx) const</div><div class="ttdoc">读取指定位置的成交额</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01050">WTSDataDef.hpp:1050</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_a8be50c6b3ed93868b1eced69b442ba8e"><div class="ttname"><a href="classWTSKlineData.html#a8be50c6b3ed93868b1eced69b442ba8e">WTSKlineData::volume</a></div><div class="ttdeci">double volume(int32_t idx) const</div><div class="ttdoc">读取指定位置的成交量</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00955">WTSDataDef.hpp:955</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_a96e8a3872278372d0da974ae7ac96705"><div class="ttname"><a href="classWTSKlineData.html#a96e8a3872278372d0da974ae7ac96705">WTSKlineData::setClosed</a></div><div class="ttdeci">void setClosed(bool bClosed)</div><div class="ttdoc">设置K线是否闭合</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00725">WTSDataDef.hpp:725</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_a99975f0c7493c97b6a540ea6adf7d0d5"><div class="ttname"><a href="classWTSKlineData.html#a99975f0c7493c97b6a540ea6adf7d0d5">WTSKlineData::translateIdx</a></div><div class="ttdeci">int32_t translateIdx(int32_t idx) const</div><div class="ttdoc">转换索引</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00687">WTSDataDef.hpp:687</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_a9b0b5ce2c4aef6633a94ec170180bbdb"><div class="ttname"><a href="classWTSKlineData.html#a9b0b5ce2c4aef6633a94ec170180bbdb">WTSKlineData::at</a></div><div class="ttdeci">WTSBarStruct * at(int32_t idx)</div><div class="ttdoc">访问指定位置的K线数据</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01182">WTSDataDef.hpp:1182</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_a9c92624f42c30ff76d23721827fd0664"><div class="ttname"><a href="classWTSKlineData.html#a9c92624f42c30ff76d23721827fd0664">WTSKlineData::openinterest</a></div><div class="ttdeci">double openinterest(int32_t idx) const</div><div class="ttdoc">读取指定位置的持仓量（总持仓量）</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00974">WTSDataDef.hpp:974</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_aa458be0f4451a40dc67d4b2f1e5434b9"><div class="ttname"><a href="classWTSKlineData.html#aa458be0f4451a40dc67d4b2f1e5434b9">WTSKlineData::minprice</a></div><div class="ttdeci">double minprice(int32_t head, int32_t tail) const</div><div class="ttdoc">查找指定范围内的最低价格</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00814">WTSDataDef.hpp:814</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_ab8345bff937f9063c28d6bcc50beef32"><div class="ttname"><a href="classWTSKlineData.html#ab8345bff937f9063c28d6bcc50beef32">WTSKlineData::WTSKlineData</a></div><div class="ttdeci">WTSKlineData()</div><div class="ttdoc">构造函数（保护类型）</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00670">WTSDataDef.hpp:670</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_aba6b8bd1eccc9e0a9bc85753e7a3e279"><div class="ttname"><a href="classWTSKlineData.html#aba6b8bd1eccc9e0a9bc85753e7a3e279">WTSKlineData::date</a></div><div class="ttdeci">uint32_t date(int32_t idx) const</div><div class="ttdoc">读取指定位置的日期</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01069">WTSDataDef.hpp:1069</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_abeadcfafc40021ea5db2fc5ad1a8679d"><div class="ttname"><a href="classWTSKlineData.html#abeadcfafc40021ea5db2fc5ad1a8679d">WTSKlineData::setUnixTime</a></div><div class="ttdeci">void setUnixTime(bool bEnabled=true)</div><div class="ttdoc">设置是否使用Unix时间戳格式</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00751">WTSDataDef.hpp:751</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_ac6f50337abfb1a33bbc9194942092eef"><div class="ttname"><a href="classWTSKlineData.html#ac6f50337abfb1a33bbc9194942092eef">WTSKlineData::release</a></div><div class="ttdeci">virtual void release()</div><div class="ttdoc">释放K线数据对象资源</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01198">WTSDataDef.hpp:1198</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_acdc394f40f4f744be271c4b8a529d2db"><div class="ttname"><a href="classWTSKlineData.html#acdc394f40f4f744be271c4b8a529d2db">WTSKlineData::close</a></div><div class="ttdeci">double close(int32_t idx) const</div><div class="ttdoc">读取指定位置的收盘价</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00936">WTSDataDef.hpp:936</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_ad2a6967d30b50efb820dcb3db9212291"><div class="ttname"><a href="classWTSKlineData.html#ad2a6967d30b50efb820dcb3db9212291">WTSKlineData::additional</a></div><div class="ttdeci">double additional(int32_t idx) const</div><div class="ttdoc">读取指定位置的增仓量</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00993">WTSDataDef.hpp:993</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_adab10bfe7badf49081ae3dd5b532399e"><div class="ttname"><a href="classWTSKlineData.html#adab10bfe7badf49081ae3dd5b532399e">WTSKlineData::open</a></div><div class="ttdeci">double open(int32_t idx) const</div><div class="ttdoc">读取指定位置的开盘价</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00879">WTSDataDef.hpp:879</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_adbaef6200eb5efc372a63e5d3dcb7b14"><div class="ttname"><a href="classWTSKlineData.html#adbaef6200eb5efc372a63e5d3dcb7b14">WTSKlineData::IsEmpty</a></div><div class="ttdeci">bool IsEmpty() const</div><div class="ttdoc">判断K线数据是否为空</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00850">WTSDataDef.hpp:850</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_add336b80453f8ad6c5691373c7f96659"><div class="ttname"><a href="classWTSKlineData.html#add336b80453f8ad6c5691373c7f96659">WTSKlineData::askprice</a></div><div class="ttdeci">double askprice(int32_t idx) const</div><div class="ttdoc">读取指定位置的卖一价（卖盘价）</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01031">WTSDataDef.hpp:1031</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_adeaec2ecebfbf092897526cf30997b37"><div class="ttname"><a href="classWTSKlineData.html#adeaec2ecebfbf092897526cf30997b37">WTSKlineData::m_kpPeriod</a></div><div class="ttdeci">WTSKlinePeriod m_kpPeriod</div><div class="ttdoc">K线周期类型（分钟、日线等）</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00657">WTSDataDef.hpp:657</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_ae5008433b11416fca4a6c0e1eeb0497e"><div class="ttname"><a href="classWTSKlineData.html#ae5008433b11416fca4a6c0e1eeb0497e">WTSKlineData::code</a></div><div class="ttdeci">const char * code() const</div><div class="ttdoc">获取K线数据的合约代码</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00859">WTSDataDef.hpp:859</a></div></div>
<div class="ttc" id="aclassWTSKlineData_html_af71b3ace1e67e0c411b940234a7082ef"><div class="ttname"><a href="classWTSKlineData.html#af71b3ace1e67e0c411b940234a7082ef">WTSKlineData::m_bClosed</a></div><div class="ttdeci">bool m_bClosed</div><div class="ttdoc">是否是闭合K线，表示最后一条K线是否已完成</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00661">WTSDataDef.hpp:661</a></div></div>
<div class="ttc" id="aclassWTSKlineSlice_html"><div class="ttname"><a href="classWTSKlineSlice.html">WTSKlineSlice</a></div><div class="ttdoc">K线数据切片类</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00295">WTSDataDef.hpp:296</a></div></div>
<div class="ttc" id="aclassWTSKlineSlice_html_a0ab6892ac7eeedb64e52bdde40f70c1e"><div class="ttname"><a href="classWTSKlineSlice.html#a0ab6892ac7eeedb64e52bdde40f70c1e">WTSKlineSlice::_count</a></div><div class="ttdeci">uint32_t _count</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00303">WTSDataDef.hpp:303</a></div></div>
<div class="ttc" id="aclassWTSKlineSlice_html_a158eda11c49a9ada165dce6c0df54042"><div class="ttname"><a href="classWTSKlineSlice.html#a158eda11c49a9ada165dce6c0df54042">WTSKlineSlice::at</a></div><div class="ttdeci">WTSBarStruct * at(int32_t idx)</div><div class="ttdoc">获取指定位置的K线数据（非常量版本）</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00435">WTSDataDef.hpp:435</a></div></div>
<div class="ttc" id="aclassWTSKlineSlice_html_a1a4ce1417a29ac69e14ea20ac52a5f93"><div class="ttname"><a href="classWTSKlineSlice.html#a1a4ce1417a29ac69e14ea20ac52a5f93">WTSKlineSlice::_times</a></div><div class="ttdeci">uint32_t _times</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00300">WTSDataDef.hpp:300</a></div></div>
<div class="ttc" id="aclassWTSKlineSlice_html_a1ae6fc27c30c3af4dd0f0e41843e9b7f"><div class="ttname"><a href="classWTSKlineSlice.html#a1ae6fc27c30c3af4dd0f0e41843e9b7f">WTSKlineSlice::minprice</a></div><div class="ttdeci">double minprice(int32_t head, int32_t tail) const</div><div class="ttdoc">查找指定范围内的最小价格</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00520">WTSDataDef.hpp:520</a></div></div>
<div class="ttc" id="aclassWTSKlineSlice_html_a2b44d1c8a48a3377f13d2de8eec17c2c"><div class="ttname"><a href="classWTSKlineSlice.html#a2b44d1c8a48a3377f13d2de8eec17c2c">WTSKlineSlice::at</a></div><div class="ttdeci">const WTSBarStruct * at(int32_t idx) const</div><div class="ttdoc">获取指定位置的K线数据（常量版本）</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00464">WTSDataDef.hpp:464</a></div></div>
<div class="ttc" id="aclassWTSKlineSlice_html_a379f75e379cb006d1444785f2c29a56c"><div class="ttname"><a href="classWTSKlineSlice.html#a379f75e379cb006d1444785f2c29a56c">WTSKlineSlice::setCode</a></div><div class="ttdeci">void setCode(const char *code)</div><div class="ttdoc">设置K线切片的合约代码</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00571">WTSDataDef.hpp:571</a></div></div>
<div class="ttc" id="aclassWTSKlineSlice_html_a47fff81e914cd5062c0341fecc35172c"><div class="ttname"><a href="classWTSKlineSlice.html#a47fff81e914cd5062c0341fecc35172c">WTSKlineSlice::BarBlock</a></div><div class="ttdeci">std::pair&lt; WTSBarStruct *, uint32_t &gt; BarBlock</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00301">WTSDataDef.hpp:301</a></div></div>
<div class="ttc" id="aclassWTSKlineSlice_html_a51faa13cd01bf3569c4483c4a3498fef"><div class="ttname"><a href="classWTSKlineSlice.html#a51faa13cd01bf3569c4483c4a3498fef">WTSKlineSlice::appendBlock</a></div><div class="ttdeci">bool appendBlock(WTSBarStruct *bars, uint32_t count)</div><div class="ttdoc">追加K线数据块</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00378">WTSDataDef.hpp:378</a></div></div>
<div class="ttc" id="aclassWTSKlineSlice_html_a55a924203195b459bef3164bde067f3b"><div class="ttname"><a href="classWTSKlineSlice.html#a55a924203195b459bef3164bde067f3b">WTSKlineSlice::extractData</a></div><div class="ttdeci">WTSValueArray * extractData(WTSKlineFieldType type, int32_t head=0, int32_t tail=-1) const</div><div class="ttdoc">提取K线切片中指定字段的数据序列</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00586">WTSDataDef.hpp:586</a></div></div>
<div class="ttc" id="aclassWTSKlineSlice_html_a58a95fc9dcc6c1693d10adba8b25beb1"><div class="ttname"><a href="classWTSKlineSlice.html#a58a95fc9dcc6c1693d10adba8b25beb1">WTSKlineSlice::create</a></div><div class="ttdeci">static WTSKlineSlice * create(const char *code, WTSKlinePeriod period, uint32_t times, WTSBarStruct *bars=NULL, int32_t count=0)</div><div class="ttdoc">创建K线切片对象的工厂方法</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00355">WTSDataDef.hpp:355</a></div></div>
<div class="ttc" id="aclassWTSKlineSlice_html_a59e3c3f2d1574db28d6b6841372b3a4c"><div class="ttname"><a href="classWTSKlineSlice.html#a59e3c3f2d1574db28d6b6841372b3a4c">WTSKlineSlice::_period</a></div><div class="ttdeci">WTSKlinePeriod _period</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00299">WTSDataDef.hpp:299</a></div></div>
<div class="ttc" id="aclassWTSKlineSlice_html_a6259e239f18e611007ef176259d836d9"><div class="ttname"><a href="classWTSKlineSlice.html#a6259e239f18e611007ef176259d836d9">WTSKlineSlice::get_block_addr</a></div><div class="ttdeci">WTSBarStruct * get_block_addr(std::size_t blkIdx)</div><div class="ttdoc">获取指定数据块的地址</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00401">WTSDataDef.hpp:401</a></div></div>
<div class="ttc" id="aclassWTSKlineSlice_html_a763673e4cc73d6b28519c795411d098e"><div class="ttname"><a href="classWTSKlineSlice.html#a763673e4cc73d6b28519c795411d098e">WTSKlineSlice::get_block_size</a></div><div class="ttdeci">uint32_t get_block_size(std::size_t blkIdx)</div><div class="ttdoc">获取指定数据块的大小</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00417">WTSDataDef.hpp:417</a></div></div>
<div class="ttc" id="aclassWTSKlineSlice_html_a7dd654f58f3144c5a69e56be2480db66"><div class="ttname"><a href="classWTSKlineSlice.html#a7dd654f58f3144c5a69e56be2480db66">WTSKlineSlice::_code</a></div><div class="ttdeci">char _code[MAX_INSTRUMENT_LENGTH]</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00298">WTSDataDef.hpp:298</a></div></div>
<div class="ttc" id="aclassWTSKlineSlice_html_a7e7629efa75839161ab70474edf401e7"><div class="ttname"><a href="classWTSKlineSlice.html#a7e7629efa75839161ab70474edf401e7">WTSKlineSlice::translateIdx</a></div><div class="ttdeci">int32_t translateIdx(int32_t idx) const</div><div class="ttdoc">转换索引值</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00329">WTSDataDef.hpp:329</a></div></div>
<div class="ttc" id="aclassWTSKlineSlice_html_a86b5e048d687483ac6dc91014e503d09"><div class="ttname"><a href="classWTSKlineSlice.html#a86b5e048d687483ac6dc91014e503d09">WTSKlineSlice::size</a></div><div class="ttdeci">int32_t size() const</div><div class="ttdoc">返回K线切片中的K线总数</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00544">WTSDataDef.hpp:544</a></div></div>
<div class="ttc" id="aclassWTSKlineSlice_html_aa30b17fc1bfa8bc449f448632489472a"><div class="ttname"><a href="classWTSKlineSlice.html#aa30b17fc1bfa8bc449f448632489472a">WTSKlineSlice::code</a></div><div class="ttdeci">const char * code() const</div><div class="ttdoc">获取K线切片的合约代码</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00562">WTSDataDef.hpp:562</a></div></div>
<div class="ttc" id="aclassWTSKlineSlice_html_abd932fcad04d4b7feb3c307f230172c8"><div class="ttname"><a href="classWTSKlineSlice.html#abd932fcad04d4b7feb3c307f230172c8">WTSKlineSlice::WTSKlineSlice</a></div><div class="ttdeci">WTSKlineSlice()</div><div class="ttdoc">构造函数</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00312">WTSDataDef.hpp:312</a></div></div>
<div class="ttc" id="aclassWTSKlineSlice_html_abeabf480ff8ddfd412f20a9cf118c86c"><div class="ttname"><a href="classWTSKlineSlice.html#abeabf480ff8ddfd412f20a9cf118c86c">WTSKlineSlice::get_block_counts</a></div><div class="ttdeci">std::size_t get_block_counts() const</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00388">WTSDataDef.hpp:388</a></div></div>
<div class="ttc" id="aclassWTSKlineSlice_html_ac64f1b180abebf5805164ca7cc203626"><div class="ttname"><a href="classWTSKlineSlice.html#ac64f1b180abebf5805164ca7cc203626">WTSKlineSlice::maxprice</a></div><div class="ttdeci">double maxprice(int32_t head, int32_t tail) const</div><div class="ttdoc">查找指定范围内的最大价格</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00494">WTSDataDef.hpp:494</a></div></div>
<div class="ttc" id="aclassWTSKlineSlice_html_ace7552bb9f0438d3a22f395cb98b9255"><div class="ttname"><a href="classWTSKlineSlice.html#ace7552bb9f0438d3a22f395cb98b9255">WTSKlineSlice::_blocks</a></div><div class="ttdeci">std::vector&lt; BarBlock &gt; _blocks</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00302">WTSDataDef.hpp:302</a></div></div>
<div class="ttc" id="aclassWTSKlineSlice_html_ad1fd5441c8b4129309daca77f24812da"><div class="ttname"><a href="classWTSKlineSlice.html#ad1fd5441c8b4129309daca77f24812da">WTSKlineSlice::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdoc">判断K线切片是否为空</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00553">WTSDataDef.hpp:553</a></div></div>
<div class="ttc" id="aclassWTSObject_html"><div class="ttname"><a href="classWTSObject.html">WTSObject</a></div><div class="ttdef"><b>Definition</b> <a href="WTSObject_8hpp_source.html#l00020">WTSObject.hpp:21</a></div></div>
<div class="ttc" id="aclassWTSObject_html_a57b87f47529974f735f4989eaf2dd55f"><div class="ttname"><a href="classWTSObject.html#a57b87f47529974f735f4989eaf2dd55f">WTSObject::release</a></div><div class="ttdeci">virtual void release()</div><div class="ttdef"><b>Definition</b> <a href="WTSObject_8hpp_source.html#l00029">WTSObject.hpp:29</a></div></div>
<div class="ttc" id="aclassWTSObject_html_a5add3c4b61260e79d5abc764a2507bb7"><div class="ttname"><a href="classWTSObject.html#a5add3c4b61260e79d5abc764a2507bb7">WTSObject::isSingleRefs</a></div><div class="ttdeci">bool isSingleRefs()</div><div class="ttdef"><b>Definition</b> <a href="WTSObject_8hpp_source.html#l00048">WTSObject.hpp:48</a></div></div>
<div class="ttc" id="aclassWTSOrdDtlData_html"><div class="ttname"><a href="classWTSOrdDtlData.html">WTSOrdDtlData</a></div><div class="ttdoc">委托明细数据类</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01726">WTSDataDef.hpp:1727</a></div></div>
<div class="ttc" id="aclassWTSOrdDtlData_html_a34d6c6a7ae526e5f11f7de8ed9f23ce5"><div class="ttname"><a href="classWTSOrdDtlData.html#a34d6c6a7ae526e5f11f7de8ed9f23ce5">WTSOrdDtlData::create</a></div><div class="ttdeci">static WTSOrdDtlData * create(const char *code)</div><div class="ttdoc">创建一个委托明细数据对象</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01738">WTSDataDef.hpp:1738</a></div></div>
<div class="ttc" id="aclassWTSOrdDtlData_html_a3c99826d35bff675e2ada1662403bd85"><div class="ttname"><a href="classWTSOrdDtlData.html#a3c99826d35bff675e2ada1662403bd85">WTSOrdDtlData::getContractInfo</a></div><div class="ttdeci">WTSContractInfo * getContractInfo() const</div><div class="ttdoc">获取委托明细数据对应的合约信息</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01825">WTSDataDef.hpp:1825</a></div></div>
<div class="ttc" id="aclassWTSOrdDtlData_html_a42851834d4d602c95d8919934822170f"><div class="ttname"><a href="classWTSOrdDtlData.html#a42851834d4d602c95d8919934822170f">WTSOrdDtlData::create</a></div><div class="ttdeci">static WTSOrdDtlData * create(WTSOrdDtlStruct &amp;odData)</div><div class="ttdoc">根据委托明细结构体创建一个委托明细数据对象</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01754">WTSDataDef.hpp:1754</a></div></div>
<div class="ttc" id="aclassWTSOrdDtlData_html_a4cc070b26654db366a3812f0e0442fa8"><div class="ttname"><a href="classWTSOrdDtlData.html#a4cc070b26654db366a3812f0e0442fa8">WTSOrdDtlData::setContractInfo</a></div><div class="ttdeci">void setContractInfo(WTSContractInfo *cInfo)</div><div class="ttdoc">设置委托明细数据对应的合约信息</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01818">WTSDataDef.hpp:1818</a></div></div>
<div class="ttc" id="aclassWTSOrdDtlData_html_a62bcf2670e1b1f19c890f8038c283a0a"><div class="ttname"><a href="classWTSOrdDtlData.html#a62bcf2670e1b1f19c890f8038c283a0a">WTSOrdDtlData::exchg</a></div><div class="ttdeci">const char * exchg() const</div><div class="ttdoc">获取委托明细数据的交易所代码</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01776">WTSDataDef.hpp:1776</a></div></div>
<div class="ttc" id="aclassWTSOrdDtlData_html_a640364531f9a83935509fe31b1d263f6"><div class="ttname"><a href="classWTSOrdDtlData.html#a640364531f9a83935509fe31b1d263f6">WTSOrdDtlData::getOrdDtlStruct</a></div><div class="ttdeci">WTSOrdDtlStruct &amp; getOrdDtlStruct()</div><div class="ttdoc">获取委托明细结构体引用</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01769">WTSDataDef.hpp:1769</a></div></div>
<div class="ttc" id="aclassWTSOrdDtlData_html_a680cf68a7659cb4ff25b36a211ec1af3"><div class="ttname"><a href="classWTSOrdDtlData.html#a680cf68a7659cb4ff25b36a211ec1af3">WTSOrdDtlData::m_odStruct</a></div><div class="ttdeci">WTSOrdDtlStruct m_odStruct</div><div class="ttdoc">委托明细数据结构体</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01829">WTSDataDef.hpp:1829</a></div></div>
<div class="ttc" id="aclassWTSOrdDtlData_html_a7c65bafd134ee71093486a6ee819619b"><div class="ttname"><a href="classWTSOrdDtlData.html#a7c65bafd134ee71093486a6ee819619b">WTSOrdDtlData::m_pContract</a></div><div class="ttdeci">WTSContractInfo * m_pContract</div><div class="ttdoc">合约信息对象指针</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01830">WTSDataDef.hpp:1830</a></div></div>
<div class="ttc" id="aclassWTSOrdDtlData_html_a856ab4aa8eaa266ebbb14f9c0a35c788"><div class="ttname"><a href="classWTSOrdDtlData.html#a856ab4aa8eaa266ebbb14f9c0a35c788">WTSOrdDtlData::tradingdate</a></div><div class="ttdeci">uint32_t tradingdate() const</div><div class="ttdoc">获取交易日期</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01790">WTSDataDef.hpp:1790</a></div></div>
<div class="ttc" id="aclassWTSOrdDtlData_html_a9c92da3169366246ee4385ea392f6103"><div class="ttname"><a href="classWTSOrdDtlData.html#a9c92da3169366246ee4385ea392f6103">WTSOrdDtlData::code</a></div><div class="ttdeci">const char * code() const</div><div class="ttdoc">获取委托明细数据的合约代码</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01783">WTSDataDef.hpp:1783</a></div></div>
<div class="ttc" id="aclassWTSOrdDtlData_html_ac4c5e43026a8646acf4a744d6aa9ea64"><div class="ttname"><a href="classWTSOrdDtlData.html#ac4c5e43026a8646acf4a744d6aa9ea64">WTSOrdDtlData::actiondate</a></div><div class="ttdeci">uint32_t actiondate() const</div><div class="ttdoc">获取数据发生日期</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01797">WTSDataDef.hpp:1797</a></div></div>
<div class="ttc" id="aclassWTSOrdDtlData_html_ad5e81ae7d6e76235eccf78b3e42c1fe3"><div class="ttname"><a href="classWTSOrdDtlData.html#ad5e81ae7d6e76235eccf78b3e42c1fe3">WTSOrdDtlData::actiontime</a></div><div class="ttdeci">uint32_t actiontime() const</div><div class="ttdoc">获取数据发生时间</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01804">WTSDataDef.hpp:1804</a></div></div>
<div class="ttc" id="aclassWTSOrdDtlData_html_ae3cb6635de9d879586baede74de6f50d"><div class="ttname"><a href="classWTSOrdDtlData.html#ae3cb6635de9d879586baede74de6f50d">WTSOrdDtlData::setCode</a></div><div class="ttdeci">void setCode(const char *code)</div><div class="ttdoc">设置委托明细数据的合约代码</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01811">WTSDataDef.hpp:1811</a></div></div>
<div class="ttc" id="aclassWTSOrdDtlSlice_html"><div class="ttname"><a href="classWTSOrdDtlSlice.html">WTSOrdDtlSlice</a></div><div class="ttdoc">委托明细数据切片类</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02335">WTSDataDef.hpp:2336</a></div></div>
<div class="ttc" id="aclassWTSOrdDtlSlice_html_a00a15709048a4b74a5437ff9b3f4e598"><div class="ttname"><a href="classWTSOrdDtlSlice.html#a00a15709048a4b74a5437ff9b3f4e598">WTSOrdDtlSlice::m_ptrBegin</a></div><div class="ttdeci">WTSOrdDtlStruct * m_ptrBegin</div><div class="ttdoc">委托明细数据数组的起始位置指针</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02339">WTSDataDef.hpp:2339</a></div></div>
<div class="ttc" id="aclassWTSOrdDtlSlice_html_a04eb72c185be84d25fcef6f8f952abcc"><div class="ttname"><a href="classWTSOrdDtlSlice.html#a04eb72c185be84d25fcef6f8f952abcc">WTSOrdDtlSlice::m_strCode</a></div><div class="ttdeci">char m_strCode[MAX_INSTRUMENT_LENGTH]</div><div class="ttdoc">合约代码</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02338">WTSDataDef.hpp:2338</a></div></div>
<div class="ttc" id="aclassWTSOrdDtlSlice_html_a50f033050194c7a8cb76c0be797eb70d"><div class="ttname"><a href="classWTSOrdDtlSlice.html#a50f033050194c7a8cb76c0be797eb70d">WTSOrdDtlSlice::translateIdx</a></div><div class="ttdeci">int32_t translateIdx(int32_t idx) const</div><div class="ttdoc">转换索引位置</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02361">WTSDataDef.hpp:2361</a></div></div>
<div class="ttc" id="aclassWTSOrdDtlSlice_html_a6213778145b4d847d20cf886dc5341ae"><div class="ttname"><a href="classWTSOrdDtlSlice.html#a6213778145b4d847d20cf886dc5341ae">WTSOrdDtlSlice::create</a></div><div class="ttdeci">static WTSOrdDtlSlice * create(const char *code, WTSOrdDtlStruct *firstItem, uint32_t count)</div><div class="ttdoc">创建一个委托明细数据切片对象</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02383">WTSDataDef.hpp:2383</a></div></div>
<div class="ttc" id="aclassWTSOrdDtlSlice_html_a719c060e54682d112cf83f2bc71b2ad5"><div class="ttname"><a href="classWTSOrdDtlSlice.html#a719c060e54682d112cf83f2bc71b2ad5">WTSOrdDtlSlice::size</a></div><div class="ttdeci">uint32_t size() const</div><div class="ttdoc">获取切片的数据数量</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02403">WTSDataDef.hpp:2403</a></div></div>
<div class="ttc" id="aclassWTSOrdDtlSlice_html_a8699c2496555396b5cd14421f83f6680"><div class="ttname"><a href="classWTSOrdDtlSlice.html#a8699c2496555396b5cd14421f83f6680">WTSOrdDtlSlice::WTSOrdDtlSlice</a></div><div class="ttdeci">WTSOrdDtlSlice()</div><div class="ttdoc">构造函数（保护类型）</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02349">WTSDataDef.hpp:2349</a></div></div>
<div class="ttc" id="aclassWTSOrdDtlSlice_html_a98759d3a82975017d8d69522c9f733d3"><div class="ttname"><a href="classWTSOrdDtlSlice.html#a98759d3a82975017d8d69522c9f733d3">WTSOrdDtlSlice::at</a></div><div class="ttdeci">const WTSOrdDtlStruct * at(int32_t idx)</div><div class="ttdoc">获取指定位置的委托明细数据</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02424">WTSDataDef.hpp:2424</a></div></div>
<div class="ttc" id="aclassWTSOrdDtlSlice_html_a9cf6b34eebc917cf4d6084954aea9b93"><div class="ttname"><a href="classWTSOrdDtlSlice.html#a9cf6b34eebc917cf4d6084954aea9b93">WTSOrdDtlSlice::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdoc">判断切片是否为空</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02412">WTSDataDef.hpp:2412</a></div></div>
<div class="ttc" id="aclassWTSOrdDtlSlice_html_adba40ac729ec093283494ae48520da85"><div class="ttname"><a href="classWTSOrdDtlSlice.html#adba40ac729ec093283494ae48520da85">WTSOrdDtlSlice::m_uCount</a></div><div class="ttdeci">uint32_t m_uCount</div><div class="ttdoc">切片包含的数据数量</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02340">WTSDataDef.hpp:2340</a></div></div>
<div class="ttc" id="aclassWTSOrdQueData_html"><div class="ttname"><a href="classWTSOrdQueData.html">WTSOrdQueData</a></div><div class="ttdoc">委托队列数据类</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01613">WTSDataDef.hpp:1614</a></div></div>
<div class="ttc" id="aclassWTSOrdQueData_html_a061b046e5c45ca46eb29389416697ea1"><div class="ttname"><a href="classWTSOrdQueData.html#a061b046e5c45ca46eb29389416697ea1">WTSOrdQueData::actiontime</a></div><div class="ttdeci">uint32_t actiontime() const</div><div class="ttdoc">获取数据发生时间</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01691">WTSDataDef.hpp:1691</a></div></div>
<div class="ttc" id="aclassWTSOrdQueData_html_a176f644cf0c4a2c6980f9e869214dc9c"><div class="ttname"><a href="classWTSOrdQueData.html#a176f644cf0c4a2c6980f9e869214dc9c">WTSOrdQueData::create</a></div><div class="ttdeci">static WTSOrdQueData * create(WTSOrdQueStruct &amp;ordQueData)</div><div class="ttdoc">根据委托队列结构体创建一个委托队列数据对象</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01641">WTSDataDef.hpp:1641</a></div></div>
<div class="ttc" id="aclassWTSOrdQueData_html_a2caf7ae36841001c3ce43c0a98e6de30"><div class="ttname"><a href="classWTSOrdQueData.html#a2caf7ae36841001c3ce43c0a98e6de30">WTSOrdQueData::actiondate</a></div><div class="ttdeci">uint32_t actiondate() const</div><div class="ttdoc">获取数据发生日期</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01684">WTSDataDef.hpp:1684</a></div></div>
<div class="ttc" id="aclassWTSOrdQueData_html_a5c1d781f52431a639740d98db945547f"><div class="ttname"><a href="classWTSOrdQueData.html#a5c1d781f52431a639740d98db945547f">WTSOrdQueData::m_pContract</a></div><div class="ttdeci">WTSContractInfo * m_pContract</div><div class="ttdoc">合约信息对象指针</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01716">WTSDataDef.hpp:1716</a></div></div>
<div class="ttc" id="aclassWTSOrdQueData_html_a5f917ed7e414fa0040db0a0eb67966d5"><div class="ttname"><a href="classWTSOrdQueData.html#a5f917ed7e414fa0040db0a0eb67966d5">WTSOrdQueData::setCode</a></div><div class="ttdeci">void setCode(const char *code)</div><div class="ttdoc">设置委托队列数据的合约代码</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01698">WTSDataDef.hpp:1698</a></div></div>
<div class="ttc" id="aclassWTSOrdQueData_html_a7b4cb7008cc68da83a07578b4ed664ed"><div class="ttname"><a href="classWTSOrdQueData.html#a7b4cb7008cc68da83a07578b4ed664ed">WTSOrdQueData::setContractInfo</a></div><div class="ttdeci">void setContractInfo(WTSContractInfo *cInfo)</div><div class="ttdoc">设置委托队列数据对应的合约信息</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01705">WTSDataDef.hpp:1705</a></div></div>
<div class="ttc" id="aclassWTSOrdQueData_html_a7e4145c427384335e5a7c2e7264c8ebe"><div class="ttname"><a href="classWTSOrdQueData.html#a7e4145c427384335e5a7c2e7264c8ebe">WTSOrdQueData::code</a></div><div class="ttdeci">const char * code() const</div><div class="ttdoc">获取委托队列数据的合约代码</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01670">WTSDataDef.hpp:1670</a></div></div>
<div class="ttc" id="aclassWTSOrdQueData_html_a992aa82555f2265bcd43dd4381389c80"><div class="ttname"><a href="classWTSOrdQueData.html#a992aa82555f2265bcd43dd4381389c80">WTSOrdQueData::m_oqStruct</a></div><div class="ttdeci">WTSOrdQueStruct m_oqStruct</div><div class="ttdoc">委托队列数据结构体</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01715">WTSDataDef.hpp:1715</a></div></div>
<div class="ttc" id="aclassWTSOrdQueData_html_aaa8b80db76d3027670267172e1ed97b6"><div class="ttname"><a href="classWTSOrdQueData.html#aaa8b80db76d3027670267172e1ed97b6">WTSOrdQueData::tradingdate</a></div><div class="ttdeci">uint32_t tradingdate() const</div><div class="ttdoc">获取交易日期</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01677">WTSDataDef.hpp:1677</a></div></div>
<div class="ttc" id="aclassWTSOrdQueData_html_abaf941cd05958e8b8af69284a01bd048"><div class="ttname"><a href="classWTSOrdQueData.html#abaf941cd05958e8b8af69284a01bd048">WTSOrdQueData::getOrdQueStruct</a></div><div class="ttdeci">WTSOrdQueStruct &amp; getOrdQueStruct()</div><div class="ttdoc">获取委托队列结构体引用</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01656">WTSDataDef.hpp:1656</a></div></div>
<div class="ttc" id="aclassWTSOrdQueData_html_ac2ab80a5b207680caa89f5d8ede28508"><div class="ttname"><a href="classWTSOrdQueData.html#ac2ab80a5b207680caa89f5d8ede28508">WTSOrdQueData::create</a></div><div class="ttdeci">static WTSOrdQueData * create(const char *code)</div><div class="ttdoc">创建一个委托队列数据对象</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01625">WTSDataDef.hpp:1625</a></div></div>
<div class="ttc" id="aclassWTSOrdQueData_html_acf63a91c15ea57bfa7936dcc45b4a49d"><div class="ttname"><a href="classWTSOrdQueData.html#acf63a91c15ea57bfa7936dcc45b4a49d">WTSOrdQueData::exchg</a></div><div class="ttdeci">const char * exchg() const</div><div class="ttdoc">获取委托队列数据的交易所代码</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01663">WTSDataDef.hpp:1663</a></div></div>
<div class="ttc" id="aclassWTSOrdQueData_html_af23b1e131ab13d22930d73ce4f8b5a5d"><div class="ttname"><a href="classWTSOrdQueData.html#af23b1e131ab13d22930d73ce4f8b5a5d">WTSOrdQueData::getContractInfo</a></div><div class="ttdeci">WTSContractInfo * getContractInfo() const</div><div class="ttdoc">获取委托队列数据对应的合约信息</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01712">WTSDataDef.hpp:1712</a></div></div>
<div class="ttc" id="aclassWTSOrdQueSlice_html"><div class="ttname"><a href="classWTSOrdQueSlice.html">WTSOrdQueSlice</a></div><div class="ttdoc">委托队列数据切片类</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02442">WTSDataDef.hpp:2443</a></div></div>
<div class="ttc" id="aclassWTSOrdQueSlice_html_a246f127e5eecd25858d6429f768be70c"><div class="ttname"><a href="classWTSOrdQueSlice.html#a246f127e5eecd25858d6429f768be70c">WTSOrdQueSlice::m_uCount</a></div><div class="ttdeci">uint32_t m_uCount</div><div class="ttdoc">切片包含的数据数量</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02447">WTSDataDef.hpp:2447</a></div></div>
<div class="ttc" id="aclassWTSOrdQueSlice_html_a28b74f8f2e54e2bcb012958d72f6c950"><div class="ttname"><a href="classWTSOrdQueSlice.html#a28b74f8f2e54e2bcb012958d72f6c950">WTSOrdQueSlice::size</a></div><div class="ttdeci">uint32_t size() const</div><div class="ttdoc">获取切片的数据数量</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02510">WTSDataDef.hpp:2510</a></div></div>
<div class="ttc" id="aclassWTSOrdQueSlice_html_a2a11c93eea9d4074674f67d1bf72a9c3"><div class="ttname"><a href="classWTSOrdQueSlice.html#a2a11c93eea9d4074674f67d1bf72a9c3">WTSOrdQueSlice::WTSOrdQueSlice</a></div><div class="ttdeci">WTSOrdQueSlice()</div><div class="ttdoc">构造函数（保护类型）</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02456">WTSDataDef.hpp:2456</a></div></div>
<div class="ttc" id="aclassWTSOrdQueSlice_html_a372aaf4338f404d584f6e8697add2d8c"><div class="ttname"><a href="classWTSOrdQueSlice.html#a372aaf4338f404d584f6e8697add2d8c">WTSOrdQueSlice::m_ptrBegin</a></div><div class="ttdeci">WTSOrdQueStruct * m_ptrBegin</div><div class="ttdoc">委托队列数据数组的起始位置指针</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02446">WTSDataDef.hpp:2446</a></div></div>
<div class="ttc" id="aclassWTSOrdQueSlice_html_a5f587a8586f7d0f42c8a00c6b97a095c"><div class="ttname"><a href="classWTSOrdQueSlice.html#a5f587a8586f7d0f42c8a00c6b97a095c">WTSOrdQueSlice::translateIdx</a></div><div class="ttdeci">int32_t translateIdx(int32_t idx) const</div><div class="ttdoc">转换索引位置</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02468">WTSDataDef.hpp:2468</a></div></div>
<div class="ttc" id="aclassWTSOrdQueSlice_html_a63b99e021632b088dc40947d78e09a73"><div class="ttname"><a href="classWTSOrdQueSlice.html#a63b99e021632b088dc40947d78e09a73">WTSOrdQueSlice::create</a></div><div class="ttdeci">static WTSOrdQueSlice * create(const char *code, WTSOrdQueStruct *firstItem, uint32_t count)</div><div class="ttdoc">创建一个委托队列数据切片对象</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02490">WTSDataDef.hpp:2490</a></div></div>
<div class="ttc" id="aclassWTSOrdQueSlice_html_a79194fd70ad5f0bcb293aed1a275329a"><div class="ttname"><a href="classWTSOrdQueSlice.html#a79194fd70ad5f0bcb293aed1a275329a">WTSOrdQueSlice::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdoc">判断切片是否为空</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02519">WTSDataDef.hpp:2519</a></div></div>
<div class="ttc" id="aclassWTSOrdQueSlice_html_acb7ce05e02d1870f8a04e15f29cd514d"><div class="ttname"><a href="classWTSOrdQueSlice.html#acb7ce05e02d1870f8a04e15f29cd514d">WTSOrdQueSlice::m_strCode</a></div><div class="ttdeci">char m_strCode[MAX_INSTRUMENT_LENGTH]</div><div class="ttdoc">合约代码</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02445">WTSDataDef.hpp:2445</a></div></div>
<div class="ttc" id="aclassWTSOrdQueSlice_html_af803772e431213f255c441d60c93dace"><div class="ttname"><a href="classWTSOrdQueSlice.html#af803772e431213f255c441d60c93dace">WTSOrdQueSlice::at</a></div><div class="ttdeci">const WTSOrdQueStruct * at(int32_t idx)</div><div class="ttdoc">获取指定位置的委托队列数据</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02531">WTSDataDef.hpp:2531</a></div></div>
<div class="ttc" id="aclassWTSPoolObject_html"><div class="ttname"><a href="classWTSPoolObject.html">WTSPoolObject</a></div><div class="ttdef"><b>Definition</b> <a href="WTSObject_8hpp_source.html#l00057">WTSObject.hpp:58</a></div></div>
<div class="ttc" id="aclassWTSPoolObject_html_ae4ab339a4fff055594a70f7a64486c40"><div class="ttname"><a href="classWTSPoolObject.html#ae4ab339a4fff055594a70f7a64486c40">WTSPoolObject&lt; WTSTickData &gt;::allocate</a></div><div class="ttdeci">static WTSTickData * allocate()</div><div class="ttdef"><b>Definition</b> <a href="WTSObject_8hpp_source.html#l00069">WTSObject.hpp:69</a></div></div>
<div class="ttc" id="aclassWTSTickData_html"><div class="ttname"><a href="classWTSTickData.html">WTSTickData</a></div><div class="ttdoc">Tick数据对象</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01251">WTSDataDef.hpp:1252</a></div></div>
<div class="ttc" id="aclassWTSTickData_html_a097548155cfbbf9a0a36e1ee1ce3ad38"><div class="ttname"><a href="classWTSTickData.html#a097548155cfbbf9a0a36e1ee1ce3ad38">WTSTickData::volume</a></div><div class="ttdeci">double volume() const</div><div class="ttdoc">获取当前成交量</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01428">WTSDataDef.hpp:1428</a></div></div>
<div class="ttc" id="aclassWTSTickData_html_a12aa24165f23c4dacd1e4f686a2f5879"><div class="ttname"><a href="classWTSTickData.html#a12aa24165f23c4dacd1e4f686a2f5879">WTSTickData::actiontime</a></div><div class="ttdeci">uint32_t actiontime() const</div><div class="ttdoc">获取数据发生时间</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01506">WTSDataDef.hpp:1506</a></div></div>
<div class="ttc" id="aclassWTSTickData_html_a1428afc0bb0e6d1bb01be62bc5743631"><div class="ttname"><a href="classWTSTickData.html#a1428afc0bb0e6d1bb01be62bc5743631">WTSTickData::bidqty</a></div><div class="ttdeci">double bidqty(int idx) const</div><div class="ttdoc">获取指定档位的委买量（买盘量）</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01552">WTSDataDef.hpp:1552</a></div></div>
<div class="ttc" id="aclassWTSTickData_html_a160eb9dae713ed9d0db553600d8809e1"><div class="ttname"><a href="classWTSTickData.html#a160eb9dae713ed9d0db553600d8809e1">WTSTickData::turnover</a></div><div class="ttdeci">double turnover() const</div><div class="ttdoc">获取当前成交额</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01476">WTSDataDef.hpp:1476</a></div></div>
<div class="ttc" id="aclassWTSTickData_html_a1b992da494166749bd65a459970b74e3"><div class="ttname"><a href="classWTSTickData.html#a1b992da494166749bd65a459970b74e3">WTSTickData::additional</a></div><div class="ttdeci">double additional() const</div><div class="ttdoc">获取持仓量变化（增仓量）</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01458">WTSDataDef.hpp:1458</a></div></div>
<div class="ttc" id="aclassWTSTickData_html_a235e2995d16b634c5edd5d4a45308302"><div class="ttname"><a href="classWTSTickData.html#a235e2995d16b634c5edd5d4a45308302">WTSTickData::askprice</a></div><div class="ttdeci">double askprice(int idx) const</div><div class="ttdoc">获取指定档位的委卖价（卖盘价）</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01535">WTSDataDef.hpp:1535</a></div></div>
<div class="ttc" id="aclassWTSTickData_html_a25b6a4e9293d666b29ee5c409d72073a"><div class="ttname"><a href="classWTSTickData.html#a25b6a4e9293d666b29ee5c409d72073a">WTSTickData::open</a></div><div class="ttdeci">double open() const</div><div class="ttdoc">获取Tick数据的开盘价</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01347">WTSDataDef.hpp:1347</a></div></div>
<div class="ttc" id="aclassWTSTickData_html_a2c374d0964b76835c0eaf1450a488302"><div class="ttname"><a href="classWTSTickData.html#a2c374d0964b76835c0eaf1450a488302">WTSTickData::askqty</a></div><div class="ttdeci">double askqty(int idx) const</div><div class="ttdoc">获取指定档位的委卖量（卖盘量）</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01569">WTSDataDef.hpp:1569</a></div></div>
<div class="ttc" id="aclassWTSTickData_html_a34a2cd2169c8189380263a0668892eae"><div class="ttname"><a href="classWTSTickData.html#a34a2cd2169c8189380263a0668892eae">WTSTickData::upperlimit</a></div><div class="ttdeci">double upperlimit() const</div><div class="ttdoc">获取涨停板价格</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01401">WTSDataDef.hpp:1401</a></div></div>
<div class="ttc" id="aclassWTSTickData_html_a359830353e1da19731470ebc9a50004e"><div class="ttname"><a href="classWTSTickData.html#a359830353e1da19731470ebc9a50004e">WTSTickData::exchg</a></div><div class="ttdeci">const char * exchg() const</div><div class="ttdoc">获取Tick数据的交易所代码</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01329">WTSDataDef.hpp:1329</a></div></div>
<div class="ttc" id="aclassWTSTickData_html_a3bf709056260520001ce36105cad50ed"><div class="ttname"><a href="classWTSTickData.html#a3bf709056260520001ce36105cad50ed">WTSTickData::getContractInfo</a></div><div class="ttdeci">WTSContractInfo * getContractInfo() const</div><div class="ttdoc">获取Tick数据对应的合约信息</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01599">WTSDataDef.hpp:1599</a></div></div>
<div class="ttc" id="aclassWTSTickData_html_a3f5ca8ee02338f1991293bb33ba0318d"><div class="ttname"><a href="classWTSTickData.html#a3f5ca8ee02338f1991293bb33ba0318d">WTSTickData::setContractInfo</a></div><div class="ttdeci">void setContractInfo(WTSContractInfo *cInfo)</div><div class="ttdoc">设置Tick数据对应的合约信息</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01590">WTSDataDef.hpp:1590</a></div></div>
<div class="ttc" id="aclassWTSTickData_html_a47ff21745fccd3f0e8c8178b601e2b39"><div class="ttname"><a href="classWTSTickData.html#a47ff21745fccd3f0e8c8178b601e2b39">WTSTickData::low</a></div><div class="ttdeci">double low() const</div><div class="ttdoc">获取Tick数据的最低价</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01365">WTSDataDef.hpp:1365</a></div></div>
<div class="ttc" id="aclassWTSTickData_html_a4b56adfd1cd4e6b95833653ca987ce43"><div class="ttname"><a href="classWTSTickData.html#a4b56adfd1cd4e6b95833653ca987ce43">WTSTickData::create</a></div><div class="ttdeci">static WTSTickData * create(const char *stdCode)</div><div class="ttdoc">创建一个Tick数据对象</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01270">WTSDataDef.hpp:1270</a></div></div>
<div class="ttc" id="aclassWTSTickData_html_a550e20ab110d041774c7a57356548af0"><div class="ttname"><a href="classWTSTickData.html#a550e20ab110d041774c7a57356548af0">WTSTickData::lowerlimit</a></div><div class="ttdeci">double lowerlimit() const</div><div class="ttdoc">获取跌停板价格</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01410">WTSDataDef.hpp:1410</a></div></div>
<div class="ttc" id="aclassWTSTickData_html_a5928e1b4018629598f5f69f418967c0f"><div class="ttname"><a href="classWTSTickData.html#a5928e1b4018629598f5f69f418967c0f">WTSTickData::tradingdate</a></div><div class="ttdeci">uint32_t tradingdate() const</div><div class="ttdoc">获取交易日期</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01486">WTSDataDef.hpp:1486</a></div></div>
<div class="ttc" id="aclassWTSTickData_html_a6a81212366831e7afe3eeac41b42e7b0"><div class="ttname"><a href="classWTSTickData.html#a6a81212366831e7afe3eeac41b42e7b0">WTSTickData::getTickStruct</a></div><div class="ttdeci">WTSTickStruct &amp; getTickStruct()</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01580">WTSDataDef.hpp:1580</a></div></div>
<div class="ttc" id="aclassWTSTickData_html_a7119fbf29cf6e3775a75bc0c093ab613"><div class="ttname"><a href="classWTSTickData.html#a7119fbf29cf6e3775a75bc0c093ab613">WTSTickData::high</a></div><div class="ttdeci">double high() const</div><div class="ttdoc">获取Tick数据的最高价</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01356">WTSDataDef.hpp:1356</a></div></div>
<div class="ttc" id="aclassWTSTickData_html_a803d1804cb06e32d69064ecd253f1c9d"><div class="ttname"><a href="classWTSTickData.html#a803d1804cb06e32d69064ecd253f1c9d">WTSTickData::bidprice</a></div><div class="ttdeci">double bidprice(int idx) const</div><div class="ttdoc">获取指定档位的委买价（买盘价）</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01518">WTSDataDef.hpp:1518</a></div></div>
<div class="ttc" id="aclassWTSTickData_html_a98420f532e7ce48309769ec01287b35c"><div class="ttname"><a href="classWTSTickData.html#a98420f532e7ce48309769ec01287b35c">WTSTickData::openinterest</a></div><div class="ttdeci">double openinterest() const</div><div class="ttdoc">获取当前持仓量</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01448">WTSDataDef.hpp:1448</a></div></div>
<div class="ttc" id="aclassWTSTickData_html_a9aaeae2b996a6d2e2dc8c813b622e6e0"><div class="ttname"><a href="classWTSTickData.html#a9aaeae2b996a6d2e2dc8c813b622e6e0">WTSTickData::totalvolume</a></div><div class="ttdeci">double totalvolume() const</div><div class="ttdoc">获取累计成交量</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01419">WTSDataDef.hpp:1419</a></div></div>
<div class="ttc" id="aclassWTSTickData_html_a9daa83379f1d0a8275f0216cfbe68a44"><div class="ttname"><a href="classWTSTickData.html#a9daa83379f1d0a8275f0216cfbe68a44">WTSTickData::m_pContract</a></div><div class="ttdeci">WTSContractInfo * m_pContract</div><div class="ttdoc">合约信息对象指针</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01603">WTSDataDef.hpp:1603</a></div></div>
<div class="ttc" id="aclassWTSTickData_html_a9f8dfcc3630181284346338f2049cfb3"><div class="ttname"><a href="classWTSTickData.html#a9f8dfcc3630181284346338f2049cfb3">WTSTickData::actiondate</a></div><div class="ttdeci">uint32_t actiondate() const</div><div class="ttdoc">获取数据发生日期</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01496">WTSDataDef.hpp:1496</a></div></div>
<div class="ttc" id="aclassWTSTickData_html_aa411f12bddcb17910a05dbe2b0ba728f"><div class="ttname"><a href="classWTSTickData.html#aa411f12bddcb17910a05dbe2b0ba728f">WTSTickData::presettle</a></div><div class="ttdeci">double presettle() const</div><div class="ttdoc">获取昨日结算价</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01383">WTSDataDef.hpp:1383</a></div></div>
<div class="ttc" id="aclassWTSTickData_html_aa4d387e35b143f3d81af2d6101575ce1"><div class="ttname"><a href="classWTSTickData.html#aa4d387e35b143f3d81af2d6101575ce1">WTSTickData::totalturnover</a></div><div class="ttdeci">double totalturnover() const</div><div class="ttdoc">获取累计成交额</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01467">WTSDataDef.hpp:1467</a></div></div>
<div class="ttc" id="aclassWTSTickData_html_aa707b5cad7b783f37172a5964f864e87"><div class="ttname"><a href="classWTSTickData.html#aa707b5cad7b783f37172a5964f864e87">WTSTickData::settlepx</a></div><div class="ttdeci">double settlepx() const</div><div class="ttdoc">获取当前结算价</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01438">WTSDataDef.hpp:1438</a></div></div>
<div class="ttc" id="aclassWTSTickData_html_ac82a4bb7bc1e9e7963d86e2c1f118d09"><div class="ttname"><a href="classWTSTickData.html#ac82a4bb7bc1e9e7963d86e2c1f118d09">WTSTickData::m_tickStruct</a></div><div class="ttdeci">WTSTickStruct m_tickStruct</div><div class="ttdoc">Tick数据实际存储的结构体</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01602">WTSDataDef.hpp:1602</a></div></div>
<div class="ttc" id="aclassWTSTickData_html_ad0316b9ace5a02bc948f91f9dcdef830"><div class="ttname"><a href="classWTSTickData.html#ad0316b9ace5a02bc948f91f9dcdef830">WTSTickData::preclose</a></div><div class="ttdeci">double preclose() const</div><div class="ttdoc">获取昨日收盘价</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01374">WTSDataDef.hpp:1374</a></div></div>
<div class="ttc" id="aclassWTSTickData_html_ae40aac80fd30843224b6e88d007b1d05"><div class="ttname"><a href="classWTSTickData.html#ae40aac80fd30843224b6e88d007b1d05">WTSTickData::code</a></div><div class="ttdeci">const char * code() const</div><div class="ttdoc">获取Tick数据的合约代码</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01320">WTSDataDef.hpp:1320</a></div></div>
<div class="ttc" id="aclassWTSTickData_html_ae502123e14736815e734b7f6456cfd13"><div class="ttname"><a href="classWTSTickData.html#ae502123e14736815e734b7f6456cfd13">WTSTickData::price</a></div><div class="ttdeci">double price() const</div><div class="ttdoc">获取Tick数据的最新成交价</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01338">WTSDataDef.hpp:1338</a></div></div>
<div class="ttc" id="aclassWTSTickData_html_ae77b9fd3459282b5a3b8914a573ec371"><div class="ttname"><a href="classWTSTickData.html#ae77b9fd3459282b5a3b8914a573ec371">WTSTickData::WTSTickData</a></div><div class="ttdeci">WTSTickData()</div><div class="ttdoc">构造函数</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01259">WTSDataDef.hpp:1259</a></div></div>
<div class="ttc" id="aclassWTSTickData_html_af49aa793bb8ef25a3f855f30f6a4eb0a"><div class="ttname"><a href="classWTSTickData.html#af49aa793bb8ef25a3f855f30f6a4eb0a">WTSTickData::preinterest</a></div><div class="ttdeci">double preinterest() const</div><div class="ttdoc">获取昨日持仓量</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01392">WTSDataDef.hpp:1392</a></div></div>
<div class="ttc" id="aclassWTSTickData_html_af6df2ab58356d41cc927cb6704ba87ed"><div class="ttname"><a href="classWTSTickData.html#af6df2ab58356d41cc927cb6704ba87ed">WTSTickData::create</a></div><div class="ttdeci">static WTSTickData * create(WTSTickStruct &amp;tickData)</div><div class="ttdoc">根据tick结构体创建一个tick数据对象</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01289">WTSDataDef.hpp:1289</a></div></div>
<div class="ttc" id="aclassWTSTickData_html_af8df9fb130bea4ca8470a0ccef56b690"><div class="ttname"><a href="classWTSTickData.html#af8df9fb130bea4ca8470a0ccef56b690">WTSTickData::setCode</a></div><div class="ttdeci">void setCode(const char *code, std::size_t len=0)</div><div class="ttdoc">设置Tick数据的合约代码</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01305">WTSDataDef.hpp:1305</a></div></div>
<div class="ttc" id="aclassWTSTickSlice_html"><div class="ttname"><a href="classWTSTickSlice.html">WTSTickSlice</a></div><div class="ttdoc">Tick数据切片类</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02128">WTSDataDef.hpp:2129</a></div></div>
<div class="ttc" id="aclassWTSTickSlice_html_a041efae74e35425bc59a88f5825eb4ce"><div class="ttname"><a href="classWTSTickSlice.html#a041efae74e35425bc59a88f5825eb4ce">WTSTickSlice::_code</a></div><div class="ttdeci">char _code[MAX_INSTRUMENT_LENGTH]</div><div class="ttdoc">合约代码</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02131">WTSDataDef.hpp:2131</a></div></div>
<div class="ttc" id="aclassWTSTickSlice_html_a370515e4189bc4bb6c69b17375704878"><div class="ttname"><a href="classWTSTickSlice.html#a370515e4189bc4bb6c69b17375704878">WTSTickSlice::create</a></div><div class="ttdeci">static WTSTickSlice * create(const char *code, WTSTickStruct *ticks=NULL, uint32_t count=0)</div><div class="ttdoc">创建一个Tick数据切片对象</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02177">WTSDataDef.hpp:2177</a></div></div>
<div class="ttc" id="aclassWTSTickSlice_html_a4251785d57088666f5a73f0d940b291b"><div class="ttname"><a href="classWTSTickSlice.html#a4251785d57088666f5a73f0d940b291b">WTSTickSlice::translateIdx</a></div><div class="ttdeci">int32_t translateIdx(int32_t idx) const</div><div class="ttdoc">转换索引位置</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02155">WTSDataDef.hpp:2155</a></div></div>
<div class="ttc" id="aclassWTSTickSlice_html_a521a6dc789392a657c5e12a560e16a4f"><div class="ttname"><a href="classWTSTickSlice.html#a521a6dc789392a657c5e12a560e16a4f">WTSTickSlice::get_block_addr</a></div><div class="ttdeci">WTSTickStruct * get_block_addr(std::size_t blkIdx)</div><div class="ttdoc">获取指定数据块的地址</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02254">WTSDataDef.hpp:2254</a></div></div>
<div class="ttc" id="aclassWTSTickSlice_html_a7426669576bd00d43dd559a341e95d24"><div class="ttname"><a href="classWTSTickSlice.html#a7426669576bd00d43dd559a341e95d24">WTSTickSlice::WTSTickSlice</a></div><div class="ttdeci">WTSTickSlice()</div><div class="ttdoc">构造函数（保护类型）</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02143">WTSDataDef.hpp:2143</a></div></div>
<div class="ttc" id="aclassWTSTickSlice_html_a80e65a26a9722f492cc5a525af2e12dc"><div class="ttname"><a href="classWTSTickSlice.html#a80e65a26a9722f492cc5a525af2e12dc">WTSTickSlice::get_block_size</a></div><div class="ttdeci">uint32_t get_block_size(std::size_t blkIdx)</div><div class="ttdoc">获取指定数据块的大小</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02270">WTSDataDef.hpp:2270</a></div></div>
<div class="ttc" id="aclassWTSTickSlice_html_a88afb2856baafc6cb6489c0635e2755a"><div class="ttname"><a href="classWTSTickSlice.html#a88afb2856baafc6cb6489c0635e2755a">WTSTickSlice::_blocks</a></div><div class="ttdeci">std::vector&lt; TickBlock &gt; _blocks</div><div class="ttdoc">Tick数据块容器，存储多个数据块的引用</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02133">WTSDataDef.hpp:2133</a></div></div>
<div class="ttc" id="aclassWTSTickSlice_html_a926a036c5939d799ab46390c4542bbde"><div class="ttname"><a href="classWTSTickSlice.html#a926a036c5939d799ab46390c4542bbde">WTSTickSlice::get_block_counts</a></div><div class="ttdeci">std::size_t get_block_counts() const</div><div class="ttdoc">获取数据块数量</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02241">WTSDataDef.hpp:2241</a></div></div>
<div class="ttc" id="aclassWTSTickSlice_html_a9a28352060b9902b703f21ff7b13cbdf"><div class="ttname"><a href="classWTSTickSlice.html#a9a28352060b9902b703f21ff7b13cbdf">WTSTickSlice::TickBlock</a></div><div class="ttdeci">std::pair&lt; WTSTickStruct *, uint32_t &gt; TickBlock</div><div class="ttdoc">Tick数据块类型，第一个元素是数据指针，第二个是数据数量</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02132">WTSDataDef.hpp:2132</a></div></div>
<div class="ttc" id="aclassWTSTickSlice_html_a9b0625a04807a326a0e9016945579f7a"><div class="ttname"><a href="classWTSTickSlice.html#a9b0625a04807a326a0e9016945579f7a">WTSTickSlice::at</a></div><div class="ttdeci">const WTSTickStruct * at(int32_t idx)</div><div class="ttdoc">获取指定位置的Tick数据</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02306">WTSDataDef.hpp:2306</a></div></div>
<div class="ttc" id="aclassWTSTickSlice_html_aa6c19545ddbfb03086746091b561a215"><div class="ttname"><a href="classWTSTickSlice.html#aa6c19545ddbfb03086746091b561a215">WTSTickSlice::_count</a></div><div class="ttdeci">uint32_t _count</div><div class="ttdoc">总数据数量</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02134">WTSDataDef.hpp:2134</a></div></div>
<div class="ttc" id="aclassWTSTickSlice_html_aabec8f40810003509e78ec01b3b7d8dd"><div class="ttname"><a href="classWTSTickSlice.html#aabec8f40810003509e78ec01b3b7d8dd">WTSTickSlice::insertBlock</a></div><div class="ttdeci">bool insertBlock(std::size_t idx, WTSTickStruct *ticks, uint32_t count)</div><div class="ttdoc">在指定位置插入一个Tick数据块</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02224">WTSDataDef.hpp:2224</a></div></div>
<div class="ttc" id="aclassWTSTickSlice_html_ad560e8ad28a36313db005268c0c9cc33"><div class="ttname"><a href="classWTSTickSlice.html#ad560e8ad28a36313db005268c0c9cc33">WTSTickSlice::appendBlock</a></div><div class="ttdeci">bool appendBlock(WTSTickStruct *ticks, uint32_t count)</div><div class="ttdoc">追加一个Tick数据块</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02203">WTSDataDef.hpp:2203</a></div></div>
<div class="ttc" id="aclassWTSTickSlice_html_ae78e2f20a6c992d8377d73288c815d7e"><div class="ttname"><a href="classWTSTickSlice.html#ae78e2f20a6c992d8377d73288c815d7e">WTSTickSlice::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdoc">判断切片是否为空</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02294">WTSDataDef.hpp:2294</a></div></div>
<div class="ttc" id="aclassWTSTickSlice_html_aefe68c93c7a904a1daec29f2f10f6ea1"><div class="ttname"><a href="classWTSTickSlice.html#aefe68c93c7a904a1daec29f2f10f6ea1">WTSTickSlice::size</a></div><div class="ttdeci">uint32_t size() const</div><div class="ttdoc">获取切片的总数据数量</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02285">WTSDataDef.hpp:2285</a></div></div>
<div class="ttc" id="aclassWTSTransData_html"><div class="ttname"><a href="classWTSTransData.html">WTSTransData</a></div><div class="ttdoc">成交数据类</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01840">WTSDataDef.hpp:1841</a></div></div>
<div class="ttc" id="aclassWTSTransData_html_a12761836e8a85612278aab9e1cb5e93f"><div class="ttname"><a href="classWTSTransData.html#a12761836e8a85612278aab9e1cb5e93f">WTSTransData::tradingdate</a></div><div class="ttdeci">uint32_t tradingdate() const</div><div class="ttdoc">获取交易日期</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01895">WTSDataDef.hpp:1895</a></div></div>
<div class="ttc" id="aclassWTSTransData_html_a151d66f7956dec0ef9a437df5a962c38"><div class="ttname"><a href="classWTSTransData.html#a151d66f7956dec0ef9a437df5a962c38">WTSTransData::actiontime</a></div><div class="ttdeci">uint32_t actiontime() const</div><div class="ttdoc">获取数据发生时间</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01909">WTSDataDef.hpp:1909</a></div></div>
<div class="ttc" id="aclassWTSTransData_html_a18f1a8ff4955abecceaf6043c7931cfd"><div class="ttname"><a href="classWTSTransData.html#a18f1a8ff4955abecceaf6043c7931cfd">WTSTransData::m_pContract</a></div><div class="ttdeci">WTSContractInfo * m_pContract</div><div class="ttdoc">合约信息对象指针</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01943">WTSDataDef.hpp:1943</a></div></div>
<div class="ttc" id="aclassWTSTransData_html_a1ea6265980d0716bcf84d7bb526e3db6"><div class="ttname"><a href="classWTSTransData.html#a1ea6265980d0716bcf84d7bb526e3db6">WTSTransData::setCode</a></div><div class="ttdeci">void setCode(const char *code)</div><div class="ttdoc">设置成交数据的合约代码</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01925">WTSDataDef.hpp:1925</a></div></div>
<div class="ttc" id="aclassWTSTransData_html_a24a2e65bf238646f87e2cb040910dc00"><div class="ttname"><a href="classWTSTransData.html#a24a2e65bf238646f87e2cb040910dc00">WTSTransData::getTransStruct</a></div><div class="ttdeci">WTSTransStruct &amp; getTransStruct()</div><div class="ttdoc">获取成交结构体引用</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01918">WTSDataDef.hpp:1918</a></div></div>
<div class="ttc" id="aclassWTSTransData_html_a38bb9e885bde5c1bbd534a6d06c45529"><div class="ttname"><a href="classWTSTransData.html#a38bb9e885bde5c1bbd534a6d06c45529">WTSTransData::code</a></div><div class="ttdeci">const char * code() const</div><div class="ttdoc">获取成交数据的合约代码</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01888">WTSDataDef.hpp:1888</a></div></div>
<div class="ttc" id="aclassWTSTransData_html_a487c949e7459865abc239a0e511e9015"><div class="ttname"><a href="classWTSTransData.html#a487c949e7459865abc239a0e511e9015">WTSTransData::m_tsStruct</a></div><div class="ttdeci">WTSTransStruct m_tsStruct</div><div class="ttdoc">成交数据结构体</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01942">WTSDataDef.hpp:1942</a></div></div>
<div class="ttc" id="aclassWTSTransData_html_a5cd0029debf3cd4d7d1032fe072f4219"><div class="ttname"><a href="classWTSTransData.html#a5cd0029debf3cd4d7d1032fe072f4219">WTSTransData::setContractInfo</a></div><div class="ttdeci">void setContractInfo(WTSContractInfo *cInfo)</div><div class="ttdoc">设置成交数据对应的合约信息</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01932">WTSDataDef.hpp:1932</a></div></div>
<div class="ttc" id="aclassWTSTransData_html_a7056c7dd0c572badf1de0d52099e663b"><div class="ttname"><a href="classWTSTransData.html#a7056c7dd0c572badf1de0d52099e663b">WTSTransData::actiondate</a></div><div class="ttdeci">uint32_t actiondate() const</div><div class="ttdoc">获取数据发生日期</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01902">WTSDataDef.hpp:1902</a></div></div>
<div class="ttc" id="aclassWTSTransData_html_a9fe75eafd82ed57032e7f92aa9dee35f"><div class="ttname"><a href="classWTSTransData.html#a9fe75eafd82ed57032e7f92aa9dee35f">WTSTransData::getContractInfo</a></div><div class="ttdeci">WTSContractInfo * getContractInfo() const</div><div class="ttdoc">获取成交数据对应的合约信息</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01939">WTSDataDef.hpp:1939</a></div></div>
<div class="ttc" id="aclassWTSTransData_html_ab5ec005415eb54b37db3d0d9c4a646fd"><div class="ttname"><a href="classWTSTransData.html#ab5ec005415eb54b37db3d0d9c4a646fd">WTSTransData::create</a></div><div class="ttdeci">static WTSTransData * create(const char *code)</div><div class="ttdoc">创建一个成交数据对象</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01852">WTSDataDef.hpp:1852</a></div></div>
<div class="ttc" id="aclassWTSTransData_html_ad8176a17bd6d4be75cf373725a2a1b05"><div class="ttname"><a href="classWTSTransData.html#ad8176a17bd6d4be75cf373725a2a1b05">WTSTransData::create</a></div><div class="ttdeci">static WTSTransData * create(WTSTransStruct &amp;transData)</div><div class="ttdoc">根据成交结构体创建一个成交数据对象</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01868">WTSDataDef.hpp:1868</a></div></div>
<div class="ttc" id="aclassWTSTransData_html_af21f46fe4b1969e4cd8c13bd6f447daa"><div class="ttname"><a href="classWTSTransData.html#af21f46fe4b1969e4cd8c13bd6f447daa">WTSTransData::exchg</a></div><div class="ttdeci">const char * exchg() const</div><div class="ttdoc">获取成交数据的交易所代码</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01881">WTSDataDef.hpp:1881</a></div></div>
<div class="ttc" id="aclassWTSTransSlice_html"><div class="ttname"><a href="classWTSTransSlice.html">WTSTransSlice</a></div><div class="ttdoc">逐笔成交数据切片类</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02549">WTSDataDef.hpp:2550</a></div></div>
<div class="ttc" id="aclassWTSTransSlice_html_a185a4e0774f6f2d365f417eb3c7398cf"><div class="ttname"><a href="classWTSTransSlice.html#a185a4e0774f6f2d365f417eb3c7398cf">WTSTransSlice::at</a></div><div class="ttdeci">const WTSTransStruct * at(int32_t idx)</div><div class="ttdoc">获取指定位置的逐笔成交数据</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02638">WTSDataDef.hpp:2638</a></div></div>
<div class="ttc" id="aclassWTSTransSlice_html_a2834967aa2c0b3eb5c6434ec2322a6e5"><div class="ttname"><a href="classWTSTransSlice.html#a2834967aa2c0b3eb5c6434ec2322a6e5">WTSTransSlice::m_ptrBegin</a></div><div class="ttdeci">WTSTransStruct * m_ptrBegin</div><div class="ttdoc">逐笔成交数据数组的起始位置指针</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02553">WTSDataDef.hpp:2553</a></div></div>
<div class="ttc" id="aclassWTSTransSlice_html_a30347c8222d2157b18c8ca9a3d9733b5"><div class="ttname"><a href="classWTSTransSlice.html#a30347c8222d2157b18c8ca9a3d9733b5">WTSTransSlice::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdoc">判断切片是否为空</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02626">WTSDataDef.hpp:2626</a></div></div>
<div class="ttc" id="aclassWTSTransSlice_html_a30a349dba2f1b873e4e5b9c3bbf67018"><div class="ttname"><a href="classWTSTransSlice.html#a30a349dba2f1b873e4e5b9c3bbf67018">WTSTransSlice::create</a></div><div class="ttdeci">static WTSTransSlice * create(const char *code, WTSTransStruct *firstItem, uint32_t count)</div><div class="ttdoc">创建一个逐笔成交数据切片对象</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02597">WTSDataDef.hpp:2597</a></div></div>
<div class="ttc" id="aclassWTSTransSlice_html_a38ffa9a7fa123b8d309c26bbd7872667"><div class="ttname"><a href="classWTSTransSlice.html#a38ffa9a7fa123b8d309c26bbd7872667">WTSTransSlice::m_strCode</a></div><div class="ttdeci">char m_strCode[MAX_INSTRUMENT_LENGTH]</div><div class="ttdoc">合约代码</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02552">WTSDataDef.hpp:2552</a></div></div>
<div class="ttc" id="aclassWTSTransSlice_html_a4366b7115a21d7015133ee5abfbeecfe"><div class="ttname"><a href="classWTSTransSlice.html#a4366b7115a21d7015133ee5abfbeecfe">WTSTransSlice::size</a></div><div class="ttdeci">uint32_t size() const</div><div class="ttdoc">获取切片的数据数量</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02617">WTSDataDef.hpp:2617</a></div></div>
<div class="ttc" id="aclassWTSTransSlice_html_a5aef7c14b5bba605b4cbdf4afdaa0eec"><div class="ttname"><a href="classWTSTransSlice.html#a5aef7c14b5bba605b4cbdf4afdaa0eec">WTSTransSlice::WTSTransSlice</a></div><div class="ttdeci">WTSTransSlice()</div><div class="ttdoc">构造函数（保护类型）</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02563">WTSDataDef.hpp:2563</a></div></div>
<div class="ttc" id="aclassWTSTransSlice_html_a862e078a4fe080f5576c17cba4acebe3"><div class="ttname"><a href="classWTSTransSlice.html#a862e078a4fe080f5576c17cba4acebe3">WTSTransSlice::m_uCount</a></div><div class="ttdeci">uint32_t m_uCount</div><div class="ttdoc">切片包含的数据数量</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02554">WTSDataDef.hpp:2554</a></div></div>
<div class="ttc" id="aclassWTSTransSlice_html_ad46e1d6413bc6c6253a87e8cd54e168b"><div class="ttname"><a href="classWTSTransSlice.html#ad46e1d6413bc6c6253a87e8cd54e168b">WTSTransSlice::translateIdx</a></div><div class="ttdeci">int32_t translateIdx(int32_t idx) const</div><div class="ttdoc">转换索引位置</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l02575">WTSDataDef.hpp:2575</a></div></div>
<div class="ttc" id="aclassWTSValueArray_html"><div class="ttname"><a href="classWTSValueArray.html">WTSValueArray</a></div><div class="ttdoc">数值数组类</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00043">WTSDataDef.hpp:44</a></div></div>
<div class="ttc" id="aclassWTSValueArray_html_a01dd0ce2867fc4ff4a69b6be30887434"><div class="ttname"><a href="classWTSValueArray.html#a01dd0ce2867fc4ff4a69b6be30887434">WTSValueArray::getDataRef</a></div><div class="ttdeci">std::vector&lt; double &gt; &amp; getDataRef()</div><div class="ttdoc">获取内部数据容器的引用</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00280">WTSDataDef.hpp:280</a></div></div>
<div class="ttc" id="aclassWTSValueArray_html_a044f845b9303853896eb88f6ae3ed79b"><div class="ttname"><a href="classWTSValueArray.html#a044f845b9303853896eb88f6ae3ed79b">WTSValueArray::at</a></div><div class="ttdeci">double at(uint32_t idx) const</div><div class="ttdoc">读取指定位置的数据</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00087">WTSDataDef.hpp:87</a></div></div>
<div class="ttc" id="aclassWTSValueArray_html_a049e169e3fb122f9c3444aa2821f89fe"><div class="ttname"><a href="classWTSValueArray.html#a049e169e3fb122f9c3444aa2821f89fe">WTSValueArray::translateIdx</a></div><div class="ttdeci">int32_t translateIdx(int32_t idx) const</div><div class="ttdoc">转换索引值</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00107">WTSDataDef.hpp:107</a></div></div>
<div class="ttc" id="aclassWTSValueArray_html_a0b7374ce77e22b5d94f8fbf2412dfed3"><div class="ttname"><a href="classWTSValueArray.html#a0b7374ce77e22b5d94f8fbf2412dfed3">WTSValueArray::operator[]</a></div><div class="ttdeci">double &amp; operator[](uint32_t idx)</div><div class="ttdoc">重载操作符[]（非常量版本）</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00253">WTSDataDef.hpp:253</a></div></div>
<div class="ttc" id="aclassWTSValueArray_html_a2161c6b69a32c1113e85ce4621919ab9"><div class="ttname"><a href="classWTSValueArray.html#a2161c6b69a32c1113e85ce4621919ab9">WTSValueArray::append</a></div><div class="ttdeci">void append(double val)</div><div class="ttdoc">在数组末尾添加数据</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00207">WTSDataDef.hpp:207</a></div></div>
<div class="ttc" id="aclassWTSValueArray_html_a55caaf35bbb0fb6635568fdf8d07d378"><div class="ttname"><a href="classWTSValueArray.html#a55caaf35bbb0fb6635568fdf8d07d378">WTSValueArray::resize</a></div><div class="ttdeci">void resize(uint32_t uSize, double val=INVALID_DOUBLE)</div><div class="ttdoc">重新分配数组大小，并设置默认值</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00238">WTSDataDef.hpp:238</a></div></div>
<div class="ttc" id="aclassWTSValueArray_html_a5f6a4b25b79d87672e5e76e25de3e3d0"><div class="ttname"><a href="classWTSValueArray.html#a5f6a4b25b79d87672e5e76e25de3e3d0">WTSValueArray::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdoc">判断数组是否为空</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00076">WTSDataDef.hpp:76</a></div></div>
<div class="ttc" id="aclassWTSValueArray_html_a642ca8a691752ed364ca2b10c2c875fa"><div class="ttname"><a href="classWTSValueArray.html#a642ca8a691752ed364ca2b10c2c875fa">WTSValueArray::size</a></div><div class="ttdeci">uint32_t size() const</div><div class="ttdoc">读取数组的长度</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00069">WTSDataDef.hpp:69</a></div></div>
<div class="ttc" id="aclassWTSValueArray_html_a76585103f85580e2fa996b78c7713ae4"><div class="ttname"><a href="classWTSValueArray.html#a76585103f85580e2fa996b78c7713ae4">WTSValueArray::operator[]</a></div><div class="ttdeci">double operator[](uint32_t idx) const</div><div class="ttdoc">重载操作符[]（常量版本）</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00267">WTSDataDef.hpp:267</a></div></div>
<div class="ttc" id="aclassWTSValueArray_html_a78f4fd6dbcb6dfbac3803d3624339811"><div class="ttname"><a href="classWTSValueArray.html#a78f4fd6dbcb6dfbac3803d3624339811">WTSValueArray::minvalue</a></div><div class="ttdeci">double minvalue(int32_t head, int32_t tail, bool isAbs=false) const</div><div class="ttdoc">找到指定范围内的最小值</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00170">WTSDataDef.hpp:170</a></div></div>
<div class="ttc" id="aclassWTSValueArray_html_aa2046c857e7a64c588b83fff3a47f4ed"><div class="ttname"><a href="classWTSValueArray.html#aa2046c857e7a64c588b83fff3a47f4ed">WTSValueArray::set</a></div><div class="ttdeci">void set(uint32_t idx, double val)</div><div class="ttdoc">设置指定位置的数据</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00221">WTSDataDef.hpp:221</a></div></div>
<div class="ttc" id="aclassWTSValueArray_html_aa27d3229b24b0ded65d9ff8c3aeb14c7"><div class="ttname"><a href="classWTSValueArray.html#aa27d3229b24b0ded65d9ff8c3aeb14c7">WTSValueArray::create</a></div><div class="ttdeci">static WTSValueArray * create()</div><div class="ttdoc">创建一个数值数组对象</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00057">WTSDataDef.hpp:57</a></div></div>
<div class="ttc" id="aclassWTSValueArray_html_ab8842253e8d90a2eec1646c55d857696"><div class="ttname"><a href="classWTSValueArray.html#ab8842253e8d90a2eec1646c55d857696">WTSValueArray::maxvalue</a></div><div class="ttdeci">double maxvalue(int32_t head, int32_t tail, bool isAbs=false) const</div><div class="ttdoc">找到指定范围内的最大值</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00129">WTSDataDef.hpp:129</a></div></div>
<div class="ttc" id="aclassWTSValueArray_html_ae6053bcfd34af825b561996d4de4c82c"><div class="ttname"><a href="classWTSValueArray.html#ae6053bcfd34af825b561996d4de4c82c">WTSValueArray::m_vecData</a></div><div class="ttdeci">vector&lt; double &gt; m_vecData</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l00046">WTSDataDef.hpp:46</a></div></div>
<div class="ttc" id="anamespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdef"><b>Definition</b> <a href="gtest-tuple_8h_source.html#l00113">gtest-tuple.h:113</a></div></div>
<div class="ttc" id="astructWTSBarStruct_html"><div class="ttname"><a href="structWTSBarStruct.html">WTSBarStruct</a></div><div class="ttdoc">K线数据结构体</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00101">WTSStruct.h:102</a></div></div>
<div class="ttc" id="astructWTSBarStruct_html_a219dccc8fbb1d4aab6454e818d58d3cf"><div class="ttname"><a href="structWTSBarStruct.html#a219dccc8fbb1d4aab6454e818d58d3cf">WTSBarStruct::low</a></div><div class="ttdeci">double low</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00115">WTSStruct.h:115</a></div></div>
<div class="ttc" id="astructWTSBarStruct_html_a4afe76084c6fb2c66107d7bcf9242387"><div class="ttname"><a href="structWTSBarStruct.html#a4afe76084c6fb2c66107d7bcf9242387">WTSBarStruct::vol</a></div><div class="ttdeci">double vol</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00120">WTSStruct.h:120</a></div></div>
<div class="ttc" id="astructWTSBarStruct_html_a4e13b085107979a65715f32d32a3a62b"><div class="ttname"><a href="structWTSBarStruct.html#a4e13b085107979a65715f32d32a3a62b">WTSBarStruct::high</a></div><div class="ttdeci">double high</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00114">WTSStruct.h:114</a></div></div>
<div class="ttc" id="astructWTSBarStruct_html_aa65200ab92ac87434c0d1566a44f4bb7"><div class="ttname"><a href="structWTSBarStruct.html#aa65200ab92ac87434c0d1566a44f4bb7">WTSBarStruct::close</a></div><div class="ttdeci">double close</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00116">WTSStruct.h:116</a></div></div>
<div class="ttc" id="astructWTSBarStruct_html_ac0ca05d9215e39adf184b342457ce1d5"><div class="ttname"><a href="structWTSBarStruct.html#ac0ca05d9215e39adf184b342457ce1d5">WTSBarStruct::open</a></div><div class="ttdeci">double open</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00113">WTSStruct.h:113</a></div></div>
<div class="ttc" id="astructWTSBarStruct_html_ad1dbdafda34a45eec0889f5826ce82b0"><div class="ttname"><a href="structWTSBarStruct.html#ad1dbdafda34a45eec0889f5826ce82b0">WTSBarStruct::date</a></div><div class="ttdeci">uint32_t date</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00110">WTSStruct.h:110</a></div></div>
<div class="ttc" id="astructWTSBarStruct_html_ad83e851fd7043b0484a2ba6bdf0588ca"><div class="ttname"><a href="structWTSBarStruct.html#ad83e851fd7043b0484a2ba6bdf0588ca">WTSBarStruct::time</a></div><div class="ttdeci">uint64_t time</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00112">WTSStruct.h:112</a></div></div>
<div class="ttc" id="astructWTSOrdDtlStruct_html"><div class="ttname"><a href="structWTSOrdDtlStruct.html">WTSOrdDtlStruct</a></div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00262">WTSStruct.h:263</a></div></div>
<div class="ttc" id="astructWTSOrdDtlStruct_html_a21f0c672c8f3054a38b5e40623249343"><div class="ttname"><a href="structWTSOrdDtlStruct.html#a21f0c672c8f3054a38b5e40623249343">WTSOrdDtlStruct::action_date</a></div><div class="ttdeci">uint32_t action_date</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00268">WTSStruct.h:268</a></div></div>
<div class="ttc" id="astructWTSOrdDtlStruct_html_a9af3549be793030ed159a7a2a23147b4"><div class="ttname"><a href="structWTSOrdDtlStruct.html#a9af3549be793030ed159a7a2a23147b4">WTSOrdDtlStruct::exchg</a></div><div class="ttdeci">char exchg[MAX_EXCHANGE_LENGTH]</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00264">WTSStruct.h:264</a></div></div>
<div class="ttc" id="astructWTSOrdDtlStruct_html_acf86b09c926f0c44746980d58908055a"><div class="ttname"><a href="structWTSOrdDtlStruct.html#acf86b09c926f0c44746980d58908055a">WTSOrdDtlStruct::code</a></div><div class="ttdeci">char code[MAX_INSTRUMENT_LENGTH]</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00265">WTSStruct.h:265</a></div></div>
<div class="ttc" id="astructWTSOrdDtlStruct_html_ae3b85ee17c1716a7f6b44fea0a565205"><div class="ttname"><a href="structWTSOrdDtlStruct.html#ae3b85ee17c1716a7f6b44fea0a565205">WTSOrdDtlStruct::trading_date</a></div><div class="ttdeci">uint32_t trading_date</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00267">WTSStruct.h:267</a></div></div>
<div class="ttc" id="astructWTSOrdDtlStruct_html_aec01f1330133315d1209a2d38e3fa2c0"><div class="ttname"><a href="structWTSOrdDtlStruct.html#aec01f1330133315d1209a2d38e3fa2c0">WTSOrdDtlStruct::action_time</a></div><div class="ttdeci">uint32_t action_time</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00269">WTSStruct.h:269</a></div></div>
<div class="ttc" id="astructWTSOrdQueStruct_html"><div class="ttname"><a href="structWTSOrdQueStruct.html">WTSOrdQueStruct</a></div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00240">WTSStruct.h:241</a></div></div>
<div class="ttc" id="astructWTSOrdQueStruct_html_a00fb33a24a672c0b4b2adc05a4607463"><div class="ttname"><a href="structWTSOrdQueStruct.html#a00fb33a24a672c0b4b2adc05a4607463">WTSOrdQueStruct::exchg</a></div><div class="ttdeci">char exchg[MAX_EXCHANGE_LENGTH]</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00242">WTSStruct.h:242</a></div></div>
<div class="ttc" id="astructWTSOrdQueStruct_html_a3cc2213dd8756aff6ff0e7c2d4e38039"><div class="ttname"><a href="structWTSOrdQueStruct.html#a3cc2213dd8756aff6ff0e7c2d4e38039">WTSOrdQueStruct::code</a></div><div class="ttdeci">char code[MAX_INSTRUMENT_LENGTH]</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00243">WTSStruct.h:243</a></div></div>
<div class="ttc" id="astructWTSOrdQueStruct_html_a92acba0f3a63462e57b384e9cc02850f"><div class="ttname"><a href="structWTSOrdQueStruct.html#a92acba0f3a63462e57b384e9cc02850f">WTSOrdQueStruct::action_date</a></div><div class="ttdeci">uint32_t action_date</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00246">WTSStruct.h:246</a></div></div>
<div class="ttc" id="astructWTSOrdQueStruct_html_af7e32210ca8a5936ab2170e04883d465"><div class="ttname"><a href="structWTSOrdQueStruct.html#af7e32210ca8a5936ab2170e04883d465">WTSOrdQueStruct::action_time</a></div><div class="ttdeci">uint32_t action_time</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00247">WTSStruct.h:247</a></div></div>
<div class="ttc" id="astructWTSOrdQueStruct_html_aff41f909ae7be5562cd95f9f1a3620f5"><div class="ttname"><a href="structWTSOrdQueStruct.html#aff41f909ae7be5562cd95f9f1a3620f5">WTSOrdQueStruct::trading_date</a></div><div class="ttdeci">uint32_t trading_date</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00245">WTSStruct.h:245</a></div></div>
<div class="ttc" id="astructWTSTickStruct_html"><div class="ttname"><a href="structWTSTickStruct.html">WTSTickStruct</a></div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00158">WTSStruct.h:159</a></div></div>
<div class="ttc" id="astructWTSTickStruct_html_a069d6e80c64f5c2ad8f6d9bb8dafe981"><div class="ttname"><a href="structWTSTickStruct.html#a069d6e80c64f5c2ad8f6d9bb8dafe981">WTSTickStruct::diff_interest</a></div><div class="ttdeci">double diff_interest</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00177">WTSStruct.h:177</a></div></div>
<div class="ttc" id="astructWTSTickStruct_html_a07aab56a57a594daa634b8f28381ffaa"><div class="ttname"><a href="structWTSTickStruct.html#a07aab56a57a594daa634b8f28381ffaa">WTSTickStruct::low</a></div><div class="ttdeci">double low</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00166">WTSStruct.h:166</a></div></div>
<div class="ttc" id="astructWTSTickStruct_html_a08e5338b44b175e874d45be91da587e8"><div class="ttname"><a href="structWTSTickStruct.html#a08e5338b44b175e874d45be91da587e8">WTSTickStruct::pre_settle</a></div><div class="ttdeci">double pre_settle</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00185">WTSStruct.h:185</a></div></div>
<div class="ttc" id="astructWTSTickStruct_html_a0c229638a3bda7a9dae9f042534b566b"><div class="ttname"><a href="structWTSTickStruct.html#a0c229638a3bda7a9dae9f042534b566b">WTSTickStruct::ask_qty</a></div><div class="ttdeci">double ask_qty[10]</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00191">WTSStruct.h:191</a></div></div>
<div class="ttc" id="astructWTSTickStruct_html_a17bd5a2e41a49b42c52017a208bb9375"><div class="ttname"><a href="structWTSTickStruct.html#a17bd5a2e41a49b42c52017a208bb9375">WTSTickStruct::pre_close</a></div><div class="ttdeci">double pre_close</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00184">WTSStruct.h:184</a></div></div>
<div class="ttc" id="astructWTSTickStruct_html_a1fae83488fbdd65e552944bb1502b8fd"><div class="ttname"><a href="structWTSTickStruct.html#a1fae83488fbdd65e552944bb1502b8fd">WTSTickStruct::exchg</a></div><div class="ttdeci">char exchg[MAX_EXCHANGE_LENGTH]</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00160">WTSStruct.h:160</a></div></div>
<div class="ttc" id="astructWTSTickStruct_html_a31738a87bc9682ccec5da21306c27afb"><div class="ttname"><a href="structWTSTickStruct.html#a31738a87bc9682ccec5da21306c27afb">WTSTickStruct::code</a></div><div class="ttdeci">char code[MAX_INSTRUMENT_LENGTH]</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00161">WTSStruct.h:161</a></div></div>
<div class="ttc" id="astructWTSTickStruct_html_a44aea5df719841d66b883c572ecd291d"><div class="ttname"><a href="structWTSTickStruct.html#a44aea5df719841d66b883c572ecd291d">WTSTickStruct::action_time</a></div><div class="ttdeci">uint32_t action_time</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00181">WTSStruct.h:181</a></div></div>
<div class="ttc" id="astructWTSTickStruct_html_a571f622c146287aeb5750e974fe434ae"><div class="ttname"><a href="structWTSTickStruct.html#a571f622c146287aeb5750e974fe434ae">WTSTickStruct::upper_limit</a></div><div class="ttdeci">double upper_limit</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00169">WTSStruct.h:169</a></div></div>
<div class="ttc" id="astructWTSTickStruct_html_a70aac8776b4932b236b58a1043002f4b"><div class="ttname"><a href="structWTSTickStruct.html#a70aac8776b4932b236b58a1043002f4b">WTSTickStruct::bid_qty</a></div><div class="ttdeci">double bid_qty[10]</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00190">WTSStruct.h:190</a></div></div>
<div class="ttc" id="astructWTSTickStruct_html_a72563ba28f49fb904ddefbf652727c82"><div class="ttname"><a href="structWTSTickStruct.html#a72563ba28f49fb904ddefbf652727c82">WTSTickStruct::price</a></div><div class="ttdeci">double price</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00163">WTSStruct.h:163</a></div></div>
<div class="ttc" id="astructWTSTickStruct_html_a748c94f5e832b7c622d1b3ee6968e9a5"><div class="ttname"><a href="structWTSTickStruct.html#a748c94f5e832b7c622d1b3ee6968e9a5">WTSTickStruct::pre_interest</a></div><div class="ttdeci">double pre_interest</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00186">WTSStruct.h:186</a></div></div>
<div class="ttc" id="astructWTSTickStruct_html_a7e4b6bb1e61754353e06c235563b67d7"><div class="ttname"><a href="structWTSTickStruct.html#a7e4b6bb1e61754353e06c235563b67d7">WTSTickStruct::volume</a></div><div class="ttdeci">double volume</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00173">WTSStruct.h:173</a></div></div>
<div class="ttc" id="astructWTSTickStruct_html_a8bfb68c9ec83f9a82827037aa93b5b1e"><div class="ttname"><a href="structWTSTickStruct.html#a8bfb68c9ec83f9a82827037aa93b5b1e">WTSTickStruct::turn_over</a></div><div class="ttdeci">double turn_over</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00175">WTSStruct.h:175</a></div></div>
<div class="ttc" id="astructWTSTickStruct_html_a92c83647dcd3d77d659bff2967480489"><div class="ttname"><a href="structWTSTickStruct.html#a92c83647dcd3d77d659bff2967480489">WTSTickStruct::bid_prices</a></div><div class="ttdeci">double bid_prices[10]</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00188">WTSStruct.h:188</a></div></div>
<div class="ttc" id="astructWTSTickStruct_html_a9f77ec5a68aa78149ff70544d1a5325c"><div class="ttname"><a href="structWTSTickStruct.html#a9f77ec5a68aa78149ff70544d1a5325c">WTSTickStruct::open_interest</a></div><div class="ttdeci">double open_interest</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00176">WTSStruct.h:176</a></div></div>
<div class="ttc" id="astructWTSTickStruct_html_a9fe18bba3bedd1c23830ba835cdf5fba"><div class="ttname"><a href="structWTSTickStruct.html#a9fe18bba3bedd1c23830ba835cdf5fba">WTSTickStruct::trading_date</a></div><div class="ttdeci">uint32_t trading_date</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00179">WTSStruct.h:179</a></div></div>
<div class="ttc" id="astructWTSTickStruct_html_aa4b209c7af071d33f094ec48d14ac5ad"><div class="ttname"><a href="structWTSTickStruct.html#aa4b209c7af071d33f094ec48d14ac5ad">WTSTickStruct::total_turnover</a></div><div class="ttdeci">double total_turnover</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00174">WTSStruct.h:174</a></div></div>
<div class="ttc" id="astructWTSTickStruct_html_aa765254d43077f75d8916cf2feb919fd"><div class="ttname"><a href="structWTSTickStruct.html#aa765254d43077f75d8916cf2feb919fd">WTSTickStruct::lower_limit</a></div><div class="ttdeci">double lower_limit</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00170">WTSStruct.h:170</a></div></div>
<div class="ttc" id="astructWTSTickStruct_html_aab9d98249498f3987bc114764edca24e"><div class="ttname"><a href="structWTSTickStruct.html#aab9d98249498f3987bc114764edca24e">WTSTickStruct::ask_prices</a></div><div class="ttdeci">double ask_prices[10]</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00189">WTSStruct.h:189</a></div></div>
<div class="ttc" id="astructWTSTickStruct_html_aabf07c4d7040b85931f0882de3398379"><div class="ttname"><a href="structWTSTickStruct.html#aabf07c4d7040b85931f0882de3398379">WTSTickStruct::total_volume</a></div><div class="ttdeci">double total_volume</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00172">WTSStruct.h:172</a></div></div>
<div class="ttc" id="astructWTSTickStruct_html_ac44468303bfc5acde6ca341490e6e51f"><div class="ttname"><a href="structWTSTickStruct.html#ac44468303bfc5acde6ca341490e6e51f">WTSTickStruct::high</a></div><div class="ttdeci">double high</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00165">WTSStruct.h:165</a></div></div>
<div class="ttc" id="astructWTSTickStruct_html_ae27988b263f90158e7e86c0039a1290b"><div class="ttname"><a href="structWTSTickStruct.html#ae27988b263f90158e7e86c0039a1290b">WTSTickStruct::open</a></div><div class="ttdeci">double open</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00164">WTSStruct.h:164</a></div></div>
<div class="ttc" id="astructWTSTickStruct_html_afc11e9090102f4c73b5a1bb2b3092e37"><div class="ttname"><a href="structWTSTickStruct.html#afc11e9090102f4c73b5a1bb2b3092e37">WTSTickStruct::settle_price</a></div><div class="ttdeci">double settle_price</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00167">WTSStruct.h:167</a></div></div>
<div class="ttc" id="astructWTSTickStruct_html_afd2eb785cc5bfd6ca1f93375732a09ef"><div class="ttname"><a href="structWTSTickStruct.html#afd2eb785cc5bfd6ca1f93375732a09ef">WTSTickStruct::action_date</a></div><div class="ttdeci">uint32_t action_date</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00180">WTSStruct.h:180</a></div></div>
<div class="ttc" id="astructWTSTransStruct_html"><div class="ttname"><a href="structWTSTransStruct.html">WTSTransStruct</a></div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00284">WTSStruct.h:285</a></div></div>
<div class="ttc" id="astructWTSTransStruct_html_a4fc0925f7408496c5bd154551ed70e75"><div class="ttname"><a href="structWTSTransStruct.html#a4fc0925f7408496c5bd154551ed70e75">WTSTransStruct::code</a></div><div class="ttdeci">char code[MAX_INSTRUMENT_LENGTH]</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00287">WTSStruct.h:287</a></div></div>
<div class="ttc" id="astructWTSTransStruct_html_a5c80b03829c404a5e0a9816e9ed5b59e"><div class="ttname"><a href="structWTSTransStruct.html#a5c80b03829c404a5e0a9816e9ed5b59e">WTSTransStruct::action_time</a></div><div class="ttdeci">uint32_t action_time</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00291">WTSStruct.h:291</a></div></div>
<div class="ttc" id="astructWTSTransStruct_html_a6aefca0d66619e4d6d373aa1ae9be20d"><div class="ttname"><a href="structWTSTransStruct.html#a6aefca0d66619e4d6d373aa1ae9be20d">WTSTransStruct::trading_date</a></div><div class="ttdeci">uint32_t trading_date</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00289">WTSStruct.h:289</a></div></div>
<div class="ttc" id="astructWTSTransStruct_html_a84964b0207c065f2f4671b972720a7f2"><div class="ttname"><a href="structWTSTransStruct.html#a84964b0207c065f2f4671b972720a7f2">WTSTransStruct::exchg</a></div><div class="ttdeci">char exchg[MAX_EXCHANGE_LENGTH]</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00286">WTSStruct.h:286</a></div></div>
<div class="ttc" id="astructWTSTransStruct_html_aa01b54f115b30482f93bcb861469f19b"><div class="ttname"><a href="structWTSTransStruct.html#aa01b54f115b30482f93bcb861469f19b">WTSTransStruct::action_date</a></div><div class="ttdeci">uint32_t action_date</div><div class="ttdef"><b>Definition</b> <a href="WTSStruct_8h_source.html#l00290">WTSStruct.h:290</a></div></div>
<div class="ttc" id="atypes_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition</b> <a href="types_8h_source.html#l00295">types.h:295</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_2a2e13dd651d9f4dfc9d1ceadd85b622.html">Includes</a></li><li class="navelem"><a class="el" href="WTSDataDef_8hpp.html">WTSDataDef.hpp</a></li>
    <li class="footer">制作者 <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
