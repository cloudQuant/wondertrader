<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WonderTrader: src/WtExeFact/WtStockVWapExeUnit.h 源文件</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">WonderTrader<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">高性能量化交易平台</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function() { init_codefold(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('WtStockVWapExeUnit_8h_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">载入中...</div>
<div class="SRStatus" id="Searching">搜索中...</div>
<div class="SRStatus" id="NoMatches">未找到</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">WtStockVWapExeUnit.h</div></div>
</div><!--header-->
<div class="contents">
<a href="WtStockVWapExeUnit_8h.html">浏览该文件的文档.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="preprocessor">#pragma once</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="preprocessor">#include &quot;<a class="code" href="WtOrdMon_8h.html">WtOrdMon.h</a>&quot;</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="preprocessor">#include &quot;../Includes/ExecuteDefs.h&quot;</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="preprocessor">#include &quot;../Share/StrUtil.hpp&quot;</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="preprocessor">#include &lt;fstream&gt;</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="preprocessor">#include &quot;../Share/TimeUtils.hpp&quot;</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="preprocessor">#include &quot;../Includes/WTSVariant.hpp&quot;</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#include &quot;../Includes/WTSContractInfo.hpp&quot;</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#include &quot;../Includes/WTSSessionInfo.hpp&quot;</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &quot;../Share/decimal.h&quot;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &quot;../Share/fmtlib.h&quot;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno"><a class="line" href="WtStockVWapExeUnit_8h.html#a17226795848decb565e90624584e5c0f">   18</a></span><a class="code hl_variable" href="WtStockVWapExeUnit_8h.html#a17226795848decb565e90624584e5c0f">USING_NS_WTP</a>;</div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span> </div>
<div class="foldopen" id="foldopen00026" data-start="{" data-end="};">
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html">   26</a></span><span class="keyword">class </span><a class="code hl_class" href="classWtStockVWapExeUnit.html">WtStockVWapExeUnit</a> : <span class="keyword">public</span> <a class="code hl_class" href="classExecuteUnit.html">ExecuteUnit</a> {</div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span> </div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#a441cfa2661846b8f13ec391e9f566e96">   30</a></span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_variable" href="classWtStockVWapExeUnit.html#a441cfa2661846b8f13ec391e9f566e96">cbondStr</a> = <span class="stringliteral">&quot;CBOND&quot;</span>;</div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#a8bd9c2521d77a1080b5d8a593943e6bb">   32</a></span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_variable" href="classWtStockVWapExeUnit.html#a8bd9c2521d77a1080b5d8a593943e6bb">stockStr</a> = <span class="stringliteral">&quot;STK&quot;</span>;</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span> </div>
<div class="foldopen" id="foldopen00038" data-start="{" data-end="};">
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#a97036f12a6597c03cef90498b33c8a1f">   38</a></span>    <span class="keyword">enum class</span> <a class="code hl_enumeration" href="classWtStockVWapExeUnit.html#a97036f12a6597c03cef90498b33c8a1f">TargetMode</a></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>    {</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>        <a class="code hl_enumvalue" href="classWtStockVWapExeUnit.html#a97036f12a6597c03cef90498b33c8a1fa4cd2f69083364d323a3a238fe68e0332">stocks</a> = 0,  </div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>        <a class="code hl_enumvalue" href="classWtStockVWapExeUnit.html#a97036f12a6597c03cef90498b33c8a1fae9f40e1f1d1658681dad2dac4ae0971e">amount</a>,      </div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>        <a class="code hl_enumvalue" href="classWtStockVWapExeUnit.html#a97036f12a6597c03cef90498b33c8a1fa8283014e6e586d80b0fbaf92ba85082f">ratio</a>,       </div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>    };</div>
</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span> </div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span><span class="keyword">private</span>:</div>
<div class="foldopen" id="foldopen00050" data-start="{" data-end="};">
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#a0aa318f61642ba0de4b77f67523a268e">   50</a></span>    std::vector&lt;std::string&gt; <a class="code hl_variable" href="classWtStockVWapExeUnit.html#a0aa318f61642ba0de4b77f67523a268e">PriceModeNames</a> = {</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>        <span class="stringliteral">&quot;BESTPX&quot;</span>,       <span class="comment">//最优价</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>        <span class="stringliteral">&quot;LASTPX&quot;</span>,       <span class="comment">//最新价</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>        <span class="stringliteral">&quot;MARKET&quot;</span>,       <span class="comment">//对手价</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>        <span class="stringliteral">&quot;AUTOPX&quot;</span>        <span class="comment">//自动</span></div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>    };</div>
</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>    <a class="code hl_function" href="classWtStockVWapExeUnit.html#ac6cb1a95911ede944686c5937e722c80">WtStockVWapExeUnit</a>();</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span> </div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>    <span class="keyword">virtual</span> <a class="code hl_function" href="classWtStockVWapExeUnit.html#abf44f8125ce99f9710533f4ad111a10b">~WtStockVWapExeUnit</a>();</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span> </div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>    <span class="keywordtype">void</span>    <a class="code hl_function" href="classWtStockVWapExeUnit.html#aa34f26fe91c6815a1dbada5a63ca532e">do_calc</a>();</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span> </div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>    <span class="keywordtype">void</span>    <a class="code hl_function" href="classWtStockVWapExeUnit.html#ab1860c3eccf78e3b4465f7398738cae3">fire_at_once</a>(<span class="keywordtype">double</span> qty);</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span> </div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>    <span class="comment">/*</span></div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span><span class="comment">    *   所属执行器工厂名称</span></div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span><span class="comment">    */</span></div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>    <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_function" href="classWtStockVWapExeUnit.html#ae8ca4a5b96f417e3f3311d367e274124">getFactName</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span> </div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>    <span class="comment">/*</span></div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span><span class="comment">    *   执行单元名称</span></div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span><span class="comment">    */</span></div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>    <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_function" href="classWtStockVWapExeUnit.html#af74805d7a2d2a54ddb0da4ba82d5253b">getName</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span> </div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>    <span class="comment">/*</span></div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span><span class="comment">    *   初始化执行单元</span></div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span><span class="comment">    *   ctx     执行单元运行环境</span></div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span><span class="comment">    *   code    管理的合约代码</span></div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span><span class="comment">    */</span></div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classWtStockVWapExeUnit.html#a5c9854e77965159d290cdae0023ed7b5">init</a>(<a class="code hl_class" href="classExecuteContext.html">ExecuteContext</a>* ctx, <span class="keyword">const</span> <span class="keywordtype">char</span>* stdCode, <a class="code hl_class" href="classWTSVariant.html">WTSVariant</a>* cfg) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span> </div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>    <span class="comment">/*</span></div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span><span class="comment">    *   订单回报</span></div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span><span class="comment">    *   localid 本地单号</span></div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span><span class="comment">    *   code    合约代码</span></div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span><span class="comment">    *   isBuy   买or卖</span></div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span><span class="comment">    *   leftover    剩余数量</span></div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span><span class="comment">    *   price   委托价格</span></div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span><span class="comment">    *   isCanceled  是否已撤销</span></div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span><span class="comment">    */</span></div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classWtStockVWapExeUnit.html#ab73070c98e5e5cd82686f7acd2ed9def">on_order</a>(uint32_t localid, <span class="keyword">const</span> <span class="keywordtype">char</span>* stdCode, <span class="keywordtype">bool</span> isBuy, <span class="keywordtype">double</span> leftover, <span class="keywordtype">double</span> <a class="code hl_variable" href="demo__send__order_8cpp.html#a04f887fc8800d4727971dbb8eb550132">price</a>, <span class="keywordtype">bool</span> isCanceled) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span> </div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>    <span class="comment">/*</span></div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span><span class="comment">    *   tick数据回调</span></div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span><span class="comment">    *   newTick 最新的tick数据</span></div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span><span class="comment">    */</span></div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classWtStockVWapExeUnit.html#a64073958bfde1c8209dc0048c8fa6e3e">on_tick</a>(<a class="code hl_class" href="classWTSTickData.html">WTSTickData</a>* newTick) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span> </div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>    <span class="comment">/*</span></div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span><span class="comment">    *   成交回报</span></div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span><span class="comment">    *   code    合约代码</span></div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span><span class="comment">    *   isBuy   买or卖</span></div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span><span class="comment">    *   vol     成交数量,这里没有正负,通过isBuy确定买入还是卖出</span></div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span><span class="comment">    *   price   成交价格</span></div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span><span class="comment">    */</span></div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classWtStockVWapExeUnit.html#a80347c2a91cec11e4d00a3bf24136c96">on_trade</a>(uint32_t localid, <span class="keyword">const</span> <span class="keywordtype">char</span>* stdCode, <span class="keywordtype">bool</span> isBuy, <span class="keywordtype">double</span> vol, <span class="keywordtype">double</span> <a class="code hl_variable" href="demo__send__order_8cpp.html#a04f887fc8800d4727971dbb8eb550132">price</a>) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span> </div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>    <span class="comment">/*</span></div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span><span class="comment">    *   下单结果回报</span></div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span><span class="comment">    */</span></div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#a02a4311336653086fde8ec4b7d853753">  178</a></span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classWtStockVWapExeUnit.html#a02a4311336653086fde8ec4b7d853753">on_entrust</a>(uint32_t localid, <span class="keyword">const</span> <span class="keywordtype">char</span>* stdCode, <span class="keywordtype">bool</span> bSuccess, <span class="keyword">const</span> <span class="keywordtype">char</span>* message) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span> </div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>    <span class="comment">/*</span></div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span><span class="comment">    *   设置新的目标仓位</span></div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span><span class="comment">    *   code    合约代码</span></div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span><span class="comment">    *   newVol  新的目标仓位</span></div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span><span class="comment">    */</span></div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classWtStockVWapExeUnit.html#a6942f5e1681b6028e527c99c863eecd6">set_position</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* stdCode, <span class="keywordtype">double</span> newVol) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span> </div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>    <span class="comment">/*</span></div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span><span class="comment">    *   交易通道就绪回调</span></div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span><span class="comment">    */</span></div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classWtStockVWapExeUnit.html#a73cf93067f7062c44b2c785b71fcd56b">on_channel_ready</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span> </div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>    <span class="comment">/*</span></div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span><span class="comment">    *   交易通道丢失回调</span></div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span><span class="comment">    */</span></div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classWtStockVWapExeUnit.html#a13423bf1b01742d8268fdd645c47a183">on_channel_lost</a>() <span class="keyword">override</span>;</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span> </div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classWtStockVWapExeUnit.html#a16cd93a8c346e0e2cc8d327f731d5f66">clear_all_position</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* stdCode) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#aef5a48cb5db099f3acdcb99f17daa0e7">  219</a></span>    <a class="code hl_class" href="classWTSTickData.html">WTSTickData</a>* <a class="code hl_variable" href="classWtStockVWapExeUnit.html#aef5a48cb5db099f3acdcb99f17daa0e7">_last_tick</a>;</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#af406419ee00b412a154dea852b150d7b">  221</a></span>    <span class="keywordtype">double</span>      <a class="code hl_variable" href="classWtStockVWapExeUnit.html#af406419ee00b412a154dea852b150d7b">_target_pos</a>;</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#af886fdee791530d63e0b2bea124e168e">  223</a></span>    <span class="keywordtype">double</span>      <a class="code hl_variable" href="classWtStockVWapExeUnit.html#af886fdee791530d63e0b2bea124e168e">_target_amount</a>;</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#a3a9c57daa3656134c6f841cafae4eb81">  225</a></span>    <span class="keywordtype">double</span>      <a class="code hl_variable" href="classWtStockVWapExeUnit.html#a3a9c57daa3656134c6f841cafae4eb81">_avaliable</a>{ 0 };</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#a6d9f87e2649f31cfdd3ac43b76dd10c0">  227</a></span>    <span class="keywordtype">bool</span>        <a class="code hl_variable" href="classWtStockVWapExeUnit.html#a6d9f87e2649f31cfdd3ac43b76dd10c0">_channel_ready</a>;</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#adb54ccb6bdaa6eb1e6d0f31f48c723ee">  229</a></span>    <a class="code hl_typedef" href="group__MutexUtils.html#gaff888cdcc14f5ebb7a1a9c9f7b52846f">StdUniqueMutex</a>  <a class="code hl_variable" href="classWtStockVWapExeUnit.html#adb54ccb6bdaa6eb1e6d0f31f48c723ee">_mtx_calc</a>;</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span> </div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#a88ac24c2b1193de9ca078dcb0debb507">  232</a></span>    <a class="code hl_class" href="classWTSCommodityInfo.html">WTSCommodityInfo</a>* <a class="code hl_variable" href="classWtStockVWapExeUnit.html#a88ac24c2b1193de9ca078dcb0debb507">_comm_info</a>;</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#a387dd9f99c0df83bf372dff6eb066ec5">  234</a></span>    <a class="code hl_class" href="classWTSSessionInfo.html">WTSSessionInfo</a>* <a class="code hl_variable" href="classWtStockVWapExeUnit.html#a387dd9f99c0df83bf372dff6eb066ec5">_sess_info</a>;</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#a89eaba2063c0b3ebd5a11d8ad289af98">  236</a></span>    uint32_t    <a class="code hl_variable" href="classWtStockVWapExeUnit.html#a89eaba2063c0b3ebd5a11d8ad289af98">_cancel_times</a>;</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span> </div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span> </div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span> </div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#a1b624ef914643cedaf06fb4ac7ca2a53">  243</a></span>    <a class="code hl_class" href="classWtOrdMon.html">WtOrdMon</a>        <a class="code hl_variable" href="classWtStockVWapExeUnit.html#a1b624ef914643cedaf06fb4ac7ca2a53">_orders_mon</a>;</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#a0e8490335a9e5c3e923dcf5ce351b718">  245</a></span>    uint32_t        <a class="code hl_variable" href="classWtStockVWapExeUnit.html#a0e8490335a9e5c3e923dcf5ce351b718">_cancel_cnt</a>;</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#a8f952d28e82c327a279ba52406dc9f9d">  247</a></span>    vector&lt;double&gt;  <a class="code hl_variable" href="classWtStockVWapExeUnit.html#a8f952d28e82c327a279ba52406dc9f9d">VwapAim</a>;</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#ae6cf912fbe1342cfb7f3b770a46eae81">  251</a></span>    uint32_t        <a class="code hl_variable" href="classWtStockVWapExeUnit.html#ae6cf912fbe1342cfb7f3b770a46eae81">_total_secs</a>;</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#a975c652a337a935029e779ce785f0b79">  253</a></span>    uint32_t        <a class="code hl_variable" href="classWtStockVWapExeUnit.html#a975c652a337a935029e779ce785f0b79">_total_times</a>;</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#a4fbc7a059e83b51f349182c7fbbdfec9">  255</a></span>    uint32_t        <a class="code hl_variable" href="classWtStockVWapExeUnit.html#a4fbc7a059e83b51f349182c7fbbdfec9">_tail_secs</a>;</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#aba48816de89bf333c8a560faf988695f">  257</a></span>    uint32_t        <a class="code hl_variable" href="classWtStockVWapExeUnit.html#aba48816de89bf333c8a560faf988695f">_ord_sticky</a>;</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#a3721fdc9b9efe72ce401136f6a721085">  259</a></span>    uint32_t        <a class="code hl_variable" href="classWtStockVWapExeUnit.html#a3721fdc9b9efe72ce401136f6a721085">_price_mode</a>;</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#acbbf4c1df96131d22a7346e1c8f07723">  261</a></span>    uint32_t        <a class="code hl_variable" href="classWtStockVWapExeUnit.html#acbbf4c1df96131d22a7346e1c8f07723">_price_offset</a>;</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#a21f867d1a8cf8f02913700615c6069d9">  263</a></span>    uint32_t        <a class="code hl_variable" href="classWtStockVWapExeUnit.html#a21f867d1a8cf8f02913700615c6069d9">_begin_time</a>;</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#a67115a43b6eff0b8eef8926545ab1017">  265</a></span>    uint32_t        <a class="code hl_variable" href="classWtStockVWapExeUnit.html#a67115a43b6eff0b8eef8926545ab1017">_end_time</a>;</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#af63649c16b698b5a596bb66f53978c75">  267</a></span>    <span class="keywordtype">double</span>          <a class="code hl_variable" href="classWtStockVWapExeUnit.html#af63649c16b698b5a596bb66f53978c75">_min_open_lots</a>;</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#aad2f34da73ca40b7161034dcf2ada800">  269</a></span>    <span class="keywordtype">double</span>          <a class="code hl_variable" href="classWtStockVWapExeUnit.html#aad2f34da73ca40b7161034dcf2ada800">_order_lots</a>;</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#adb95f717ac63cba75ac4b1e4e07b3729">  271</a></span>    <span class="keywordtype">bool</span>            <a class="code hl_variable" href="classWtStockVWapExeUnit.html#adb95f717ac63cba75ac4b1e4e07b3729">_is_KC</a>{ <span class="keyword">false</span> };</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#ade7a0210af20902bfe2cce5606f78375">  273</a></span>    <span class="keywordtype">bool</span>            <a class="code hl_variable" href="classWtStockVWapExeUnit.html#ade7a0210af20902bfe2cce5606f78375">isCanCancel</a>;</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#a8d7ad3e1f1ea9d45e2b845ffcbc89ed4">  275</a></span>    <a class="code hl_enumeration" href="classWtStockVWapExeUnit.html#a97036f12a6597c03cef90498b33c8a1f">TargetMode</a>      <a class="code hl_variable" href="classWtStockVWapExeUnit.html#a8d7ad3e1f1ea9d45e2b845ffcbc89ed4">_target_mode</a>{ <a class="code hl_enumvalue" href="classWtStockVWapExeUnit.html#a97036f12a6597c03cef90498b33c8a1fa4cd2f69083364d323a3a238fe68e0332">TargetMode::stocks</a> };</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#adbe69e6a788aa4c8a9a056fbb90e49d8">  277</a></span>    <span class="keywordtype">bool</span>            <a class="code hl_variable" href="classWtStockVWapExeUnit.html#adbe69e6a788aa4c8a9a056fbb90e49d8">_is_clear</a>;</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#a9c98e69080401bcaa4b85262e9099f7f">  279</a></span>    <span class="keywordtype">double</span>          <a class="code hl_variable" href="classWtStockVWapExeUnit.html#a9c98e69080401bcaa4b85262e9099f7f">_min_hands</a>{ 0 };</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#a04f582cdc58c1bead3f3679f33c5cea5">  281</a></span>    <span class="keywordtype">double</span>          <a class="code hl_variable" href="classWtStockVWapExeUnit.html#a04f582cdc58c1bead3f3679f33c5cea5">_start_price</a>{ 0 };</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#a25a14dd0a41f776cb54a440847119e4b">  283</a></span>    <span class="keywordtype">bool</span>            <a class="code hl_variable" href="classWtStockVWapExeUnit.html#a25a14dd0a41f776cb54a440847119e4b">_is_t0</a>{ <span class="keyword">false</span> };</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#ae67b663d35483faa4c21eef4f6d8e562">  285</a></span>    <span class="keywordtype">bool</span>            <a class="code hl_variable" href="classWtStockVWapExeUnit.html#ae67b663d35483faa4c21eef4f6d8e562">_is_finish</a>;</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#ad4c6a7f028ba4e2a250cd3f5cbee124d">  287</a></span>    uint64_t        <a class="code hl_variable" href="classWtStockVWapExeUnit.html#ad4c6a7f028ba4e2a250cd3f5cbee124d">_start_time</a>;</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#a87ff45ab21afd3466bdc9f84079d78e7">  291</a></span>    <span class="keywordtype">double</span>          <a class="code hl_variable" href="classWtStockVWapExeUnit.html#a87ff45ab21afd3466bdc9f84079d78e7">_this_target</a>;</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#a74ec38ee3b2971854ca0dc72c7951d2c">  293</a></span>    uint32_t        <a class="code hl_variable" href="classWtStockVWapExeUnit.html#a74ec38ee3b2971854ca0dc72c7951d2c">_fire_span</a>;</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#abbaea91c8b8832ff056f8a23887ed98d">  295</a></span>    uint32_t        <a class="code hl_variable" href="classWtStockVWapExeUnit.html#abbaea91c8b8832ff056f8a23887ed98d">_fired_times</a>;</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#a7a1df92172a24597e72323dd64e74728">  297</a></span>    uint64_t        <a class="code hl_variable" href="classWtStockVWapExeUnit.html#a7a1df92172a24597e72323dd64e74728">_last_fire_time</a>;</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#a9ee37e304cc43622f862ca3627601826">  299</a></span>    uint64_t        <a class="code hl_variable" href="classWtStockVWapExeUnit.html#a9ee37e304cc43622f862ca3627601826">_last_place_time</a>;</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#aee4a2ba11e9072cf415c9958f4e34af8">  301</a></span>    uint64_t        <a class="code hl_variable" href="classWtStockVWapExeUnit.html#aee4a2ba11e9072cf415c9958f4e34af8">_last_tick_time</a>;</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#ae7a14b60aa4ab8e048709ad7a5777fe7">  303</a></span>    <span class="keywordtype">double</span>          <a class="code hl_variable" href="classWtStockVWapExeUnit.html#ae7a14b60aa4ab8e048709ad7a5777fe7">_Vwap_vol</a>;</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#af318b1df80f957ea3e007931c8339d5e">  305</a></span>    <span class="keywordtype">double</span>          <a class="code hl_variable" href="classWtStockVWapExeUnit.html#af318b1df80f957ea3e007931c8339d5e">_Vwap_prz</a>;</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>    </div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#ac2577dd95fe83db2c97ec7f3f71087fe">  308</a></span>    std::atomic&lt;bool&gt; <a class="code hl_variable" href="classWtStockVWapExeUnit.html#ac2577dd95fe83db2c97ec7f3f71087fe">_in_calc</a>;</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span> </div>
<div class="foldopen" id="foldopen00314" data-start="{" data-end="};">
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno"><a class="line" href="structWtStockVWapExeUnit_1_1__CalcFlag.html">  314</a></span>    <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="structWtStockVWapExeUnit_1_1__CalcFlag.html">_CalcFlag</a></div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>    {</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno"><a class="line" href="structWtStockVWapExeUnit_1_1__CalcFlag.html#a97d0a177fe7828ce67dac6f6449b51fc">  317</a></span>        <span class="keywordtype">bool</span> <a class="code hl_variable" href="structWtStockVWapExeUnit_1_1__CalcFlag.html#a97d0a177fe7828ce67dac6f6449b51fc">_result</a>;</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno"><a class="line" href="structWtStockVWapExeUnit_1_1__CalcFlag.html#affeffda6b322a1081a0b3ee93b9612cc">  319</a></span>        std::atomic&lt;bool&gt;* <a class="code hl_variable" href="structWtStockVWapExeUnit_1_1__CalcFlag.html#affeffda6b322a1081a0b3ee93b9612cc">_flag</a>;</div>
<div class="foldopen" id="foldopen00324" data-start="{" data-end="}">
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno"><a class="line" href="structWtStockVWapExeUnit_1_1__CalcFlag.html#a45c7ff92e5ab3a174f01b3f69217680d">  324</a></span>        <a class="code hl_function" href="structWtStockVWapExeUnit_1_1__CalcFlag.html#a45c7ff92e5ab3a174f01b3f69217680d">_CalcFlag</a>(std::atomic&lt;bool&gt;*flag) :<a class="code hl_variable" href="structWtStockVWapExeUnit_1_1__CalcFlag.html#affeffda6b322a1081a0b3ee93b9612cc">_flag</a>(flag) {</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>            <a class="code hl_variable" href="structWtStockVWapExeUnit_1_1__CalcFlag.html#a97d0a177fe7828ce67dac6f6449b51fc">_result</a> = <a class="code hl_variable" href="structWtStockVWapExeUnit_1_1__CalcFlag.html#affeffda6b322a1081a0b3ee93b9612cc">_flag</a>-&gt;exchange(<span class="keyword">true</span>, std::memory_order_acq_rel);</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>        }</div>
</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span> </div>
<div class="foldopen" id="foldopen00331" data-start="{" data-end="}">
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno"><a class="line" href="structWtStockVWapExeUnit_1_1__CalcFlag.html#a8369a795d912af8799206de1a3913408">  331</a></span>        <a class="code hl_function" href="structWtStockVWapExeUnit_1_1__CalcFlag.html#a8369a795d912af8799206de1a3913408">~_CalcFlag</a>() {</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="structWtStockVWapExeUnit_1_1__CalcFlag.html#affeffda6b322a1081a0b3ee93b9612cc">_flag</a>)</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>                <a class="code hl_variable" href="structWtStockVWapExeUnit_1_1__CalcFlag.html#affeffda6b322a1081a0b3ee93b9612cc">_flag</a>-&gt;exchange(<span class="keyword">false</span>, std::memory_order_acq_rel);</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>        }</div>
</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno"><a class="line" href="structWtStockVWapExeUnit_1_1__CalcFlag.html#a7e562ae8f756d1d5a70e34e3642a46c4">  338</a></span>        <span class="keyword">operator</span> bool()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="structWtStockVWapExeUnit_1_1__CalcFlag.html#a97d0a177fe7828ce67dac6f6449b51fc">_result</a>; }</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#a451a247c40848bb35870316a3cad21ce">  339</a></span>    }<a class="code hl_typedef" href="classWtStockVWapExeUnit.html#a451a247c40848bb35870316a3cad21ce">CalcFlag</a>;</div>
</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>    </div>
<div class="foldopen" id="foldopen00348" data-start="{" data-end="}">
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#a66579cc7ff657f04cf10368ad10ed225">  348</a></span>    <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code hl_function" href="classWtStockVWapExeUnit.html#a66579cc7ff657f04cf10368ad10ed225">round_hands</a>(<span class="keywordtype">double</span> hands, <span class="keywordtype">double</span> min_hands)</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>    {</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>        <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)((hands + min_hands / 2) / min_hands) * min_hands;</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>    }</div>
</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span> </div>
<div class="foldopen" id="foldopen00361" data-start="{" data-end="}">
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno"><a class="line" href="classWtStockVWapExeUnit.html#aae7bc578b1bb189547648496014e4f5f">  361</a></span>    <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code hl_function" href="classWtStockVWapExeUnit.html#aae7bc578b1bb189547648496014e4f5f">get_minOrderQty</a>(std::string stdCode)</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>    {</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>        <span class="comment">// 从合约代码中提取股票代码部分</span></div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>        <span class="keywordtype">int</span> code = std::stoi(<a class="code hl_function" href="classStrUtil.html#ab7f8887aed021ea6dafe93ce1f2b67a0">StrUtil::split</a>(stdCode, <span class="stringliteral">&quot;.&quot;</span>)[2]);</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>        <span class="keywordtype">bool</span> is_KC = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>        <span class="comment">// 判断是否为科创板股票</span></div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>        <span class="keywordflow">if</span> (code &gt;= 688000)</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>        {</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>            is_KC = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>        }</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>        <span class="comment">// 获取商品信息</span></div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>        <a class="code hl_class" href="classWTSCommodityInfo.html">WTSCommodityInfo</a>* comm_info = <a class="code hl_variable" href="classExecuteUnit.html#adcad0deb3cd690a907595ba406a51f52">_ctx</a>-&gt;<a class="code hl_function" href="classExecuteContext.html#ae6fa522f07edb6ac83433c85f1781701">getCommodityInfo</a>(stdCode.c_str());</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>        <span class="keywordtype">double</span> min_order = 1.0;</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>        <span class="comment">// 根据产品类型设置最小下单数量</span></div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>        <span class="keywordflow">if</span> (strcmp(comm_info-&gt;<a class="code hl_function" href="classWTSCommodityInfo.html#a8a2149bdb4ccaacdf3cd666847a93136">getProduct</a>(), <a class="code hl_variable" href="classWtStockVWapExeUnit.html#a441cfa2661846b8f13ec391e9f566e96">cbondStr</a>) == 0)</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>            min_order = 10.0;  <span class="comment">// 可转债最小下单数量为10张</span></div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(comm_info-&gt;<a class="code hl_function" href="classWTSCommodityInfo.html#a8a2149bdb4ccaacdf3cd666847a93136">getProduct</a>(), <a class="code hl_variable" href="classWtStockVWapExeUnit.html#a8bd9c2521d77a1080b5d8a593943e6bb">stockStr</a>) == 0)</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>            <span class="keywordflow">if</span> (is_KC)</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>                min_order = 200.0;  <span class="comment">// 科创板股票最小下单数量为200股</span></div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>                min_order = 100.0;  <span class="comment">// 普通股票最小下单数量为100股</span></div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>        <span class="comment">// 释放商品信息对象</span></div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>        <span class="keywordflow">if</span> (comm_info)</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>            comm_info-&gt;<a class="code hl_function" href="classWTSObject.html#a57b87f47529974f735f4989eaf2dd55f">release</a>();</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>        <span class="keywordflow">return</span> min_order;</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>    }</div>
</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>};</div>
</div>
<div class="ttc" id="aWtOrdMon_8h_html"><div class="ttname"><a href="WtOrdMon_8h.html">WtOrdMon.h</a></div><div class="ttdoc">订单监控器头文件</div></div>
<div class="ttc" id="aWtStockVWapExeUnit_8h_html_a17226795848decb565e90624584e5c0f"><div class="ttname"><a href="WtStockVWapExeUnit_8h.html#a17226795848decb565e90624584e5c0f">USING_NS_WTP</a></div><div class="ttdeci">USING_NS_WTP</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00018">WtStockVWapExeUnit.h:18</a></div></div>
<div class="ttc" id="aclassExecuteContext_html"><div class="ttname"><a href="classExecuteContext.html">ExecuteContext</a></div><div class="ttdef"><b>Definition</b> <a href="ExecuteDefs_8h_source.html#l00026">ExecuteDefs.h:27</a></div></div>
<div class="ttc" id="aclassExecuteContext_html_ae6fa522f07edb6ac83433c85f1781701"><div class="ttname"><a href="classExecuteContext.html#ae6fa522f07edb6ac83433c85f1781701">ExecuteContext::getCommodityInfo</a></div><div class="ttdeci">virtual WTSCommodityInfo * getCommodityInfo(const char *stdCode)=0</div></div>
<div class="ttc" id="aclassExecuteUnit_html"><div class="ttname"><a href="classExecuteUnit.html">ExecuteUnit</a></div><div class="ttdef"><b>Definition</b> <a href="ExecuteDefs_8h_source.html#l00148">ExecuteDefs.h:149</a></div></div>
<div class="ttc" id="aclassExecuteUnit_html_adcad0deb3cd690a907595ba406a51f52"><div class="ttname"><a href="classExecuteUnit.html#adcad0deb3cd690a907595ba406a51f52">ExecuteUnit::_ctx</a></div><div class="ttdeci">ExecuteContext * _ctx</div><div class="ttdef"><b>Definition</b> <a href="ExecuteDefs_8h_source.html#l00233">ExecuteDefs.h:233</a></div></div>
<div class="ttc" id="aclassStrUtil_html_ab7f8887aed021ea6dafe93ce1f2b67a0"><div class="ttname"><a href="classStrUtil.html#ab7f8887aed021ea6dafe93ce1f2b67a0">StrUtil::split</a></div><div class="ttdeci">static StringVector split(const std::string &amp;str, const std::string &amp;delims=&quot;\t\n &quot;, unsigned int maxSplits=0)</div><div class="ttdoc">分割字符串为多个字符串并返回字符串数组</div><div class="ttdef"><b>Definition</b> <a href="StrUtil_8hpp_source.html#l00150">StrUtil.hpp:150</a></div></div>
<div class="ttc" id="aclassWTSCommodityInfo_html"><div class="ttname"><a href="classWTSCommodityInfo.html">WTSCommodityInfo</a></div><div class="ttdoc">品种信息类</div><div class="ttdef"><b>Definition</b> <a href="WTSContractInfo_8hpp_source.html#l00020">WTSContractInfo.hpp:21</a></div></div>
<div class="ttc" id="aclassWTSCommodityInfo_html_a8a2149bdb4ccaacdf3cd666847a93136"><div class="ttname"><a href="classWTSCommodityInfo.html#a8a2149bdb4ccaacdf3cd666847a93136">WTSCommodityInfo::getProduct</a></div><div class="ttdeci">const char * getProduct() const</div><div class="ttdef"><b>Definition</b> <a href="WTSContractInfo_8hpp_source.html#l00052">WTSContractInfo.hpp:52</a></div></div>
<div class="ttc" id="aclassWTSObject_html_a57b87f47529974f735f4989eaf2dd55f"><div class="ttname"><a href="classWTSObject.html#a57b87f47529974f735f4989eaf2dd55f">WTSObject::release</a></div><div class="ttdeci">virtual void release()</div><div class="ttdef"><b>Definition</b> <a href="WTSObject_8hpp_source.html#l00029">WTSObject.hpp:29</a></div></div>
<div class="ttc" id="aclassWTSSessionInfo_html"><div class="ttname"><a href="classWTSSessionInfo.html">WTSSessionInfo</a></div><div class="ttdoc">会话信息类</div><div class="ttdef"><b>Definition</b> <a href="WTSSessionInfo_8hpp_source.html#l00020">WTSSessionInfo.hpp:21</a></div></div>
<div class="ttc" id="aclassWTSTickData_html"><div class="ttname"><a href="classWTSTickData.html">WTSTickData</a></div><div class="ttdoc">Tick数据对象</div><div class="ttdef"><b>Definition</b> <a href="WTSDataDef_8hpp_source.html#l01251">WTSDataDef.hpp:1252</a></div></div>
<div class="ttc" id="aclassWTSVariant_html"><div class="ttname"><a href="classWTSVariant.html">WTSVariant</a></div><div class="ttdoc">变量类</div><div class="ttdef"><b>Definition</b> <a href="WTSVariant_8hpp_source.html#l00037">WTSVariant.hpp:38</a></div></div>
<div class="ttc" id="aclassWtOrdMon_html"><div class="ttname"><a href="classWtOrdMon.html">WtOrdMon</a></div><div class="ttdoc">订单监控器类</div><div class="ttdef"><b>Definition</b> <a href="WtOrdMon_8h_source.html#l00034">WtOrdMon.h:35</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html"><div class="ttname"><a href="classWtStockVWapExeUnit.html">WtStockVWapExeUnit</a></div><div class="ttdoc">股票VWAP执行单元类</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00026">WtStockVWapExeUnit.h:26</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_a02a4311336653086fde8ec4b7d853753"><div class="ttname"><a href="classWtStockVWapExeUnit.html#a02a4311336653086fde8ec4b7d853753">WtStockVWapExeUnit::on_entrust</a></div><div class="ttdeci">virtual void on_entrust(uint32_t localid, const char *stdCode, bool bSuccess, const char *message) override</div><div class="ttdoc">下单结果回报</div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_a04f582cdc58c1bead3f3679f33c5cea5"><div class="ttname"><a href="classWtStockVWapExeUnit.html#a04f582cdc58c1bead3f3679f33c5cea5">WtStockVWapExeUnit::_start_price</a></div><div class="ttdeci">double _start_price</div><div class="ttdoc">开始价格</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00281">WtStockVWapExeUnit.h:281</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_a0aa318f61642ba0de4b77f67523a268e"><div class="ttname"><a href="classWtStockVWapExeUnit.html#a0aa318f61642ba0de4b77f67523a268e">WtStockVWapExeUnit::PriceModeNames</a></div><div class="ttdeci">std::vector&lt; std::string &gt; PriceModeNames</div><div class="ttdoc">价格模式名称列表</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00050">WtStockVWapExeUnit.h:50</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_a0e8490335a9e5c3e923dcf5ce351b718"><div class="ttname"><a href="classWtStockVWapExeUnit.html#a0e8490335a9e5c3e923dcf5ce351b718">WtStockVWapExeUnit::_cancel_cnt</a></div><div class="ttdeci">uint32_t _cancel_cnt</div><div class="ttdoc">撤单次数统计</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00245">WtStockVWapExeUnit.h:245</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_a13423bf1b01742d8268fdd645c47a183"><div class="ttname"><a href="classWtStockVWapExeUnit.html#a13423bf1b01742d8268fdd645c47a183">WtStockVWapExeUnit::on_channel_lost</a></div><div class="ttdeci">virtual void on_channel_lost() override</div><div class="ttdoc">交易通道丢失回调</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8cpp_source.html#l00795">WtStockVWapExeUnit.cpp:795</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_a16cd93a8c346e0e2cc8d327f731d5f66"><div class="ttname"><a href="classWtStockVWapExeUnit.html#a16cd93a8c346e0e2cc8d327f731d5f66">WtStockVWapExeUnit::clear_all_position</a></div><div class="ttdeci">virtual void clear_all_position(const char *stdCode) override</div><div class="ttdoc">清空所有仓位</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8cpp_source.html#l00806">WtStockVWapExeUnit.cpp:806</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_a1b624ef914643cedaf06fb4ac7ca2a53"><div class="ttname"><a href="classWtStockVWapExeUnit.html#a1b624ef914643cedaf06fb4ac7ca2a53">WtStockVWapExeUnit::_orders_mon</a></div><div class="ttdeci">WtOrdMon _orders_mon</div><div class="ttdoc">执行参数</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00243">WtStockVWapExeUnit.h:243</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_a21f867d1a8cf8f02913700615c6069d9"><div class="ttname"><a href="classWtStockVWapExeUnit.html#a21f867d1a8cf8f02913700615c6069d9">WtStockVWapExeUnit::_begin_time</a></div><div class="ttdeci">uint32_t _begin_time</div><div class="ttdoc">开始时间（格式如：1000表示10:00）</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00263">WtStockVWapExeUnit.h:263</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_a25a14dd0a41f776cb54a440847119e4b"><div class="ttname"><a href="classWtStockVWapExeUnit.html#a25a14dd0a41f776cb54a440847119e4b">WtStockVWapExeUnit::_is_t0</a></div><div class="ttdeci">bool _is_t0</div><div class="ttdoc">是否支持T+0交易（转债等为true，股票为false）</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00283">WtStockVWapExeUnit.h:283</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_a3721fdc9b9efe72ce401136f6a721085"><div class="ttname"><a href="classWtStockVWapExeUnit.html#a3721fdc9b9efe72ce401136f6a721085">WtStockVWapExeUnit::_price_mode</a></div><div class="ttdeci">uint32_t _price_mode</div><div class="ttdoc">价格模式: 0-最新价,1-最优价,2-对手价</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00259">WtStockVWapExeUnit.h:259</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_a387dd9f99c0df83bf372dff6eb066ec5"><div class="ttname"><a href="classWtStockVWapExeUnit.html#a387dd9f99c0df83bf372dff6eb066ec5">WtStockVWapExeUnit::_sess_info</a></div><div class="ttdeci">WTSSessionInfo * _sess_info</div><div class="ttdoc">交易时段信息</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00234">WtStockVWapExeUnit.h:234</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_a3a9c57daa3656134c6f841cafae4eb81"><div class="ttname"><a href="classWtStockVWapExeUnit.html#a3a9c57daa3656134c6f841cafae4eb81">WtStockVWapExeUnit::_avaliable</a></div><div class="ttdeci">double _avaliable</div><div class="ttdoc">账户可用资金</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00225">WtStockVWapExeUnit.h:225</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_a441cfa2661846b8f13ec391e9f566e96"><div class="ttname"><a href="classWtStockVWapExeUnit.html#a441cfa2661846b8f13ec391e9f566e96">WtStockVWapExeUnit::cbondStr</a></div><div class="ttdeci">const char * cbondStr</div><div class="ttdoc">可转债产品代码</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00030">WtStockVWapExeUnit.h:30</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_a451a247c40848bb35870316a3cad21ce"><div class="ttname"><a href="classWtStockVWapExeUnit.html#a451a247c40848bb35870316a3cad21ce">WtStockVWapExeUnit::CalcFlag</a></div><div class="ttdeci">struct WtStockVWapExeUnit::_CalcFlag CalcFlag</div><div class="ttdoc">计算标记结构体</div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_a4fbc7a059e83b51f349182c7fbbdfec9"><div class="ttname"><a href="classWtStockVWapExeUnit.html#a4fbc7a059e83b51f349182c7fbbdfec9">WtStockVWapExeUnit::_tail_secs</a></div><div class="ttdeci">uint32_t _tail_secs</div><div class="ttdoc">执行尾部时间，当剩余时间小于该值时采用不同策略</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00255">WtStockVWapExeUnit.h:255</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_a5c9854e77965159d290cdae0023ed7b5"><div class="ttname"><a href="classWtStockVWapExeUnit.html#a5c9854e77965159d290cdae0023ed7b5">WtStockVWapExeUnit::init</a></div><div class="ttdeci">virtual void init(ExecuteContext *ctx, const char *stdCode, WTSVariant *cfg) override</div><div class="ttdoc">初始化执行单元</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8cpp_source.html#l00162">WtStockVWapExeUnit.cpp:162</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_a64073958bfde1c8209dc0048c8fa6e3e"><div class="ttname"><a href="classWtStockVWapExeUnit.html#a64073958bfde1c8209dc0048c8fa6e3e">WtStockVWapExeUnit::on_tick</a></div><div class="ttdeci">virtual void on_tick(WTSTickData *newTick) override</div><div class="ttdoc">行情数据回调</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8cpp_source.html#l00378">WtStockVWapExeUnit.cpp:378</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_a66579cc7ff657f04cf10368ad10ed225"><div class="ttname"><a href="classWtStockVWapExeUnit.html#a66579cc7ff657f04cf10368ad10ed225">WtStockVWapExeUnit::round_hands</a></div><div class="ttdeci">int round_hands(double hands, double min_hands)</div><div class="ttdoc">将手数调整为最小手数的整数倍</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00348">WtStockVWapExeUnit.h:348</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_a67115a43b6eff0b8eef8926545ab1017"><div class="ttname"><a href="classWtStockVWapExeUnit.html#a67115a43b6eff0b8eef8926545ab1017">WtStockVWapExeUnit::_end_time</a></div><div class="ttdeci">uint32_t _end_time</div><div class="ttdoc">结束时间（格式如：1030表示10:30）</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00265">WtStockVWapExeUnit.h:265</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_a6942f5e1681b6028e527c99c863eecd6"><div class="ttname"><a href="classWtStockVWapExeUnit.html#a6942f5e1681b6028e527c99c863eecd6">WtStockVWapExeUnit::set_position</a></div><div class="ttdeci">virtual void set_position(const char *stdCode, double newVol) override</div><div class="ttdoc">设置目标仓位</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8cpp_source.html#l00747">WtStockVWapExeUnit.cpp:747</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_a6d9f87e2649f31cfdd3ac43b76dd10c0"><div class="ttname"><a href="classWtStockVWapExeUnit.html#a6d9f87e2649f31cfdd3ac43b76dd10c0">WtStockVWapExeUnit::_channel_ready</a></div><div class="ttdeci">bool _channel_ready</div><div class="ttdoc">交易通道是否就绪</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00227">WtStockVWapExeUnit.h:227</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_a73cf93067f7062c44b2c785b71fcd56b"><div class="ttname"><a href="classWtStockVWapExeUnit.html#a73cf93067f7062c44b2c785b71fcd56b">WtStockVWapExeUnit::on_channel_ready</a></div><div class="ttdeci">virtual void on_channel_ready() override</div><div class="ttdoc">交易通道就绪回调</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8cpp_source.html#l00313">WtStockVWapExeUnit.cpp:313</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_a74ec38ee3b2971854ca0dc72c7951d2c"><div class="ttname"><a href="classWtStockVWapExeUnit.html#a74ec38ee3b2971854ca0dc72c7951d2c">WtStockVWapExeUnit::_fire_span</a></div><div class="ttdeci">uint32_t _fire_span</div><div class="ttdoc">发单间隔，单位毫秒</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00293">WtStockVWapExeUnit.h:293</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_a7a1df92172a24597e72323dd64e74728"><div class="ttname"><a href="classWtStockVWapExeUnit.html#a7a1df92172a24597e72323dd64e74728">WtStockVWapExeUnit::_last_fire_time</a></div><div class="ttdeci">uint64_t _last_fire_time</div><div class="ttdoc">上次执行的时间戳</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00297">WtStockVWapExeUnit.h:297</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_a80347c2a91cec11e4d00a3bf24136c96"><div class="ttname"><a href="classWtStockVWapExeUnit.html#a80347c2a91cec11e4d00a3bf24136c96">WtStockVWapExeUnit::on_trade</a></div><div class="ttdeci">virtual void on_trade(uint32_t localid, const char *stdCode, bool isBuy, double vol, double price) override</div><div class="ttdoc">成交回报回调</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8cpp_source.html#l00455">WtStockVWapExeUnit.cpp:455</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_a87ff45ab21afd3466bdc9f84079d78e7"><div class="ttname"><a href="classWtStockVWapExeUnit.html#a87ff45ab21afd3466bdc9f84079d78e7">WtStockVWapExeUnit::_this_target</a></div><div class="ttdeci">double _this_target</div><div class="ttdoc">临时变量</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00291">WtStockVWapExeUnit.h:291</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_a88ac24c2b1193de9ca078dcb0debb507"><div class="ttname"><a href="classWtStockVWapExeUnit.html#a88ac24c2b1193de9ca078dcb0debb507">WtStockVWapExeUnit::_comm_info</a></div><div class="ttdeci">WTSCommodityInfo * _comm_info</div><div class="ttdoc">商品信息，包含商品的交易参数</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00232">WtStockVWapExeUnit.h:232</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_a89eaba2063c0b3ebd5a11d8ad289af98"><div class="ttname"><a href="classWtStockVWapExeUnit.html#a89eaba2063c0b3ebd5a11d8ad289af98">WtStockVWapExeUnit::_cancel_times</a></div><div class="ttdeci">uint32_t _cancel_times</div><div class="ttdoc">撤单次数计数</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00236">WtStockVWapExeUnit.h:236</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_a8bd9c2521d77a1080b5d8a593943e6bb"><div class="ttname"><a href="classWtStockVWapExeUnit.html#a8bd9c2521d77a1080b5d8a593943e6bb">WtStockVWapExeUnit::stockStr</a></div><div class="ttdeci">const char * stockStr</div><div class="ttdoc">股票产品代码</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00032">WtStockVWapExeUnit.h:32</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_a8d7ad3e1f1ea9d45e2b845ffcbc89ed4"><div class="ttname"><a href="classWtStockVWapExeUnit.html#a8d7ad3e1f1ea9d45e2b845ffcbc89ed4">WtStockVWapExeUnit::_target_mode</a></div><div class="ttdeci">TargetMode _target_mode</div><div class="ttdoc">目标模式，默认为股数模式</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00275">WtStockVWapExeUnit.h:275</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_a8f952d28e82c327a279ba52406dc9f9d"><div class="ttname"><a href="classWtStockVWapExeUnit.html#a8f952d28e82c327a279ba52406dc9f9d">WtStockVWapExeUnit::VwapAim</a></div><div class="ttdeci">vector&lt; double &gt; VwapAim</div><div class="ttdoc">VWAP目标数组，按分钟记录目标总报单量</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00247">WtStockVWapExeUnit.h:247</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_a97036f12a6597c03cef90498b33c8a1f"><div class="ttname"><a href="classWtStockVWapExeUnit.html#a97036f12a6597c03cef90498b33c8a1f">WtStockVWapExeUnit::TargetMode</a></div><div class="ttdeci">TargetMode</div><div class="ttdoc">目标仓位模式枚举</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00038">WtStockVWapExeUnit.h:39</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_a97036f12a6597c03cef90498b33c8a1fa4cd2f69083364d323a3a238fe68e0332"><div class="ttname"><a href="classWtStockVWapExeUnit.html#a97036f12a6597c03cef90498b33c8a1fa4cd2f69083364d323a3a238fe68e0332">WtStockVWapExeUnit::TargetMode::stocks</a></div><div class="ttdeci">@ stocks</div><div class="ttdoc">股数模式，目标仓位以股数为单位</div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_a97036f12a6597c03cef90498b33c8a1fa8283014e6e586d80b0fbaf92ba85082f"><div class="ttname"><a href="classWtStockVWapExeUnit.html#a97036f12a6597c03cef90498b33c8a1fa8283014e6e586d80b0fbaf92ba85082f">WtStockVWapExeUnit::TargetMode::ratio</a></div><div class="ttdeci">@ ratio</div><div class="ttdoc">比例模式，目标仓位以比例为单位</div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_a97036f12a6597c03cef90498b33c8a1fae9f40e1f1d1658681dad2dac4ae0971e"><div class="ttname"><a href="classWtStockVWapExeUnit.html#a97036f12a6597c03cef90498b33c8a1fae9f40e1f1d1658681dad2dac4ae0971e">WtStockVWapExeUnit::TargetMode::amount</a></div><div class="ttdeci">@ amount</div><div class="ttdoc">金额模式，目标仓位以金额为单位</div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_a975c652a337a935029e779ce785f0b79"><div class="ttname"><a href="classWtStockVWapExeUnit.html#a975c652a337a935029e779ce785f0b79">WtStockVWapExeUnit::_total_times</a></div><div class="ttdeci">uint32_t _total_times</div><div class="ttdoc">总执行次数，即将大单拆分成几个小单</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00253">WtStockVWapExeUnit.h:253</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_a9c98e69080401bcaa4b85262e9099f7f"><div class="ttname"><a href="classWtStockVWapExeUnit.html#a9c98e69080401bcaa4b85262e9099f7f">WtStockVWapExeUnit::_min_hands</a></div><div class="ttdeci">double _min_hands</div><div class="ttdoc">最小手数</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00279">WtStockVWapExeUnit.h:279</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_a9ee37e304cc43622f862ca3627601826"><div class="ttname"><a href="classWtStockVWapExeUnit.html#a9ee37e304cc43622f862ca3627601826">WtStockVWapExeUnit::_last_place_time</a></div><div class="ttdeci">uint64_t _last_place_time</div><div class="ttdoc">上个下单时间戳</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00299">WtStockVWapExeUnit.h:299</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_aa34f26fe91c6815a1dbada5a63ca532e"><div class="ttname"><a href="classWtStockVWapExeUnit.html#aa34f26fe91c6815a1dbada5a63ca532e">WtStockVWapExeUnit::do_calc</a></div><div class="ttdeci">void do_calc()</div><div class="ttdoc">执行交易计算</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8cpp_source.html#l00466">WtStockVWapExeUnit.cpp:466</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_aad2f34da73ca40b7161034dcf2ada800"><div class="ttname"><a href="classWtStockVWapExeUnit.html#aad2f34da73ca40b7161034dcf2ada800">WtStockVWapExeUnit::_order_lots</a></div><div class="ttdeci">double _order_lots</div><div class="ttdoc">单次发单手数</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00269">WtStockVWapExeUnit.h:269</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_aae7bc578b1bb189547648496014e4f5f"><div class="ttname"><a href="classWtStockVWapExeUnit.html#aae7bc578b1bb189547648496014e4f5f">WtStockVWapExeUnit::get_minOrderQty</a></div><div class="ttdeci">double get_minOrderQty(std::string stdCode)</div><div class="ttdoc">获取最小下单数量</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00361">WtStockVWapExeUnit.h:361</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_ab1860c3eccf78e3b4465f7398738cae3"><div class="ttname"><a href="classWtStockVWapExeUnit.html#ab1860c3eccf78e3b4465f7398738cae3">WtStockVWapExeUnit::fire_at_once</a></div><div class="ttdeci">void fire_at_once(double qty)</div><div class="ttdoc">立即发出订单</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8cpp_source.html#l00664">WtStockVWapExeUnit.cpp:664</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_ab73070c98e5e5cd82686f7acd2ed9def"><div class="ttname"><a href="classWtStockVWapExeUnit.html#ab73070c98e5e5cd82686f7acd2ed9def">WtStockVWapExeUnit::on_order</a></div><div class="ttdeci">virtual void on_order(uint32_t localid, const char *stdCode, bool isBuy, double leftover, double price, bool isCanceled) override</div><div class="ttdoc">订单状态回调</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8cpp_source.html#l00258">WtStockVWapExeUnit.cpp:258</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_aba48816de89bf333c8a560faf988695f"><div class="ttname"><a href="classWtStockVWapExeUnit.html#aba48816de89bf333c8a560faf988695f">WtStockVWapExeUnit::_ord_sticky</a></div><div class="ttdeci">uint32_t _ord_sticky</div><div class="ttdoc">挂单时限，超过该时间后自动撤单，单位s</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00257">WtStockVWapExeUnit.h:257</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_abbaea91c8b8832ff056f8a23887ed98d"><div class="ttname"><a href="classWtStockVWapExeUnit.html#abbaea91c8b8832ff056f8a23887ed98d">WtStockVWapExeUnit::_fired_times</a></div><div class="ttdeci">uint32_t _fired_times</div><div class="ttdoc">已执行次数</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00295">WtStockVWapExeUnit.h:295</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_abf44f8125ce99f9710533f4ad111a10b"><div class="ttname"><a href="classWtStockVWapExeUnit.html#abf44f8125ce99f9710533f4ad111a10b">WtStockVWapExeUnit::~WtStockVWapExeUnit</a></div><div class="ttdeci">virtual ~WtStockVWapExeUnit()</div><div class="ttdoc">析构函数</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8cpp_source.html#l00046">WtStockVWapExeUnit.cpp:46</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_ac2577dd95fe83db2c97ec7f3f71087fe"><div class="ttname"><a href="classWtStockVWapExeUnit.html#ac2577dd95fe83db2c97ec7f3f71087fe">WtStockVWapExeUnit::_in_calc</a></div><div class="ttdeci">std::atomic&lt; bool &gt; _in_calc</div><div class="ttdoc">原子变量，标记是否在计算过程中，用于防止多线程竞争</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00308">WtStockVWapExeUnit.h:308</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_ac6cb1a95911ede944686c5937e722c80"><div class="ttname"><a href="classWtStockVWapExeUnit.html#ac6cb1a95911ede944686c5937e722c80">WtStockVWapExeUnit::WtStockVWapExeUnit</a></div><div class="ttdeci">WtStockVWapExeUnit()</div><div class="ttdoc">构造函数</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8cpp_source.html#l00020">WtStockVWapExeUnit.cpp:20</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_acbbf4c1df96131d22a7346e1c8f07723"><div class="ttname"><a href="classWtStockVWapExeUnit.html#acbbf4c1df96131d22a7346e1c8f07723">WtStockVWapExeUnit::_price_offset</a></div><div class="ttdeci">uint32_t _price_offset</div><div class="ttdoc">挂单价格偏移，相对于基准价格的tick偏移，买入为正，卖出为负</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00261">WtStockVWapExeUnit.h:261</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_ad4c6a7f028ba4e2a250cd3f5cbee124d"><div class="ttname"><a href="classWtStockVWapExeUnit.html#ad4c6a7f028ba4e2a250cd3f5cbee124d">WtStockVWapExeUnit::_start_time</a></div><div class="ttdeci">uint64_t _start_time</div><div class="ttdoc">开始执行的时间戳</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00287">WtStockVWapExeUnit.h:287</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_adb54ccb6bdaa6eb1e6d0f31f48c723ee"><div class="ttname"><a href="classWtStockVWapExeUnit.html#adb54ccb6bdaa6eb1e6d0f31f48c723ee">WtStockVWapExeUnit::_mtx_calc</a></div><div class="ttdeci">StdUniqueMutex _mtx_calc</div><div class="ttdoc">计算锁，用于多线程同步</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00229">WtStockVWapExeUnit.h:229</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_adb95f717ac63cba75ac4b1e4e07b3729"><div class="ttname"><a href="classWtStockVWapExeUnit.html#adb95f717ac63cba75ac4b1e4e07b3729">WtStockVWapExeUnit::_is_KC</a></div><div class="ttdeci">bool _is_KC</div><div class="ttdoc">是否为科创板股票</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00271">WtStockVWapExeUnit.h:271</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_adbe69e6a788aa4c8a9a056fbb90e49d8"><div class="ttname"><a href="classWtStockVWapExeUnit.html#adbe69e6a788aa4c8a9a056fbb90e49d8">WtStockVWapExeUnit::_is_clear</a></div><div class="ttdeci">bool _is_clear</div><div class="ttdoc">是否处于清仓状态</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00277">WtStockVWapExeUnit.h:277</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_ade7a0210af20902bfe2cce5606f78375"><div class="ttname"><a href="classWtStockVWapExeUnit.html#ade7a0210af20902bfe2cce5606f78375">WtStockVWapExeUnit::isCanCancel</a></div><div class="ttdeci">bool isCanCancel</div><div class="ttdoc">订单是否可以撤销</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00273">WtStockVWapExeUnit.h:273</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_ae67b663d35483faa4c21eef4f6d8e562"><div class="ttname"><a href="classWtStockVWapExeUnit.html#ae67b663d35483faa4c21eef4f6d8e562">WtStockVWapExeUnit::_is_finish</a></div><div class="ttdeci">bool _is_finish</div><div class="ttdoc">是否完成执行</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00285">WtStockVWapExeUnit.h:285</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_ae6cf912fbe1342cfb7f3b770a46eae81"><div class="ttname"><a href="classWtStockVWapExeUnit.html#ae6cf912fbe1342cfb7f3b770a46eae81">WtStockVWapExeUnit::_total_secs</a></div><div class="ttdeci">uint32_t _total_secs</div><div class="ttdoc">配置参数</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00251">WtStockVWapExeUnit.h:251</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_ae7a14b60aa4ab8e048709ad7a5777fe7"><div class="ttname"><a href="classWtStockVWapExeUnit.html#ae7a14b60aa4ab8e048709ad7a5777fe7">WtStockVWapExeUnit::_Vwap_vol</a></div><div class="ttdeci">double _Vwap_vol</div><div class="ttdoc">VWAP单位时间下单量</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00303">WtStockVWapExeUnit.h:303</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_ae8ca4a5b96f417e3f3311d367e274124"><div class="ttname"><a href="classWtStockVWapExeUnit.html#ae8ca4a5b96f417e3f3311d367e274124">WtStockVWapExeUnit::getFactName</a></div><div class="ttdeci">virtual const char * getFactName() override</div><div class="ttdoc">获取所属执行器工厂名称</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8cpp_source.html#l00141">WtStockVWapExeUnit.cpp:141</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_aee4a2ba11e9072cf415c9958f4e34af8"><div class="ttname"><a href="classWtStockVWapExeUnit.html#aee4a2ba11e9072cf415c9958f4e34af8">WtStockVWapExeUnit::_last_tick_time</a></div><div class="ttdeci">uint64_t _last_tick_time</div><div class="ttdoc">上个tick数据的时间戳</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00301">WtStockVWapExeUnit.h:301</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_aef5a48cb5db099f3acdcb99f17daa0e7"><div class="ttname"><a href="classWtStockVWapExeUnit.html#aef5a48cb5db099f3acdcb99f17daa0e7">WtStockVWapExeUnit::_last_tick</a></div><div class="ttdeci">WTSTickData * _last_tick</div><div class="ttdoc">最新的市场行情数据</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00219">WtStockVWapExeUnit.h:219</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_af318b1df80f957ea3e007931c8339d5e"><div class="ttname"><a href="classWtStockVWapExeUnit.html#af318b1df80f957ea3e007931c8339d5e">WtStockVWapExeUnit::_Vwap_prz</a></div><div class="ttdeci">double _Vwap_prz</div><div class="ttdoc">VWAP价格</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00305">WtStockVWapExeUnit.h:305</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_af406419ee00b412a154dea852b150d7b"><div class="ttname"><a href="classWtStockVWapExeUnit.html#af406419ee00b412a154dea852b150d7b">WtStockVWapExeUnit::_target_pos</a></div><div class="ttdeci">double _target_pos</div><div class="ttdoc">目标仓位（股数模式）</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00221">WtStockVWapExeUnit.h:221</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_af63649c16b698b5a596bb66f53978c75"><div class="ttname"><a href="classWtStockVWapExeUnit.html#af63649c16b698b5a596bb66f53978c75">WtStockVWapExeUnit::_min_open_lots</a></div><div class="ttdeci">double _min_open_lots</div><div class="ttdoc">最小开仓数量</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00267">WtStockVWapExeUnit.h:267</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_af74805d7a2d2a54ddb0da4ba82d5253b"><div class="ttname"><a href="classWtStockVWapExeUnit.html#af74805d7a2d2a54ddb0da4ba82d5253b">WtStockVWapExeUnit::getName</a></div><div class="ttdeci">virtual const char * getName() override</div><div class="ttdoc">获取执行单元名称</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8cpp_source.html#l00150">WtStockVWapExeUnit.cpp:150</a></div></div>
<div class="ttc" id="aclassWtStockVWapExeUnit_html_af886fdee791530d63e0b2bea124e168e"><div class="ttname"><a href="classWtStockVWapExeUnit.html#af886fdee791530d63e0b2bea124e168e">WtStockVWapExeUnit::_target_amount</a></div><div class="ttdeci">double _target_amount</div><div class="ttdoc">目标金额（金额模式）</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00223">WtStockVWapExeUnit.h:223</a></div></div>
<div class="ttc" id="ademo__send__order_8cpp_html_a04f887fc8800d4727971dbb8eb550132"><div class="ttname"><a href="demo__send__order_8cpp.html#a04f887fc8800d4727971dbb8eb550132">price</a></div><div class="ttdeci">ATPPriceType price</div><div class="ttdef"><b>Definition</b> <a href="API_2AtpTradeApi_2demo_2all__message__demo_2main_8cpp_source.html#l00040">main.cpp:40</a></div></div>
<div class="ttc" id="agroup__MutexUtils_html_gaff888cdcc14f5ebb7a1a9c9f7b52846f"><div class="ttname"><a href="group__MutexUtils.html#gaff888cdcc14f5ebb7a1a9c9f7b52846f">StdUniqueMutex</a></div><div class="ttdeci">std::mutex StdUniqueMutex</div><div class="ttdoc">普通互斥量类型</div><div class="ttdef"><b>Definition</b> <a href="StdUtils_8hpp_source.html#l00061">StdUtils.hpp:61</a></div></div>
<div class="ttc" id="astructWtStockVWapExeUnit_1_1__CalcFlag_html"><div class="ttname"><a href="structWtStockVWapExeUnit_1_1__CalcFlag.html">WtStockVWapExeUnit::_CalcFlag</a></div><div class="ttdoc">计算标记结构体</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00314">WtStockVWapExeUnit.h:315</a></div></div>
<div class="ttc" id="astructWtStockVWapExeUnit_1_1__CalcFlag_html_a45c7ff92e5ab3a174f01b3f69217680d"><div class="ttname"><a href="structWtStockVWapExeUnit_1_1__CalcFlag.html#a45c7ff92e5ab3a174f01b3f69217680d">WtStockVWapExeUnit::_CalcFlag::_CalcFlag</a></div><div class="ttdeci">_CalcFlag(std::atomic&lt; bool &gt; *flag)</div><div class="ttdoc">构造函数</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00324">WtStockVWapExeUnit.h:324</a></div></div>
<div class="ttc" id="astructWtStockVWapExeUnit_1_1__CalcFlag_html_a8369a795d912af8799206de1a3913408"><div class="ttname"><a href="structWtStockVWapExeUnit_1_1__CalcFlag.html#a8369a795d912af8799206de1a3913408">WtStockVWapExeUnit::_CalcFlag::~_CalcFlag</a></div><div class="ttdeci">~_CalcFlag()</div><div class="ttdoc">析构函数，释放标志</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00331">WtStockVWapExeUnit.h:331</a></div></div>
<div class="ttc" id="astructWtStockVWapExeUnit_1_1__CalcFlag_html_a97d0a177fe7828ce67dac6f6449b51fc"><div class="ttname"><a href="structWtStockVWapExeUnit_1_1__CalcFlag.html#a97d0a177fe7828ce67dac6f6449b51fc">WtStockVWapExeUnit::_CalcFlag::_result</a></div><div class="ttdeci">bool _result</div><div class="ttdoc">交换结果</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00317">WtStockVWapExeUnit.h:317</a></div></div>
<div class="ttc" id="astructWtStockVWapExeUnit_1_1__CalcFlag_html_affeffda6b322a1081a0b3ee93b9612cc"><div class="ttname"><a href="structWtStockVWapExeUnit_1_1__CalcFlag.html#affeffda6b322a1081a0b3ee93b9612cc">WtStockVWapExeUnit::_CalcFlag::_flag</a></div><div class="ttdeci">std::atomic&lt; bool &gt; * _flag</div><div class="ttdoc">原子标志指针</div><div class="ttdef"><b>Definition</b> <a href="WtStockVWapExeUnit_8h_source.html#l00319">WtStockVWapExeUnit.h:319</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_35e91bc913ca608ca8aed17ce3ae7d3c.html">WtExeFact</a></li><li class="navelem"><a class="el" href="WtStockVWapExeUnit_8h.html">WtStockVWapExeUnit.h</a></li>
    <li class="footer">制作者 <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
