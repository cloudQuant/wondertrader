<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WonderTrader: WtDataManager类 参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">WonderTrader<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">高性能量化交易平台</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classWtDataManager.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">载入中...</div>
<div class="SRStatus" id="Searching">搜索中...</div>
<div class="SRStatus" id="NoMatches">未找到</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">类</a> &#124;
<a href="#pub-methods">Public 成员函数</a> &#124;
<a href="#pri-types">Private 类型</a> &#124;
<a href="#pri-methods">Private 成员函数</a> &#124;
<a href="#pri-attribs">Private 属性</a> &#124;
<a href="classWtDataManager-members.html">所有成员列表</a>  </div>
  <div class="headertitle"><div class="title">WtDataManager类 参考</div></div>
</div><!--header-->
<div class="contents">

<p>数据管理器类  
 <a href="classWtDataManager.html#details">更多...</a></p>

<p><code>#include &lt;<a class="el" href="WtDataManager_8h_source.html">WtDataManager.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
类</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structWtDataManager_1_1__BarCache.html">_BarCache</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">K线缓存结构体  <a href="structWtDataManager_1_1__BarCache.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public 成员函数</h2></td></tr>
<tr class="memitem:a35c29a55b176944d004bd5e1065e9c69" id="r_a35c29a55b176944d004bd5e1065e9c69"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDataManager.html#a35c29a55b176944d004bd5e1065e9c69">WtDataManager</a> ()</td></tr>
<tr class="memdesc:a35c29a55b176944d004bd5e1065e9c69"><td class="mdescLeft">&#160;</td><td class="mdescRight">构造函数  <br /></td></tr>
<tr class="separator:a35c29a55b176944d004bd5e1065e9c69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a708376ee7435759b5ba1f22cc07cc497" id="r_a708376ee7435759b5ba1f22cc07cc497"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDataManager.html#a708376ee7435759b5ba1f22cc07cc497">~WtDataManager</a> ()</td></tr>
<tr class="memdesc:a708376ee7435759b5ba1f22cc07cc497"><td class="mdescLeft">&#160;</td><td class="mdescRight">析构函数  <br /></td></tr>
<tr class="separator:a708376ee7435759b5ba1f22cc07cc497"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca59ae9638b39940f7eea0fd93cb578a" id="r_aca59ae9638b39940f7eea0fd93cb578a"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classIBaseDataMgr.html">IBaseDataMgr</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDataManager.html#aca59ae9638b39940f7eea0fd93cb578a">get_basedata_mgr</a> () override</td></tr>
<tr class="separator:aca59ae9638b39940f7eea0fd93cb578a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a208b21c2d0fb98bc837b8cfb66702b89" id="r_a208b21c2d0fb98bc837b8cfb66702b89"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classIHotMgr.html">IHotMgr</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDataManager.html#a208b21c2d0fb98bc837b8cfb66702b89">get_hot_mgr</a> () override</td></tr>
<tr class="separator:a208b21c2d0fb98bc837b8cfb66702b89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae73ae17c4c1f1f429b83daf2abb4217f" id="r_ae73ae17c4c1f1f429b83daf2abb4217f"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDataManager.html#ae73ae17c4c1f1f429b83daf2abb4217f">reader_log</a> (<a class="el" href="WTSTypes_8h.html#aa7b93f4aa2259e69e48f27448c247dc8">WTSLogLevel</a> ll, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *message) override</td></tr>
<tr class="memdesc:ae73ae17c4c1f1f429b83daf2abb4217f"><td class="mdescLeft">&#160;</td><td class="mdescRight">输出数据读取模块的日志  <br /></td></tr>
<tr class="separator:ae73ae17c4c1f1f429b83daf2abb4217f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e0b9bc18bdd5220217407d6ec1f493a" id="r_a0e0b9bc18bdd5220217407d6ec1f493a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDataManager.html#a0e0b9bc18bdd5220217407d6ec1f493a">init</a> (<a class="el" href="classWTSVariant.html">WTSVariant</a> *cfg, <a class="el" href="classWtDtRunner.html">WtDtRunner</a> *runner)</td></tr>
<tr class="memdesc:a0e0b9bc18bdd5220217407d6ec1f493a"><td class="mdescLeft">&#160;</td><td class="mdescRight">初始化数据管理器  <br /></td></tr>
<tr class="separator:a0e0b9bc18bdd5220217407d6ec1f493a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3685ef755be72a504c460e3b4720de84" id="r_a3685ef755be72a504c460e3b4720de84"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classWTSOrdQueSlice.html">WTSOrdQueSlice</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDataManager.html#a3685ef755be72a504c460e3b4720de84">get_order_queue_slice</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, uint64_t stime, uint64_t etime=0)</td></tr>
<tr class="memdesc:a3685ef755be72a504c460e3b4720de84"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取订单队列数据切片  <br /></td></tr>
<tr class="separator:a3685ef755be72a504c460e3b4720de84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0742560a4f0c77828ace41ec4f3a6af6" id="r_a0742560a4f0c77828ace41ec4f3a6af6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classWTSOrdDtlSlice.html">WTSOrdDtlSlice</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDataManager.html#a0742560a4f0c77828ace41ec4f3a6af6">get_order_detail_slice</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, uint64_t stime, uint64_t etime=0)</td></tr>
<tr class="memdesc:a0742560a4f0c77828ace41ec4f3a6af6"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取订单明细数据切片  <br /></td></tr>
<tr class="separator:a0742560a4f0c77828ace41ec4f3a6af6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ad189d9d2f775978e558c5b5dc7cbad" id="r_a7ad189d9d2f775978e558c5b5dc7cbad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classWTSTransSlice.html">WTSTransSlice</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDataManager.html#a7ad189d9d2f775978e558c5b5dc7cbad">get_transaction_slice</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, uint64_t stime, uint64_t etime=0)</td></tr>
<tr class="memdesc:a7ad189d9d2f775978e558c5b5dc7cbad"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取成交明细数据切片  <br /></td></tr>
<tr class="separator:a7ad189d9d2f775978e558c5b5dc7cbad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a910ccc5d4768b7e57870eb54d32c69" id="r_a6a910ccc5d4768b7e57870eb54d32c69"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classWTSTickSlice.html">WTSTickSlice</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDataManager.html#a6a910ccc5d4768b7e57870eb54d32c69">get_tick_slice_by_date</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, uint32_t uDate=0)</td></tr>
<tr class="memdesc:a6a910ccc5d4768b7e57870eb54d32c69"><td class="mdescLeft">&#160;</td><td class="mdescRight">根据日期获取Tick数据切片  <br /></td></tr>
<tr class="separator:a6a910ccc5d4768b7e57870eb54d32c69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae82860283dc4e93aad1aaa2c202421f5" id="r_ae82860283dc4e93aad1aaa2c202421f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classWTSKlineSlice.html">WTSKlineSlice</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDataManager.html#ae82860283dc4e93aad1aaa2c202421f5">get_skline_slice_by_date</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, uint32_t secs, uint32_t uDate=0)</td></tr>
<tr class="memdesc:ae82860283dc4e93aad1aaa2c202421f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">根据日期获取秒线数据切片  <br /></td></tr>
<tr class="separator:ae82860283dc4e93aad1aaa2c202421f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f763a499fc222a5181d8d4e9882a857" id="r_a9f763a499fc222a5181d8d4e9882a857"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classWTSKlineSlice.html">WTSKlineSlice</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDataManager.html#a9f763a499fc222a5181d8d4e9882a857">get_kline_slice_by_date</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, <a class="el" href="WTSTypes_8h.html#a27f5d8bd7208a5fc1d044c6f5961904c">WTSKlinePeriod</a> period, uint32_t times, uint32_t uDate=0)</td></tr>
<tr class="memdesc:a9f763a499fc222a5181d8d4e9882a857"><td class="mdescLeft">&#160;</td><td class="mdescRight">根据日期获取K线数据切片  <br /></td></tr>
<tr class="separator:a9f763a499fc222a5181d8d4e9882a857"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50e99d82bc0293aa5883bc4f25870402" id="r_a50e99d82bc0293aa5883bc4f25870402"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classWTSTickSlice.html">WTSTickSlice</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDataManager.html#a50e99d82bc0293aa5883bc4f25870402">get_tick_slices_by_range</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, uint64_t stime, uint64_t etime=0)</td></tr>
<tr class="memdesc:a50e99d82bc0293aa5883bc4f25870402"><td class="mdescLeft">&#160;</td><td class="mdescRight">根据时间范围获取Tick数据切片  <br /></td></tr>
<tr class="separator:a50e99d82bc0293aa5883bc4f25870402"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a585a88042cfd201c55eb9adf9bb0d8b9" id="r_a585a88042cfd201c55eb9adf9bb0d8b9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classWTSKlineSlice.html">WTSKlineSlice</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDataManager.html#a585a88042cfd201c55eb9adf9bb0d8b9">get_kline_slice_by_range</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, <a class="el" href="WTSTypes_8h.html#a27f5d8bd7208a5fc1d044c6f5961904c">WTSKlinePeriod</a> period, uint32_t times, uint64_t stime, uint64_t etime=0)</td></tr>
<tr class="memdesc:a585a88042cfd201c55eb9adf9bb0d8b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">根据时间范围获取K线数据切片  <br /></td></tr>
<tr class="separator:a585a88042cfd201c55eb9adf9bb0d8b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae036883f643d17eea15211b4d752e616" id="r_ae036883f643d17eea15211b4d752e616"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classWTSTickSlice.html">WTSTickSlice</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDataManager.html#ae036883f643d17eea15211b4d752e616">get_tick_slice_by_count</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, uint32_t count, uint64_t etime=0)</td></tr>
<tr class="memdesc:ae036883f643d17eea15211b4d752e616"><td class="mdescLeft">&#160;</td><td class="mdescRight">根据数量获取Tick数据切片  <br /></td></tr>
<tr class="separator:ae036883f643d17eea15211b4d752e616"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99a0335324f38bed4ed71b889ed6daa9" id="r_a99a0335324f38bed4ed71b889ed6daa9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classWTSKlineSlice.html">WTSKlineSlice</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDataManager.html#a99a0335324f38bed4ed71b889ed6daa9">get_kline_slice_by_count</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, <a class="el" href="WTSTypes_8h.html#a27f5d8bd7208a5fc1d044c6f5961904c">WTSKlinePeriod</a> period, uint32_t times, uint32_t count, uint64_t etime=0)</td></tr>
<tr class="memdesc:a99a0335324f38bed4ed71b889ed6daa9"><td class="mdescLeft">&#160;</td><td class="mdescRight">根据数量获取K线数据切片  <br /></td></tr>
<tr class="separator:a99a0335324f38bed4ed71b889ed6daa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8fe9680101999a65667e3db546f6c85" id="r_ad8fe9680101999a65667e3db546f6c85"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDataManager.html#ad8fe9680101999a65667e3db546f6c85">get_exright_factor</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, <a class="el" href="classWTSCommodityInfo.html">WTSCommodityInfo</a> *commInfo=<a class="el" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</td></tr>
<tr class="memdesc:ad8fe9680101999a65667e3db546f6c85"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取复权因子  <br /></td></tr>
<tr class="separator:ad8fe9680101999a65667e3db546f6c85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4cf9c74e186a2f13f7cda7693aae628" id="r_ab4cf9c74e186a2f13f7cda7693aae628"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDataManager.html#ab4cf9c74e186a2f13f7cda7693aae628">subscribe_bar</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, <a class="el" href="WTSTypes_8h.html#a27f5d8bd7208a5fc1d044c6f5961904c">WTSKlinePeriod</a> period, uint32_t times)</td></tr>
<tr class="memdesc:ab4cf9c74e186a2f13f7cda7693aae628"><td class="mdescLeft">&#160;</td><td class="mdescRight">订阅K线数据  <br /></td></tr>
<tr class="separator:ab4cf9c74e186a2f13f7cda7693aae628"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84f718b47f582313699b9034c07fd5fd" id="r_a84f718b47f582313699b9034c07fd5fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDataManager.html#a84f718b47f582313699b9034c07fd5fd">clear_subbed_bars</a> ()</td></tr>
<tr class="memdesc:a84f718b47f582313699b9034c07fd5fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">清除所有K线数据订阅  <br /></td></tr>
<tr class="separator:a84f718b47f582313699b9034c07fd5fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a002cbe20b6c91df494a80157ebd2d079" id="r_a002cbe20b6c91df494a80157ebd2d079"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDataManager.html#a002cbe20b6c91df494a80157ebd2d079">update_bars</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, <a class="el" href="classWTSTickData.html">WTSTickData</a> *newTick)</td></tr>
<tr class="memdesc:a002cbe20b6c91df494a80157ebd2d079"><td class="mdescLeft">&#160;</td><td class="mdescRight">更新K线数据  <br /></td></tr>
<tr class="separator:a002cbe20b6c91df494a80157ebd2d079"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3985016e7f391237d62aa2165e4211ff" id="r_a3985016e7f391237d62aa2165e4211ff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDataManager.html#a3985016e7f391237d62aa2165e4211ff">clear_cache</a> ()</td></tr>
<tr class="memdesc:a3985016e7f391237d62aa2165e4211ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">清除所有数据缓存  <br /></td></tr>
<tr class="separator:a3985016e7f391237d62aa2165e4211ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-types" name="pri-types"></a>
Private 类型</h2></td></tr>
<tr class="memitem:a0367974813163e71d0aca4f47ecd42cc" id="r_a0367974813163e71d0aca4f47ecd42cc"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structWtDataManager_1_1__BarCache.html">WtDataManager::_BarCache</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDataManager.html#a0367974813163e71d0aca4f47ecd42cc">BarCache</a></td></tr>
<tr class="memdesc:a0367974813163e71d0aca4f47ecd42cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">K线缓存结构体  <br /></td></tr>
<tr class="separator:a0367974813163e71d0aca4f47ecd42cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87de30186cb32861d62d77c18166bec5" id="r_a87de30186cb32861d62d77c18166bec5"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classwt__hashmap.html">wt_hashmap</a>&lt; std::string, <a class="el" href="classWtDataManager.html#a0367974813163e71d0aca4f47ecd42cc">BarCache</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDataManager.html#a87de30186cb32861d62d77c18166bec5">BarCacheMap</a></td></tr>
<tr class="memdesc:a87de30186cb32861d62d77c18166bec5"><td class="mdescLeft">&#160;</td><td class="mdescRight">K线缓存映射类型，键为合约代码，值为K线缓存  <br /></td></tr>
<tr class="separator:a87de30186cb32861d62d77c18166bec5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba03147440b713232d22c64811be11b4" id="r_aba03147440b713232d22c64811be11b4"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classWTSHashMap.html">WTSHashMap</a>&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDataManager.html#aba03147440b713232d22c64811be11b4">RtBarMap</a></td></tr>
<tr class="memdesc:aba03147440b713232d22c64811be11b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">实时K线映射类型，用于存储实时生成的K线数据  <br /></td></tr>
<tr class="separator:aba03147440b713232d22c64811be11b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private 成员函数</h2></td></tr>
<tr class="memitem:ace6797e993c898d896d1ba928275cfe3" id="r_ace6797e993c898d896d1ba928275cfe3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDataManager.html#ace6797e993c898d896d1ba928275cfe3">initStore</a> (<a class="el" href="classWTSVariant.html">WTSVariant</a> *cfg)</td></tr>
<tr class="memdesc:ace6797e993c898d896d1ba928275cfe3"><td class="mdescLeft">&#160;</td><td class="mdescRight">初始化数据存储  <br /></td></tr>
<tr class="separator:ace6797e993c898d896d1ba928275cfe3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf90d5109d4a84f1d782863798609e22" id="r_acf90d5109d4a84f1d782863798609e22"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classWTSSessionInfo.html">WTSSessionInfo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDataManager.html#acf90d5109d4a84f1d782863798609e22">get_session_info</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *sid, bool isCode=false)</td></tr>
<tr class="memdesc:acf90d5109d4a84f1d782863798609e22"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取交易时段信息  <br /></td></tr>
<tr class="separator:acf90d5109d4a84f1d782863798609e22"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private 属性</h2></td></tr>
<tr class="memitem:abeded85b3e775cbe67ea1cd758f758d2" id="r_abeded85b3e775cbe67ea1cd758f758d2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classIRdmDtReader.html">IRdmDtReader</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDataManager.html#abeded85b3e775cbe67ea1cd758f758d2">_reader</a></td></tr>
<tr class="memdesc:abeded85b3e775cbe67ea1cd758f758d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">数据读取器指针，用于从存储中读取数据  <br /></td></tr>
<tr class="separator:abeded85b3e775cbe67ea1cd758f758d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a4a0036307ba48bb676c4f28b953dea" id="r_a6a4a0036307ba48bb676c4f28b953dea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="IRdmDtReader_8h.html#a507064b7cecd214134decebdea782752">FuncDeleteRdmDtReader</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDataManager.html#a6a4a0036307ba48bb676c4f28b953dea">_remover</a></td></tr>
<tr class="memdesc:a6a4a0036307ba48bb676c4f28b953dea"><td class="mdescLeft">&#160;</td><td class="mdescRight">数据读取器删除函数，用于释放读取器资源  <br /></td></tr>
<tr class="separator:a6a4a0036307ba48bb676c4f28b953dea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf78bc3d290b8aece428fb0f7630afd5" id="r_acf78bc3d290b8aece428fb0f7630afd5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classIBaseDataMgr.html">IBaseDataMgr</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDataManager.html#acf78bc3d290b8aece428fb0f7630afd5">_bd_mgr</a></td></tr>
<tr class="memdesc:acf78bc3d290b8aece428fb0f7630afd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">基础数据管理器指针，管理合约、交易时段等基础数据  <br /></td></tr>
<tr class="separator:acf78bc3d290b8aece428fb0f7630afd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec7fd17922e591e1b7422754c4f81bcf" id="r_aec7fd17922e591e1b7422754c4f81bcf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classIHotMgr.html">IHotMgr</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDataManager.html#aec7fd17922e591e1b7422754c4f81bcf">_hot_mgr</a></td></tr>
<tr class="memdesc:aec7fd17922e591e1b7422754c4f81bcf"><td class="mdescLeft">&#160;</td><td class="mdescRight">主力合约管理器指针，管理主力合约切换规则  <br /></td></tr>
<tr class="separator:aec7fd17922e591e1b7422754c4f81bcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10cfa0a793c3a9b3c04377ee67f583e2" id="r_a10cfa0a793c3a9b3c04377ee67f583e2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classWtDtRunner.html">WtDtRunner</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDataManager.html#a10cfa0a793c3a9b3c04377ee67f583e2">_runner</a></td></tr>
<tr class="memdesc:a10cfa0a793c3a9b3c04377ee67f583e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">数据服务运行器指针，用于回调数据更新  <br /></td></tr>
<tr class="separator:a10cfa0a793c3a9b3c04377ee67f583e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae354f74795d960f89933932d92ccd724" id="r_ae354f74795d960f89933932d92ccd724"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDataManager.html#ae354f74795d960f89933932d92ccd724">_align_by_section</a></td></tr>
<tr class="memdesc:ae354f74795d960f89933932d92ccd724"><td class="mdescLeft">&#160;</td><td class="mdescRight">是否按交易时段对齐数据，当为true时会根据交易时段对数据进行对齐  <br /></td></tr>
<tr class="separator:ae354f74795d960f89933932d92ccd724"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed8a2ada914d71f5bae8bbd0fc324beb" id="r_aed8a2ada914d71f5bae8bbd0fc324beb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classWtDataManager.html#a87de30186cb32861d62d77c18166bec5">BarCacheMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDataManager.html#aed8a2ada914d71f5bae8bbd0fc324beb">_bars_cache</a></td></tr>
<tr class="memdesc:aed8a2ada914d71f5bae8bbd0fc324beb"><td class="mdescLeft">&#160;</td><td class="mdescRight">K线缓存映射，存储所有合约的K线缓存  <br /></td></tr>
<tr class="separator:aed8a2ada914d71f5bae8bbd0fc324beb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fb774ba17cc1aeb9e86d87f6fed6e87" id="r_a7fb774ba17cc1aeb9e86d87f6fed6e87"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classWtDataManager.html#aba03147440b713232d22c64811be11b4">RtBarMap</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDataManager.html#a7fb774ba17cc1aeb9e86d87f6fed6e87">_rt_bars</a></td></tr>
<tr class="memdesc:a7fb774ba17cc1aeb9e86d87f6fed6e87"><td class="mdescLeft">&#160;</td><td class="mdescRight">实时K线映射，存储实时生成的K线数据  <br /></td></tr>
<tr class="separator:a7fb774ba17cc1aeb9e86d87f6fed6e87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b6551bb67162d06d9cece5970ac2ffa" id="r_a9b6551bb67162d06d9cece5970ac2ffa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MutexUtils.html#gaff888cdcc14f5ebb7a1a9c9f7b52846f">StdUniqueMutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDataManager.html#a9b6551bb67162d06d9cece5970ac2ffa">_mtx_rtbars</a></td></tr>
<tr class="memdesc:a9b6551bb67162d06d9cece5970ac2ffa"><td class="mdescLeft">&#160;</td><td class="mdescRight">实时K线数据的互斥锁，保证线程安全  <br /></td></tr>
<tr class="separator:a9b6551bb67162d06d9cece5970ac2ffa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<div class="textblock"><p>数据管理器类 </p>
<p>WtDataManager类是WonderTrader的数据管理核心类，实现了IRdmDtReaderSink接口。 该类负责：</p><ol type="1">
<li>数据存储和读取的初始化</li>
<li>提供各种方式的数据获取接口（按日期、按时间范围、按数量）</li>
<li>管理数据缓存和订阅</li>
<li>处理实时数据更新</li>
<li>提供复权因子计算 </li>
</ol>

<p class="definition">在文件 <a class="el" href="WtDataManager_8h_source.html">WtDataManager.h</a> 第 <a class="el" href="WtDataManager_8h_source.html#l00052">52</a> 行定义.</p>
</div><h2 class="groupheader">成员类型定义说明</h2>
<a id="a0367974813163e71d0aca4f47ecd42cc" name="a0367974813163e71d0aca4f47ecd42cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0367974813163e71d0aca4f47ecd42cc">&#9670;&#160;</a></span>BarCache</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structWtDataManager_1_1__BarCache.html">WtDataManager::_BarCache</a> <a class="el" href="classWtDataManager.html#a0367974813163e71d0aca4f47ecd42cc">WtDataManager::BarCache</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>K线缓存结构体 </p>
<p>用于存储缓存的K线数据及相关信息 </p>

</div>
</div>
<a id="a87de30186cb32861d62d77c18166bec5" name="a87de30186cb32861d62d77c18166bec5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87de30186cb32861d62d77c18166bec5">&#9670;&#160;</a></span>BarCacheMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classwt__hashmap.html">wt_hashmap</a>&lt;std::string, <a class="el" href="classWtDataManager.html#a0367974813163e71d0aca4f47ecd42cc">BarCache</a>&gt; <a class="el" href="classWtDataManager.html#a87de30186cb32861d62d77c18166bec5">WtDataManager::BarCacheMap</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>K线缓存映射类型，键为合约代码，值为K线缓存 </p>

<p class="definition">在文件 <a class="el" href="WtDataManager_8h_source.html">WtDataManager.h</a> 第 <a class="el" href="WtDataManager_8h_source.html#l00321">321</a> 行定义.</p>

</div>
</div>
<a id="aba03147440b713232d22c64811be11b4" name="aba03147440b713232d22c64811be11b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba03147440b713232d22c64811be11b4">&#9670;&#160;</a></span>RtBarMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classWTSHashMap.html">WTSHashMap</a>&lt;std::string&gt; <a class="el" href="classWtDataManager.html#aba03147440b713232d22c64811be11b4">WtDataManager::RtBarMap</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>实时K线映射类型，用于存储实时生成的K线数据 </p>

<p class="definition">在文件 <a class="el" href="WtDataManager_8h_source.html">WtDataManager.h</a> 第 <a class="el" href="WtDataManager_8h_source.html#l00326">326</a> 行定义.</p>

</div>
</div>
<h2 class="groupheader">构造及析构函数说明</h2>
<a id="a35c29a55b176944d004bd5e1065e9c69" name="a35c29a55b176944d004bd5e1065e9c69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35c29a55b176944d004bd5e1065e9c69">&#9670;&#160;</a></span>WtDataManager()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WtDataManager::WtDataManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>构造函数 </p>
<p>初始化数据管理器对象，初始化内部成员变量</p>
<p>初始化数据管理器对象，将所有指针成员变量初始化为NULL 包括基础数据管理器、主力合约管理器、运行器、数据读取器和实时K线映射 </p>

<p class="definition">在文件 <a class="el" href="WtDataManager_8cpp_source.html">WtDataManager.cpp</a> 第 <a class="el" href="WtDataManager_8cpp_source.html#l00042">42</a> 行定义.</p>

</div>
</div>
<a id="a708376ee7435759b5ba1f22cc07cc497" name="a708376ee7435759b5ba1f22cc07cc497"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a708376ee7435759b5ba1f22cc07cc497">&#9670;&#160;</a></span>~WtDataManager()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WtDataManager::~WtDataManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>析构函数 </p>
<p>清理数据管理器对象的资源，释放内存</p>
<p>清理数据管理器对象的资源，释放内存 遍历K线缓存映射，释放每个K线数据对象的内存，然后清空缓存映射 </p>

<p class="definition">在文件 <a class="el" href="WtDataManager_8cpp_source.html">WtDataManager.cpp</a> 第 <a class="el" href="WtDataManager_8cpp_source.html#l00058">58</a> 行定义.</p>

</div>
</div>
<h2 class="groupheader">成员函数说明</h2>
<a id="a3985016e7f391237d62aa2165e4211ff" name="a3985016e7f391237d62aa2165e4211ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3985016e7f391237d62aa2165e4211ff">&#9670;&#160;</a></span>clear_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WtDataManager::clear_cache </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>清除所有数据缓存 </p>
<p>清除数据管理器中的所有数据缓存，包括K线缓存和实时数据缓存。 该方法通常在重置系统状态或释放内存时调用。</p>
<p>清除数据读取器中的所有数据缓存。 该方法的处理逻辑如下：</p><ol type="1">
<li>首先检查数据读取器是否已初始化，如果未初始化则输出警告并返回</li>
<li>调用数据读取器的clearCache方法清除所有缓存</li>
<li>输出日志提示缓存已清除</li>
</ol>
<p>该方法通常用于释放内存或重置系统状态，例如在系统重启或数据更新后调用。 </p>

<p class="definition">在文件 <a class="el" href="WtDataManager_8cpp_source.html">WtDataManager.cpp</a> 第 <a class="el" href="WtDataManager_8cpp_source.html#l00869">869</a> 行定义.</p>

</div>
</div>
<a id="a84f718b47f582313699b9034c07fd5fd" name="a84f718b47f582313699b9034c07fd5fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84f718b47f582313699b9034c07fd5fd">&#9670;&#160;</a></span>clear_subbed_bars()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WtDataManager::clear_subbed_bars </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>清除所有K线数据订阅 </p>
<p>清除所有已订阅的K线数据。该方法通常在重新订阅或重置系统状态时调用。</p>
<p>清除实时K线映射中的所有数据，取消所有K线数据的订阅。 该方法会先获取实时K线映射的互斥锁，然后清除所有数据。 该方法通常在重新订阅或重置系统状态时调用。 </p>

<p class="definition">在文件 <a class="el" href="WtDataManager_8cpp_source.html">WtDataManager.cpp</a> 第 <a class="el" href="WtDataManager_8cpp_source.html#l00795">795</a> 行定义.</p>

</div>
</div>
<a id="aca59ae9638b39940f7eea0fd93cb578a" name="aca59ae9638b39940f7eea0fd93cb578a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca59ae9638b39940f7eea0fd93cb578a">&#9670;&#160;</a></span>get_basedata_mgr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classIBaseDataMgr.html">IBaseDataMgr</a> * WtDataManager::get_basedata_mgr </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>实现了 <a class="el" href="classIRdmDtReaderSink.html#a1dec12253405f5271cd0e09956c8144c">IRdmDtReaderSink</a>.</p>

<p class="definition">在文件 <a class="el" href="WtDataManager_8h_source.html">WtDataManager.h</a> 第 <a class="el" href="WtDataManager_8h_source.html#l00095">95</a> 行定义.</p>

</div>
</div>
<a id="ad8fe9680101999a65667e3db546f6c85" name="ad8fe9680101999a65667e3db546f6c85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8fe9680101999a65667e3db546f6c85">&#9670;&#160;</a></span>get_exright_factor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double WtDataManager::get_exright_factor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classWTSCommodityInfo.html">WTSCommodityInfo</a> *&#160;</td>
          <td class="paramname"><em>commInfo</em> = <code><a class="el" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>获取复权因子 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">commInfo</td><td>品种信息对象指针，默认为NULL </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>复权因子，默认为1.0（不复权）</dd></dl>
<p>根据合约代码和品种信息获取复权因子。 如果品种信息为NULL，直接返回1.0（不复权）。 如果是股票，从数据读取器中获取除权因子。 如果是期货，且是主力合约，从主力合约管理器中获取规则因子。 复权因子用于调整历史数据，使其与当前数据可比。 </p>

<p class="definition">在文件 <a class="el" href="WtDataManager_8cpp_source.html">WtDataManager.cpp</a> 第 <a class="el" href="WtDataManager_8cpp_source.html#l00703">703</a> 行定义.</p>

</div>
</div>
<a id="a208b21c2d0fb98bc837b8cfb66702b89" name="a208b21c2d0fb98bc837b8cfb66702b89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a208b21c2d0fb98bc837b8cfb66702b89">&#9670;&#160;</a></span>get_hot_mgr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classIHotMgr.html">IHotMgr</a> * WtDataManager::get_hot_mgr </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>实现了 <a class="el" href="classIRdmDtReaderSink.html#a5262811a4086a445037e480ad7e9f30a">IRdmDtReaderSink</a>.</p>

<p class="definition">在文件 <a class="el" href="WtDataManager_8h_source.html">WtDataManager.h</a> 第 <a class="el" href="WtDataManager_8h_source.html#l00100">100</a> 行定义.</p>

</div>
</div>
<a id="a99a0335324f38bed4ed71b889ed6daa9" name="a99a0335324f38bed4ed71b889ed6daa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99a0335324f38bed4ed71b889ed6daa9">&#9670;&#160;</a></span>get_kline_slice_by_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWTSKlineSlice.html">WTSKlineSlice</a> * WtDataManager::get_kline_slice_by_count </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="WTSTypes_8h.html#a27f5d8bd7208a5fc1d044c6f5961904c">WTSKlinePeriod</a>&#160;</td>
          <td class="paramname"><em>period</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>times</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>etime</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>根据数量获取K线数据切片 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">period</td><td>K线周期类型（分钟、日线等） </td></tr>
    <tr><td class="paramname">times</td><td>周期倍数，如当5分钟线时为5 </td></tr>
    <tr><td class="paramname">count</td><td>要获取的K线数量 </td></tr>
    <tr><td class="paramname">etime</td><td>结束时间，格式为YYYYMMDDHHMMSS，默认为0（表示当前时间） </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>K线数据切片指针</dd></dl>
<p>获取指定数量的K线数据。如果结束时间为0，则使用当前时间作为结束时间。 返回的数据是从结束时间往前数的count条数据。 返回的数据切片需要用户调用release方法释放内存</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">period</td><td>K线周期类型（分钟、日线等） </td></tr>
    <tr><td class="paramname">times</td><td>周期倍数，如当5分钟线时为5 </td></tr>
    <tr><td class="paramname">count</td><td>要获取的K线数量 </td></tr>
    <tr><td class="paramname">etime</td><td>结束时间，格式为YYYYMMDDHHMMSS，默认为0（表示当前时间） </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>K线数据切片指针</dd></dl>
<p>根据数量获取指定合约的K线数据切片。 该方法的处理逻辑与get_kline_slice_by_range类似，不同之处在于：</p><ol type="1">
<li>对于基础周期（times=1），直接从数据读取器中读取指定数量的数据</li>
<li>对于非基础周期，需要先读取足够的基础周期数据，然后进行重采样</li>
<li>根据结束时间和请求的数量，从重采样后的数据中提取相应的数据切片</li>
</ol>
<p>返回的数据是从结束时间往前数的count条数据。 返回的数据切片需要用户调用release方法释放内存。 </p>

<p class="definition">在文件 <a class="el" href="WtDataManager_8cpp_source.html">WtDataManager.cpp</a> 第 <a class="el" href="WtDataManager_8cpp_source.html#l00526">526</a> 行定义.</p>

</div>
</div>
<a id="a9f763a499fc222a5181d8d4e9882a857" name="a9f763a499fc222a5181d8d4e9882a857"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f763a499fc222a5181d8d4e9882a857">&#9670;&#160;</a></span>get_kline_slice_by_date()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWTSKlineSlice.html">WTSKlineSlice</a> * WtDataManager::get_kline_slice_by_date </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="WTSTypes_8h.html#a27f5d8bd7208a5fc1d044c6f5961904c">WTSKlinePeriod</a>&#160;</td>
          <td class="paramname"><em>period</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>times</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>uDate</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>根据日期获取K线数据切片 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">period</td><td>K线周期类型（分钟、日线等） </td></tr>
    <tr><td class="paramname">times</td><td>周期倍数，如当5分钟线时为5 </td></tr>
    <tr><td class="paramname">uDate</td><td>交易日期，格式为YYYYMMDD，默认为0（表示当前日期） </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>K线数据切片指针</dd></dl>
<p>获取指定日期的K线数据。如果日期为0，则使用当前日期。 返回的数据切片需要用户调用release方法释放内存</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">period</td><td>K线周期类型（分钟、日线等） </td></tr>
    <tr><td class="paramname">times</td><td>周期倍数，如当5分钟线时为5 </td></tr>
    <tr><td class="paramname">uDate</td><td>交易日期，格式为YYYYMMDD，默认为0（表示当前日期） </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>K线数据切片指针</dd></dl>
<p>根据日期获取指定合约的K线数据切片。 该方法的工作流程如下：</p><ol type="1">
<li>解析合约代码，获取标准化的品种ID</li>
<li>根据品种ID和日期获取交易时段的边界时间（开始时间和结束时间）</li>
<li>调用get_kline_slice_by_range方法获取指定时间范围内的K线数据</li>
</ol>
<p>这个方法实际上是将按日期获取转换为按时间范围获取，因为内部存储是基于时间范围的。 返回的数据切片需要用户调用release方法释放内存。 </p>

<p class="definition">在文件 <a class="el" href="WtDataManager_8cpp_source.html">WtDataManager.cpp</a> 第 <a class="el" href="WtDataManager_8cpp_source.html#l00343">343</a> 行定义.</p>

</div>
</div>
<a id="a585a88042cfd201c55eb9adf9bb0d8b9" name="a585a88042cfd201c55eb9adf9bb0d8b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a585a88042cfd201c55eb9adf9bb0d8b9">&#9670;&#160;</a></span>get_kline_slice_by_range()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWTSKlineSlice.html">WTSKlineSlice</a> * WtDataManager::get_kline_slice_by_range </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="WTSTypes_8h.html#a27f5d8bd7208a5fc1d044c6f5961904c">WTSKlinePeriod</a>&#160;</td>
          <td class="paramname"><em>period</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>times</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>stime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>etime</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>根据时间范围获取K线数据切片 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">period</td><td>K线周期类型（分钟、日线等） </td></tr>
    <tr><td class="paramname">times</td><td>周期倍数，如当5分钟线时为5 </td></tr>
    <tr><td class="paramname">stime</td><td>开始时间，格式为YYYYMMDDHHMMSS </td></tr>
    <tr><td class="paramname">etime</td><td>结束时间，格式为YYYYMMDDHHMMSS，默认为0（表示当前时间） </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>K线数据切片指针</dd></dl>
<p>获取指定时间范围内的K线数据。如果结束时间为0，则使用当前时间作为结束时间。 返回的数据切片需要用户调用release方法释放内存</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">period</td><td>K线周期类型（分钟、日线等） </td></tr>
    <tr><td class="paramname">times</td><td>周期倍数，如当5分钟线时为5 </td></tr>
    <tr><td class="paramname">stime</td><td>开始时间，格式为YYYYMMDDHHMMSS </td></tr>
    <tr><td class="paramname">etime</td><td>结束时间，格式为YYYYMMDDHHMMSS，默认为0（表示当前时间） </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>K线数据切片指针</dd></dl>
<p>根据时间范围获取指定合约的K线数据切片。 该方法的处理逻辑如下：</p><ol type="1">
<li>如果周期倍数为1（基础周期），直接从数据读取器中读取数据</li>
<li>如果周期倍数大于1（非基础周期），需要先读取基础周期数据，然后进行重采样</li>
<li>对于非基础周期，会先检查缓存中是否已有数据，如果有，则直接使用缓存数据</li>
<li>如果缓存中没有数据，则从数据读取器中读取基础周期数据，并进行重采样</li>
<li>根据请求的时间范围，从重采样后的数据中提取相应的数据切片</li>
</ol>
<p>返回的数据切片需要用户调用release方法释放内存。 </p>

<p class="definition">在文件 <a class="el" href="WtDataManager_8cpp_source.html">WtDataManager.cpp</a> 第 <a class="el" href="WtDataManager_8cpp_source.html#l00370">370</a> 行定义.</p>

</div>
</div>
<a id="a0742560a4f0c77828ace41ec4f3a6af6" name="a0742560a4f0c77828ace41ec4f3a6af6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0742560a4f0c77828ace41ec4f3a6af6">&#9670;&#160;</a></span>get_order_detail_slice()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWTSOrdDtlSlice.html">WTSOrdDtlSlice</a> * WtDataManager::get_order_detail_slice </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>stime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>etime</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>获取订单明细数据切片 </p>
<p>根据时间范围获取订单明细数据切片</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">stime</td><td>开始时间，格式为YYYYMMDDHHMMSS </td></tr>
    <tr><td class="paramname">etime</td><td>结束时间，格式为YYYYMMDDHHMMSS，默认为0（表示当前时间） </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>订单明细数据切片指针</dd></dl>
<p>根据时间范围获取指定合约的订单明细数据 返回的数据切片需要用户调用release方法释放内存</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">stime</td><td>开始时间，格式为YYYYMMDDHHMMSS </td></tr>
    <tr><td class="paramname">etime</td><td>结束时间，格式为YYYYMMDDHHMMSS，默认为0（表示当前时间） </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>订单明细数据切片指针</dd></dl>
<p>根据时间范围获取指定合约的订单明细数据切片。 时间参数需要进行转换（乘以100000），以适应内部数据存储格式。 返回的数据切片需要用户调用release方法释放内存。 </p>

<p class="definition">在文件 <a class="el" href="WtDataManager_8cpp_source.html">WtDataManager.cpp</a> 第 <a class="el" href="WtDataManager_8cpp_source.html#l00226">226</a> 行定义.</p>

</div>
</div>
<a id="a3685ef755be72a504c460e3b4720de84" name="a3685ef755be72a504c460e3b4720de84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3685ef755be72a504c460e3b4720de84">&#9670;&#160;</a></span>get_order_queue_slice()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWTSOrdQueSlice.html">WTSOrdQueSlice</a> * WtDataManager::get_order_queue_slice </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>stime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>etime</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>获取订单队列数据切片 </p>
<p>根据时间范围获取订单队列数据切片</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">stime</td><td>开始时间，格式为YYYYMMDDHHMMSS </td></tr>
    <tr><td class="paramname">etime</td><td>结束时间，格式为YYYYMMDDHHMMSS，默认为0（表示当前时间） </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>订单队列数据切片指针</dd></dl>
<p>根据时间范围获取指定合约的订单队列数据 返回的数据切片需要用户调用release方法释放内存</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">stime</td><td>开始时间，格式为YYYYMMDDHHMMSS </td></tr>
    <tr><td class="paramname">etime</td><td>结束时间，格式为YYYYMMDDHHMMSS，默认为0（表示当前时间） </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>订单队列数据切片指针</dd></dl>
<p>根据时间范围获取指定合约的订单队列数据切片。 时间参数需要进行转换（乘以100000），以适应内部数据存储格式。 返回的数据切片需要用户调用release方法释放内存。 </p>

<p class="definition">在文件 <a class="el" href="WtDataManager_8cpp_source.html">WtDataManager.cpp</a> 第 <a class="el" href="WtDataManager_8cpp_source.html#l00208">208</a> 行定义.</p>

</div>
</div>
<a id="acf90d5109d4a84f1d782863798609e22" name="acf90d5109d4a84f1d782863798609e22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf90d5109d4a84f1d782863798609e22">&#9670;&#160;</a></span>get_session_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWTSSessionInfo.html">WTSSessionInfo</a> * WtDataManager::get_session_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>sid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isCode</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取交易时段信息 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">sid</td><td>交易时段ID或合约代码 </td></tr>
    <tr><td class="paramname">isCode</td><td>是否为合约代码，默认为false </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>交易时段信息对象指针</dd></dl>
<p>根据时段ID或合约代码获取交易时段信息。如果isCode为true，则sid被视为合约代码，需要先获取对应的时段ID</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">sid</td><td>交易时段ID或合约代码 </td></tr>
    <tr><td class="paramname">isCode</td><td>是否为合约代码，默认为false </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>交易时段信息对象指针</dd></dl>
<p>根据时段ID或合约代码获取交易时段信息。 如果isCode为false，直接从基础数据管理器中获取时段信息。 如果isCode为true，则需要先解析合约代码，获取其对应的品种信息，然后再获取时段信息。 该方法在生成K线数据和对齐数据时非常有用。 </p>

<p class="definition">在文件 <a class="el" href="WtDataManager_8cpp_source.html">WtDataManager.cpp</a> 第 <a class="el" href="WtDataManager_8cpp_source.html#l00262">262</a> 行定义.</p>

</div>
</div>
<a id="ae82860283dc4e93aad1aaa2c202421f5" name="ae82860283dc4e93aad1aaa2c202421f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae82860283dc4e93aad1aaa2c202421f5">&#9670;&#160;</a></span>get_skline_slice_by_date()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWTSKlineSlice.html">WTSKlineSlice</a> * WtDataManager::get_skline_slice_by_date </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>secs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>uDate</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>根据日期获取秒线数据切片 </p>
<p>根据日期获取秒线K线数据切片</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">secs</td><td>秒线周期，单位为秒 </td></tr>
    <tr><td class="paramname">uDate</td><td>交易日期，格式为YYYYMMDD，默认为0（表示当前日期） </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>秒线K线数据切片指针</dd></dl>
<p>获取指定日期的秒线数据。如果日期为0，则使用当前日期。 返回的数据切片需要用户调用release方法释放内存</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">secs</td><td>秒线周期，单位为秒 </td></tr>
    <tr><td class="paramname">uDate</td><td>交易日期，格式为YYYYMMDD，默认为0（表示当前日期） </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>秒线K线数据切片指针</dd></dl>
<p>根据日期获取指定合约的秒线K线数据切片。 该方法的工作流程如下：</p><ol type="1">
<li>根据合约代码、日期和秒线周期生成缓存键</li>
<li>获取合约的交易时段信息</li>
<li>检查缓存中是否已有数据，如果没有，则从存储中读取Tick数据并生成秒线K线</li>
<li>创建并返回K线数据切片</li>
</ol>
<p>秒线K线是从原始Tick数据生成的，而不是直接从存储中读取。 生成的数据会缓存在内存中，以便于后续快速访问。 返回的数据切片需要用户调用release方法释放内存。 </p>

<p class="definition">在文件 <a class="el" href="WtDataManager_8cpp_source.html">WtDataManager.cpp</a> 第 <a class="el" href="WtDataManager_8cpp_source.html#l00293">293</a> 行定义.</p>

</div>
</div>
<a id="ae036883f643d17eea15211b4d752e616" name="ae036883f643d17eea15211b4d752e616"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae036883f643d17eea15211b4d752e616">&#9670;&#160;</a></span>get_tick_slice_by_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWTSTickSlice.html">WTSTickSlice</a> * WtDataManager::get_tick_slice_by_count </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>etime</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>根据数量获取Tick数据切片 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">count</td><td>要获取的Tick数量 </td></tr>
    <tr><td class="paramname">etime</td><td>结束时间，格式为YYYYMMDDHHMMSS，默认为0（表示当前时间） </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>Tick数据切片指针</dd></dl>
<p>获取指定数量的Tick数据。如果结束时间为0，则使用当前时间作为结束时间。 返回的数据是从结束时间往前数的count条数据。 返回的数据切片需要用户调用release方法释放内存</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">count</td><td>要获取的Tick数量 </td></tr>
    <tr><td class="paramname">etime</td><td>结束时间，格式为YYYYMMDDHHMMSS，默认为0（表示当前时间） </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>Tick数据切片指针</dd></dl>
<p>根据数量获取指定合约的Tick数据切片。 时间参数需要进行转换（乘以100000），以适应内部数据存储格式。 返回的数据是从结束时间往前数的count条数据。 返回的数据切片需要用户调用release方法释放内存。 </p>

<p class="definition">在文件 <a class="el" href="WtDataManager_8cpp_source.html">WtDataManager.cpp</a> 第 <a class="el" href="WtDataManager_8cpp_source.html#l00685">685</a> 行定义.</p>

</div>
</div>
<a id="a6a910ccc5d4768b7e57870eb54d32c69" name="a6a910ccc5d4768b7e57870eb54d32c69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a910ccc5d4768b7e57870eb54d32c69">&#9670;&#160;</a></span>get_tick_slice_by_date()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWTSTickSlice.html">WTSTickSlice</a> * WtDataManager::get_tick_slice_by_date </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>uDate</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>根据日期获取Tick数据切片 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">uDate</td><td>交易日期，格式为YYYYMMDD，默认为0（表示当前日期） </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>Tick数据切片指针</dd></dl>
<p>获取指定日期的Tick数据。如果日期为0，则使用当前日期。 返回的数据切片需要用户调用release方法释放内存</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">uDate</td><td>交易日期，格式为YYYYMMDD，默认为0（表示当前日期） </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>Tick数据切片指针</dd></dl>
<p>根据日期获取指定合约的Tick数据切片。 如果日期为0，则使用当前日期。 返回的数据切片需要用户调用release方法释放内存。 </p>

<p class="definition">在文件 <a class="el" href="WtDataManager_8cpp_source.html">WtDataManager.cpp</a> 第 <a class="el" href="WtDataManager_8cpp_source.html#l00192">192</a> 行定义.</p>

</div>
</div>
<a id="a50e99d82bc0293aa5883bc4f25870402" name="a50e99d82bc0293aa5883bc4f25870402"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50e99d82bc0293aa5883bc4f25870402">&#9670;&#160;</a></span>get_tick_slices_by_range()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWTSTickSlice.html">WTSTickSlice</a> * WtDataManager::get_tick_slices_by_range </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>stime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>etime</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>根据时间范围获取Tick数据切片 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">stime</td><td>开始时间，格式为YYYYMMDDHHMMSS </td></tr>
    <tr><td class="paramname">etime</td><td>结束时间，格式为YYYYMMDDHHMMSS，默认为0（表示当前时间） </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>Tick数据切片指针</dd></dl>
<p>获取指定时间范围内的Tick数据。如果结束时间为0，则使用当前时间作为结束时间。 返回的数据切片需要用户调用release方法释放内存</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">stime</td><td>开始时间，格式为YYYYMMDDHHMMSS </td></tr>
    <tr><td class="paramname">etime</td><td>结束时间，格式为YYYYMMDDHHMMSS，默认为0（表示当前时间） </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>Tick数据切片指针</dd></dl>
<p>根据时间范围获取指定合约的Tick数据切片。 时间参数需要进行转换（乘以100000），以适应内部数据存储格式。 返回的数据切片需要用户调用release方法释放内存。 </p>

<p class="definition">在文件 <a class="el" href="WtDataManager_8cpp_source.html">WtDataManager.cpp</a> 第 <a class="el" href="WtDataManager_8cpp_source.html#l00175">175</a> 行定义.</p>

</div>
</div>
<a id="a7ad189d9d2f775978e558c5b5dc7cbad" name="a7ad189d9d2f775978e558c5b5dc7cbad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ad189d9d2f775978e558c5b5dc7cbad">&#9670;&#160;</a></span>get_transaction_slice()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWTSTransSlice.html">WTSTransSlice</a> * WtDataManager::get_transaction_slice </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>stime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>etime</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>获取成交明细数据切片 </p>
<p>根据时间范围获取成交明细数据切片</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">stime</td><td>开始时间，格式为YYYYMMDDHHMMSS </td></tr>
    <tr><td class="paramname">etime</td><td>结束时间，格式为YYYYMMDDHHMMSS，默认为0（表示当前时间） </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>成交明细数据切片指针</dd></dl>
<p>根据时间范围获取指定合约的成交明细数据 返回的数据切片需要用户调用release方法释放内存</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">stime</td><td>开始时间，格式为YYYYMMDDHHMMSS </td></tr>
    <tr><td class="paramname">etime</td><td>结束时间，格式为YYYYMMDDHHMMSS，默认为0（表示当前时间） </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>成交明细数据切片指针</dd></dl>
<p>根据时间范围获取指定合约的成交明细数据切片。 时间参数需要进行转换（乘以100000），以适应内部数据存储格式。 返回的数据切片需要用户调用release方法释放内存。 </p>

<p class="definition">在文件 <a class="el" href="WtDataManager_8cpp_source.html">WtDataManager.cpp</a> 第 <a class="el" href="WtDataManager_8cpp_source.html#l00244">244</a> 行定义.</p>

</div>
</div>
<a id="a0e0b9bc18bdd5220217407d6ec1f493a" name="a0e0b9bc18bdd5220217407d6ec1f493a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e0b9bc18bdd5220217407d6ec1f493a">&#9670;&#160;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool WtDataManager::init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classWTSVariant.html">WTSVariant</a> *&#160;</td>
          <td class="paramname"><em>cfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classWtDtRunner.html">WtDtRunner</a> *&#160;</td>
          <td class="paramname"><em>runner</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>初始化数据管理器 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">cfg</td><td>配置对象指针 </td></tr>
    <tr><td class="paramname">runner</td><td>数据服务运行器指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>初始化是否成功</dd></dl>
<p>根据配置初始化数据管理器，包括初始化数据存储、基础数据管理器、主力合约管理器等 该方法是数据管理器使用前必须调用的初始化方法</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">cfg</td><td>配置对象指针 </td></tr>
    <tr><td class="paramname">runner</td><td>数据服务运行器指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>初始化是否成功</dd></dl>
<p>初始化数据管理器，设置相关参数和引用。 步骤包括：</p><ol type="1">
<li>设置运行器引用</li>
<li>从运行器获取基础数据管理器和主力合约管理器</li>
<li>从配置中获取是否按交易时段对齐K线数据的设置</li>
<li>调用initStore初始化数据存储模块 </li>
</ol>

<p class="definition">在文件 <a class="el" href="WtDataManager_8cpp_source.html">WtDataManager.cpp</a> 第 <a class="el" href="WtDataManager_8cpp_source.html#l00135">135</a> 行定义.</p>

</div>
</div>
<a id="ace6797e993c898d896d1ba928275cfe3" name="ace6797e993c898d896d1ba928275cfe3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace6797e993c898d896d1ba928275cfe3">&#9670;&#160;</a></span>initStore()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool WtDataManager::initStore </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classWTSVariant.html">WTSVariant</a> *&#160;</td>
          <td class="paramname"><em>cfg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>初始化数据存储 </p>
<p>初始化数据存储模块</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">cfg</td><td>配置对象指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>初始化是否成功</dd></dl>
<p>根据配置初始化数据存储模块，包括设置数据路径、创建数据读取器等</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">cfg</td><td>存储模块配置对象指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>初始化是否成功</dd></dl>
<p>根据配置加载数据存储模块并初始化数据读取器。 步骤包括：</p><ol type="1">
<li>从配置中获取模块名称，默认为"WtDataStorage"</li>
<li>加载指定的模块动态库</li>
<li>获取创建和删除数据读取器的函数指针</li>
<li>创建数据读取器并初始化 </li>
</ol>

<p class="definition">在文件 <a class="el" href="WtDataManager_8cpp_source.html">WtDataManager.cpp</a> 第 <a class="el" href="WtDataManager_8cpp_source.html#l00080">80</a> 行定义.</p>

</div>
</div>
<a id="ae73ae17c4c1f1f429b83daf2abb4217f" name="ae73ae17c4c1f1f429b83daf2abb4217f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae73ae17c4c1f1f429b83daf2abb4217f">&#9670;&#160;</a></span>reader_log()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WtDataManager::reader_log </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="WTSTypes_8h.html#aa7b93f4aa2259e69e48f27448c247dc8">WTSLogLevel</a>&#160;</td>
          <td class="paramname"><em>ll</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>输出数据读取模块的日志 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">ll</td><td>日志级别 </td></tr>
    <tr><td class="paramname">message</td><td>日志消息</td></tr>
  </table>
  </dd>
</dl>
<p>实现IRdmDtReaderSink接口的reader_log方法，将数据读取模块的日志输出到日志系统。 该方法简单地将消息转发给WTSLogger的log_raw方法。 </p>

<p>实现了 <a class="el" href="classIRdmDtReaderSink.html#a6449f4552c96effd8cd580d70db8dc23">IRdmDtReaderSink</a>.</p>

<p class="definition">在文件 <a class="el" href="WtDataManager_8cpp_source.html">WtDataManager.cpp</a> 第 <a class="el" href="WtDataManager_8cpp_source.html#l00159">159</a> 行定义.</p>

</div>
</div>
<a id="ab4cf9c74e186a2f13f7cda7693aae628" name="ab4cf9c74e186a2f13f7cda7693aae628"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4cf9c74e186a2f13f7cda7693aae628">&#9670;&#160;</a></span>subscribe_bar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WtDataManager::subscribe_bar </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="WTSTypes_8h.html#a27f5d8bd7208a5fc1d044c6f5961904c">WTSKlinePeriod</a>&#160;</td>
          <td class="paramname"><em>period</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>times</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>订阅K线数据 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">period</td><td>K线周期类型（分钟、日线等） </td></tr>
    <tr><td class="paramname">times</td><td>周期倍数，如当5分钟线时为5</td></tr>
  </table>
  </dd>
</dl>
<p>订阅指定合约的K线数据。订阅后，当有新的Tick数据到来时，会自动生成并更新K线数据。 该方法通常由WtDtRunner的sub_bar方法调用。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">period</td><td>K线周期类型（分钟、日线等） </td></tr>
    <tr><td class="paramname">times</td><td>周期倍数，如当5分钟线时为5</td></tr>
  </table>
  </dd>
</dl>
<p>订阅指定合约的K线数据，并将数据缓存到内存中以便于实时更新。 该方法的处理逻辑如下：</p><ol type="1">
<li>根据合约代码、周期类型和周期倍数生成缓存键</li>
<li>如果是基础周期（times=1），直接从数据读取器中读取数据并缓存</li>
<li>如果是非基础周期，需要先读取基础周期数据，然后进行重采样生成目标周期数据</li>
<li>将生成的数据添加到实时K线映射中</li>
</ol>
<p>该方法通常由WtDtRunner的sub_bar方法调用。 </p>

<p class="definition">在文件 <a class="el" href="WtDataManager_8cpp_source.html">WtDataManager.cpp</a> 第 <a class="el" href="WtDataManager_8cpp_source.html#l00735">735</a> 行定义.</p>

</div>
</div>
<a id="a002cbe20b6c91df494a80157ebd2d079" name="a002cbe20b6c91df494a80157ebd2d079"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a002cbe20b6c91df494a80157ebd2d079">&#9670;&#160;</a></span>update_bars()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WtDataManager::update_bars </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classWTSTickData.html">WTSTickData</a> *&#160;</td>
          <td class="paramname"><em>newTick</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>更新K线数据 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">newTick</td><td>新的Tick数据指针</td></tr>
  </table>
  </dd>
</dl>
<p>根据新的Tick数据更新K线数据。该方法会根据已订阅的K线周期，自动生成或更新相应的K线数据。 如果生成了新的K线数据，还会触发相应的回调函数。 该方法通常由WtDtRunner的trigger_tick方法调用。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">newTick</td><td>新的Tick数据指针</td></tr>
  </table>
  </dd>
</dl>
<p>根据新的Tick数据更新已订阅的K线数据。 该方法的处理逻辑如下：</p><ol type="1">
<li>首先检查实时K线映射是否存在，如果不存在则直接返回</li>
<li>遍历实时K线映射中的所有条目，找到与当前合约代码匹配的K线数据</li>
<li>获取合约的交易时段信息，如果在Tick数据中有合约信息则使用，否则通过get_session_info获取</li>
<li>调用数据工厂的updateKlineData方法更新K线数据</li>
<li>根据K线周期类型和倍数生成周期字符串</li>
<li>调用运行器的trigger_bar方法触发K线数据回调</li>
</ol>
<p>该方法通常由WtDtRunner的proc_tick方法调用，用于实时更新K线数据。 </p>

<p class="definition">在文件 <a class="el" href="WtDataManager_8cpp_source.html">WtDataManager.cpp</a> 第 <a class="el" href="WtDataManager_8cpp_source.html#l00818">818</a> 行定义.</p>

</div>
</div>
<h2 class="groupheader">类成员变量说明</h2>
<a id="ae354f74795d960f89933932d92ccd724" name="ae354f74795d960f89933932d92ccd724"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae354f74795d960f89933932d92ccd724">&#9670;&#160;</a></span>_align_by_section</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool WtDataManager::_align_by_section</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>是否按交易时段对齐数据，当为true时会根据交易时段对数据进行对齐 </p>

<p class="definition">在文件 <a class="el" href="WtDataManager_8h_source.html">WtDataManager.h</a> 第 <a class="el" href="WtDataManager_8h_source.html#l00302">302</a> 行定义.</p>

</div>
</div>
<a id="aed8a2ada914d71f5bae8bbd0fc324beb" name="aed8a2ada914d71f5bae8bbd0fc324beb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed8a2ada914d71f5bae8bbd0fc324beb">&#9670;&#160;</a></span>_bars_cache</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWtDataManager.html#a87de30186cb32861d62d77c18166bec5">BarCacheMap</a> WtDataManager::_bars_cache</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>K线缓存映射，存储所有合约的K线缓存 </p>

<p class="definition">在文件 <a class="el" href="WtDataManager_8h_source.html">WtDataManager.h</a> 第 <a class="el" href="WtDataManager_8h_source.html#l00323">323</a> 行定义.</p>

</div>
</div>
<a id="acf78bc3d290b8aece428fb0f7630afd5" name="acf78bc3d290b8aece428fb0f7630afd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf78bc3d290b8aece428fb0f7630afd5">&#9670;&#160;</a></span>_bd_mgr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classIBaseDataMgr.html">IBaseDataMgr</a>* WtDataManager::_bd_mgr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>基础数据管理器指针，管理合约、交易时段等基础数据 </p>

<p class="definition">在文件 <a class="el" href="WtDataManager_8h_source.html">WtDataManager.h</a> 第 <a class="el" href="WtDataManager_8h_source.html#l00296">296</a> 行定义.</p>

</div>
</div>
<a id="aec7fd17922e591e1b7422754c4f81bcf" name="aec7fd17922e591e1b7422754c4f81bcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec7fd17922e591e1b7422754c4f81bcf">&#9670;&#160;</a></span>_hot_mgr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classIHotMgr.html">IHotMgr</a>* WtDataManager::_hot_mgr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>主力合约管理器指针，管理主力合约切换规则 </p>

<p class="definition">在文件 <a class="el" href="WtDataManager_8h_source.html">WtDataManager.h</a> 第 <a class="el" href="WtDataManager_8h_source.html#l00298">298</a> 行定义.</p>

</div>
</div>
<a id="a9b6551bb67162d06d9cece5970ac2ffa" name="a9b6551bb67162d06d9cece5970ac2ffa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b6551bb67162d06d9cece5970ac2ffa">&#9670;&#160;</a></span>_mtx_rtbars</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MutexUtils.html#gaff888cdcc14f5ebb7a1a9c9f7b52846f">StdUniqueMutex</a> WtDataManager::_mtx_rtbars</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>实时K线数据的互斥锁，保证线程安全 </p>

<p class="definition">在文件 <a class="el" href="WtDataManager_8h_source.html">WtDataManager.h</a> 第 <a class="el" href="WtDataManager_8h_source.html#l00330">330</a> 行定义.</p>

</div>
</div>
<a id="abeded85b3e775cbe67ea1cd758f758d2" name="abeded85b3e775cbe67ea1cd758f758d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abeded85b3e775cbe67ea1cd758f758d2">&#9670;&#160;</a></span>_reader</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classIRdmDtReader.html">IRdmDtReader</a>* WtDataManager::_reader</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>数据读取器指针，用于从存储中读取数据 </p>

<p class="definition">在文件 <a class="el" href="WtDataManager_8h_source.html">WtDataManager.h</a> 第 <a class="el" href="WtDataManager_8h_source.html#l00291">291</a> 行定义.</p>

</div>
</div>
<a id="a6a4a0036307ba48bb676c4f28b953dea" name="a6a4a0036307ba48bb676c4f28b953dea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a4a0036307ba48bb676c4f28b953dea">&#9670;&#160;</a></span>_remover</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="IRdmDtReader_8h.html#a507064b7cecd214134decebdea782752">FuncDeleteRdmDtReader</a> WtDataManager::_remover</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>数据读取器删除函数，用于释放读取器资源 </p>

<p class="definition">在文件 <a class="el" href="WtDataManager_8h_source.html">WtDataManager.h</a> 第 <a class="el" href="WtDataManager_8h_source.html#l00293">293</a> 行定义.</p>

</div>
</div>
<a id="a7fb774ba17cc1aeb9e86d87f6fed6e87" name="a7fb774ba17cc1aeb9e86d87f6fed6e87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fb774ba17cc1aeb9e86d87f6fed6e87">&#9670;&#160;</a></span>_rt_bars</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWtDataManager.html#aba03147440b713232d22c64811be11b4">RtBarMap</a>* WtDataManager::_rt_bars</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>实时K线映射，存储实时生成的K线数据 </p>

<p class="definition">在文件 <a class="el" href="WtDataManager_8h_source.html">WtDataManager.h</a> 第 <a class="el" href="WtDataManager_8h_source.html#l00328">328</a> 行定义.</p>

</div>
</div>
<a id="a10cfa0a793c3a9b3c04377ee67f583e2" name="a10cfa0a793c3a9b3c04377ee67f583e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10cfa0a793c3a9b3c04377ee67f583e2">&#9670;&#160;</a></span>_runner</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWtDtRunner.html">WtDtRunner</a>* WtDataManager::_runner</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>数据服务运行器指针，用于回调数据更新 </p>

<p class="definition">在文件 <a class="el" href="WtDataManager_8h_source.html">WtDataManager.h</a> 第 <a class="el" href="WtDataManager_8h_source.html#l00300">300</a> 行定义.</p>

</div>
</div>
<hr/>该类的文档由以下文件生成:<ul>
<li>src/WtDtServo/<a class="el" href="WtDataManager_8h_source.html">WtDataManager.h</a></li>
<li>src/WtDtServo/<a class="el" href="WtDataManager_8cpp_source.html">WtDataManager.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classWtDataManager.html">WtDataManager</a></li>
    <li class="footer">制作者 <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
