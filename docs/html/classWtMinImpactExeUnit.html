<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WonderTrader: WtMinImpactExeUnit类 参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">WonderTrader<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">高性能量化交易平台</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classWtMinImpactExeUnit.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">载入中...</div>
<div class="SRStatus" id="Searching">搜索中...</div>
<div class="SRStatus" id="NoMatches">未找到</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">类</a> &#124;
<a href="#pub-methods">Public 成员函数</a> &#124;
<a href="#pri-types">Private 类型</a> &#124;
<a href="#pri-methods">Private 成员函数</a> &#124;
<a href="#pri-attribs">Private 属性</a> &#124;
<a href="classWtMinImpactExeUnit-members.html">所有成员列表</a>  </div>
  <div class="headertitle"><div class="title">WtMinImpactExeUnit类 参考</div></div>
</div><!--header-->
<div class="contents">

<p>最小冲击执行单元类  
 <a href="classWtMinImpactExeUnit.html#details">更多...</a></p>

<p><code>#include &lt;<a class="el" href="WtMinImpactExeUnit_8h_source.html">WtMinImpactExeUnit.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
类</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structWtMinImpactExeUnit_1_1__CalcFlag.html">_CalcFlag</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">计算标志结构体  <a href="structWtMinImpactExeUnit_1_1__CalcFlag.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public 成员函数</h2></td></tr>
<tr class="memitem:a4f05272d9607a4cd73dc267405d1af52" id="r_a4f05272d9607a4cd73dc267405d1af52"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtMinImpactExeUnit.html#a4f05272d9607a4cd73dc267405d1af52">WtMinImpactExeUnit</a> ()</td></tr>
<tr class="memdesc:a4f05272d9607a4cd73dc267405d1af52"><td class="mdescLeft">&#160;</td><td class="mdescRight">构造函数  <br /></td></tr>
<tr class="separator:a4f05272d9607a4cd73dc267405d1af52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16c9d52c203f2effcceb8e5dedecf76e" id="r_a16c9d52c203f2effcceb8e5dedecf76e"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtMinImpactExeUnit.html#a16c9d52c203f2effcceb8e5dedecf76e">~WtMinImpactExeUnit</a> ()</td></tr>
<tr class="memdesc:a16c9d52c203f2effcceb8e5dedecf76e"><td class="mdescLeft">&#160;</td><td class="mdescRight">析构函数  <br /></td></tr>
<tr class="separator:a16c9d52c203f2effcceb8e5dedecf76e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa25f40ecf738f133be7c22e1c79a5ba1" id="r_aa25f40ecf738f133be7c22e1c79a5ba1"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtMinImpactExeUnit.html#aa25f40ecf738f133be7c22e1c79a5ba1">getFactName</a> () override</td></tr>
<tr class="memdesc:aa25f40ecf738f133be7c22e1c79a5ba1"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取所属执行器工厂名称  <br /></td></tr>
<tr class="separator:aa25f40ecf738f133be7c22e1c79a5ba1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa80695af9af1a1588c54677b2150bc95" id="r_aa80695af9af1a1588c54677b2150bc95"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtMinImpactExeUnit.html#aa80695af9af1a1588c54677b2150bc95">getName</a> () override</td></tr>
<tr class="memdesc:aa80695af9af1a1588c54677b2150bc95"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取执行单元名称  <br /></td></tr>
<tr class="separator:aa80695af9af1a1588c54677b2150bc95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b7e6f1ddb698e52ab8258166d0bc362" id="r_a5b7e6f1ddb698e52ab8258166d0bc362"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtMinImpactExeUnit.html#a5b7e6f1ddb698e52ab8258166d0bc362">init</a> (<a class="el" href="classExecuteContext.html">ExecuteContext</a> *ctx, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, <a class="el" href="classWTSVariant.html">WTSVariant</a> *cfg) override</td></tr>
<tr class="memdesc:a5b7e6f1ddb698e52ab8258166d0bc362"><td class="mdescLeft">&#160;</td><td class="mdescRight">初始化执行单元  <br /></td></tr>
<tr class="separator:a5b7e6f1ddb698e52ab8258166d0bc362"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2ba55a9113897a7f5ef77cf56cf21fb" id="r_ac2ba55a9113897a7f5ef77cf56cf21fb"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtMinImpactExeUnit.html#ac2ba55a9113897a7f5ef77cf56cf21fb">on_order</a> (uint32_t localid, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, bool isBuy, double leftover, double <a class="el" href="demo__send__order_8cpp.html#a04f887fc8800d4727971dbb8eb550132">price</a>, bool isCanceled) override</td></tr>
<tr class="memdesc:ac2ba55a9113897a7f5ef77cf56cf21fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">订单回报处理  <br /></td></tr>
<tr class="separator:ac2ba55a9113897a7f5ef77cf56cf21fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03707ec9afa49b09ec2d49ab362fd9e3" id="r_a03707ec9afa49b09ec2d49ab362fd9e3"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtMinImpactExeUnit.html#a03707ec9afa49b09ec2d49ab362fd9e3">on_tick</a> (<a class="el" href="classWTSTickData.html">WTSTickData</a> *newTick) override</td></tr>
<tr class="memdesc:a03707ec9afa49b09ec2d49ab362fd9e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">行情数据回调处理  <br /></td></tr>
<tr class="separator:a03707ec9afa49b09ec2d49ab362fd9e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c3a491ab92156a7f3ec11b60fb82adb" id="r_a9c3a491ab92156a7f3ec11b60fb82adb"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtMinImpactExeUnit.html#a9c3a491ab92156a7f3ec11b60fb82adb">on_trade</a> (uint32_t localid, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, bool isBuy, double vol, double <a class="el" href="demo__send__order_8cpp.html#a04f887fc8800d4727971dbb8eb550132">price</a>) override</td></tr>
<tr class="memdesc:a9c3a491ab92156a7f3ec11b60fb82adb"><td class="mdescLeft">&#160;</td><td class="mdescRight">成交回报处理  <br /></td></tr>
<tr class="separator:a9c3a491ab92156a7f3ec11b60fb82adb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0d0392bbbebba0d2f51d9a446de1af2" id="r_ab0d0392bbbebba0d2f51d9a446de1af2"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtMinImpactExeUnit.html#ab0d0392bbbebba0d2f51d9a446de1af2">on_entrust</a> (uint32_t localid, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, bool bSuccess, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *message) override</td></tr>
<tr class="memdesc:ab0d0392bbbebba0d2f51d9a446de1af2"><td class="mdescLeft">&#160;</td><td class="mdescRight">委托下单结果回报处理  <br /></td></tr>
<tr class="separator:ab0d0392bbbebba0d2f51d9a446de1af2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0fd0ceb2a339044a69747fbc97fa6f1" id="r_ad0fd0ceb2a339044a69747fbc97fa6f1"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtMinImpactExeUnit.html#ad0fd0ceb2a339044a69747fbc97fa6f1">set_position</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, double newVol) override</td></tr>
<tr class="memdesc:ad0fd0ceb2a339044a69747fbc97fa6f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置新的目标仓位  <br /></td></tr>
<tr class="separator:ad0fd0ceb2a339044a69747fbc97fa6f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c39730a71172bdd39831ac46ca5c370" id="r_a4c39730a71172bdd39831ac46ca5c370"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtMinImpactExeUnit.html#a4c39730a71172bdd39831ac46ca5c370">clear_all_position</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode) override</td></tr>
<tr class="memdesc:a4c39730a71172bdd39831ac46ca5c370"><td class="mdescLeft">&#160;</td><td class="mdescRight">清理全部持仓  <br /></td></tr>
<tr class="separator:a4c39730a71172bdd39831ac46ca5c370"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4623abb1107464939d8e6f489c9ff34" id="r_af4623abb1107464939d8e6f489c9ff34"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtMinImpactExeUnit.html#af4623abb1107464939d8e6f489c9ff34">on_channel_ready</a> () override</td></tr>
<tr class="memdesc:af4623abb1107464939d8e6f489c9ff34"><td class="mdescLeft">&#160;</td><td class="mdescRight">交易通道就绪回调  <br /></td></tr>
<tr class="separator:af4623abb1107464939d8e6f489c9ff34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bb0d4a4b65b9fa4e6a594fba1e3d292" id="r_a7bb0d4a4b65b9fa4e6a594fba1e3d292"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtMinImpactExeUnit.html#a7bb0d4a4b65b9fa4e6a594fba1e3d292">on_channel_lost</a> () override</td></tr>
<tr class="memdesc:a7bb0d4a4b65b9fa4e6a594fba1e3d292"><td class="mdescLeft">&#160;</td><td class="mdescRight">交易通道丢失回调  <br /></td></tr>
<tr class="separator:a7bb0d4a4b65b9fa4e6a594fba1e3d292"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classExecuteUnit"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classExecuteUnit')"><img src="closed.png" alt="-"/>&#160;Public 成员函数 继承自 <a class="el" href="classExecuteUnit.html">ExecuteUnit</a></td></tr>
<tr class="memitem:af0b295bff06be9e7129b2e8bb36a1fb7 inherit pub_methods_classExecuteUnit" id="r_af0b295bff06be9e7129b2e8bb36a1fb7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classExecuteUnit.html#af0b295bff06be9e7129b2e8bb36a1fb7">ExecuteUnit</a> (bool bDiffMode=false)</td></tr>
<tr class="separator:af0b295bff06be9e7129b2e8bb36a1fb7 inherit pub_methods_classExecuteUnit"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3f269919e1c97106fa3a0224360d0f1 inherit pub_methods_classExecuteUnit" id="r_ac3f269919e1c97106fa3a0224360d0f1"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classExecuteUnit.html#ac3f269919e1c97106fa3a0224360d0f1">~ExecuteUnit</a> ()</td></tr>
<tr class="separator:ac3f269919e1c97106fa3a0224360d0f1 inherit pub_methods_classExecuteUnit"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f61cc3a45f63f2e931ecbdb8f8dcd20 inherit pub_methods_classExecuteUnit" id="r_a7f61cc3a45f63f2e931ecbdb8f8dcd20"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classExecuteUnit.html#a7f61cc3a45f63f2e931ecbdb8f8dcd20">on_account</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *<a class="el" href="demo__send__order_8cpp.html#af75f83b1c7d27fcbd5fb60b382330d60">currency</a>, double prebalance, double balance, double dynbalance, double avaliable, double closeprofit, double dynprofit, double margin, double fee, double deposit, double withdraw)</td></tr>
<tr class="separator:a7f61cc3a45f63f2e931ecbdb8f8dcd20 inherit pub_methods_classExecuteUnit"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-types" name="pri-types"></a>
Private 类型</h2></td></tr>
<tr class="memitem:a00aa0ff9ec70658613946792b88da585" id="r_a00aa0ff9ec70658613946792b88da585"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structWtMinImpactExeUnit_1_1__CalcFlag.html">WtMinImpactExeUnit::_CalcFlag</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtMinImpactExeUnit.html#a00aa0ff9ec70658613946792b88da585">CalcFlag</a></td></tr>
<tr class="memdesc:a00aa0ff9ec70658613946792b88da585"><td class="mdescLeft">&#160;</td><td class="mdescRight">计算标志结构体  <br /></td></tr>
<tr class="separator:a00aa0ff9ec70658613946792b88da585"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private 成员函数</h2></td></tr>
<tr class="memitem:a918ae290bb5fcb5330ee22e5509b804f" id="r_a918ae290bb5fcb5330ee22e5509b804f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtMinImpactExeUnit.html#a918ae290bb5fcb5330ee22e5509b804f">do_calc</a> ()</td></tr>
<tr class="memdesc:a918ae290bb5fcb5330ee22e5509b804f"><td class="mdescLeft">&#160;</td><td class="mdescRight">执行单元核心计算逻辑  <br /></td></tr>
<tr class="separator:a918ae290bb5fcb5330ee22e5509b804f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private 属性</h2></td></tr>
<tr class="memitem:a4ee26ce287c91f8d14aae5e469b99e9a" id="r_a4ee26ce287c91f8d14aae5e469b99e9a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classWTSTickData.html">WTSTickData</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtMinImpactExeUnit.html#a4ee26ce287c91f8d14aae5e469b99e9a">_last_tick</a></td></tr>
<tr class="memdesc:a4ee26ce287c91f8d14aae5e469b99e9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">最近一笔行情数据  <br /></td></tr>
<tr class="separator:a4ee26ce287c91f8d14aae5e469b99e9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33e6e14d10b9a9eefe3d11710ab9a735" id="r_a33e6e14d10b9a9eefe3d11710ab9a735"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtMinImpactExeUnit.html#a33e6e14d10b9a9eefe3d11710ab9a735">_target_pos</a></td></tr>
<tr class="memdesc:a33e6e14d10b9a9eefe3d11710ab9a735"><td class="mdescLeft">&#160;</td><td class="mdescRight">目标仓位  <br /></td></tr>
<tr class="separator:a33e6e14d10b9a9eefe3d11710ab9a735"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5db29da9da147391027f4dd66dab01e7" id="r_a5db29da9da147391027f4dd66dab01e7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MutexUtils.html#gaff888cdcc14f5ebb7a1a9c9f7b52846f">StdUniqueMutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtMinImpactExeUnit.html#a5db29da9da147391027f4dd66dab01e7">_mtx_calc</a></td></tr>
<tr class="memdesc:a5db29da9da147391027f4dd66dab01e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">计算线程互斥锁  <br /></td></tr>
<tr class="separator:a5db29da9da147391027f4dd66dab01e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5b0eb9c051a53e007c9597c57dfa289" id="r_ad5b0eb9c051a53e007c9597c57dfa289"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classWTSCommodityInfo.html">WTSCommodityInfo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtMinImpactExeUnit.html#ad5b0eb9c051a53e007c9597c57dfa289">_comm_info</a></td></tr>
<tr class="memdesc:ad5b0eb9c051a53e007c9597c57dfa289"><td class="mdescLeft">&#160;</td><td class="mdescRight">商品/合约信息  <br /></td></tr>
<tr class="separator:ad5b0eb9c051a53e007c9597c57dfa289"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf5e80ec2bd6e46756ae215480f6bd56" id="r_acf5e80ec2bd6e46756ae215480f6bd56"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classWTSSessionInfo.html">WTSSessionInfo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtMinImpactExeUnit.html#acf5e80ec2bd6e46756ae215480f6bd56">_sess_info</a></td></tr>
<tr class="memdesc:acf5e80ec2bd6e46756ae215480f6bd56"><td class="mdescLeft">&#160;</td><td class="mdescRight">交易时间模板信息  <br /></td></tr>
<tr class="separator:acf5e80ec2bd6e46756ae215480f6bd56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac41c37e56736c6dbe6e48178bd116e88" id="r_ac41c37e56736c6dbe6e48178bd116e88"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtMinImpactExeUnit.html#ac41c37e56736c6dbe6e48178bd116e88">_price_offset</a></td></tr>
<tr class="memdesc:ac41c37e56736c6dbe6e48178bd116e88"><td class="mdescLeft">&#160;</td><td class="mdescRight">价格偏移跳数，正值为加价，负值为减价  <br /></td></tr>
<tr class="separator:ac41c37e56736c6dbe6e48178bd116e88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e75a6cdefddf9dd75662f42e0add709" id="r_a1e75a6cdefddf9dd75662f42e0add709"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtMinImpactExeUnit.html#a1e75a6cdefddf9dd75662f42e0add709">_expire_secs</a></td></tr>
<tr class="memdesc:a1e75a6cdefddf9dd75662f42e0add709"><td class="mdescLeft">&#160;</td><td class="mdescRight">订单超时秒数，超过该时间后将撤单  <br /></td></tr>
<tr class="separator:a1e75a6cdefddf9dd75662f42e0add709"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2721e37c224acde1db4dfe7cf61651b" id="r_ac2721e37c224acde1db4dfe7cf61651b"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtMinImpactExeUnit.html#ac2721e37c224acde1db4dfe7cf61651b">_price_mode</a></td></tr>
<tr class="memdesc:ac2721e37c224acde1db4dfe7cf61651b"><td class="mdescLeft">&#160;</td><td class="mdescRight">价格模式：-1最优价，0最新价，1对手价，2自动价  <br /></td></tr>
<tr class="separator:ac2721e37c224acde1db4dfe7cf61651b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab040e9b507e0e3db9ab4c25ed5723b4d" id="r_ab040e9b507e0e3db9ab4c25ed5723b4d"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtMinImpactExeUnit.html#ab040e9b507e0e3db9ab4c25ed5723b4d">_entrust_span</a></td></tr>
<tr class="memdesc:ab040e9b507e0e3db9ab4c25ed5723b4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">发单时间间隔，单位毫秒  <br /></td></tr>
<tr class="separator:ab040e9b507e0e3db9ab4c25ed5723b4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54ef6edfd70f8daea9eada34c6d460d3" id="r_a54ef6edfd70f8daea9eada34c6d460d3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtMinImpactExeUnit.html#a54ef6edfd70f8daea9eada34c6d460d3">_by_rate</a></td></tr>
<tr class="memdesc:a54ef6edfd70f8daea9eada34c6d460d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">是否按比例下单，如果true则使用_qty_rate，如果false则使用_order_lots  <br /></td></tr>
<tr class="separator:a54ef6edfd70f8daea9eada34c6d460d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c48855b849bba140c6800325c8054e5" id="r_a7c48855b849bba140c6800325c8054e5"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtMinImpactExeUnit.html#a7c48855b849bba140c6800325c8054e5">_order_lots</a></td></tr>
<tr class="memdesc:a7c48855b849bba140c6800325c8054e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">单次发单手数，当_by_rate为false时生效  <br /></td></tr>
<tr class="separator:a7c48855b849bba140c6800325c8054e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d9fc74513afeb0e00742960955fc823" id="r_a6d9fc74513afeb0e00742960955fc823"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtMinImpactExeUnit.html#a6d9fc74513afeb0e00742960955fc823">_qty_rate</a></td></tr>
<tr class="memdesc:a6d9fc74513afeb0e00742960955fc823"><td class="mdescLeft">&#160;</td><td class="mdescRight">下单数量比例，当_by_rate为true时生效  <br /></td></tr>
<tr class="separator:a6d9fc74513afeb0e00742960955fc823"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a014465e4da1c1b21d33f7123e1a9052e" id="r_a014465e4da1c1b21d33f7123e1a9052e"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtMinImpactExeUnit.html#a014465e4da1c1b21d33f7123e1a9052e">_min_open_lots</a></td></tr>
<tr class="memdesc:a014465e4da1c1b21d33f7123e1a9052e"><td class="mdescLeft">&#160;</td><td class="mdescRight">最小开仓数量  <br /></td></tr>
<tr class="separator:a014465e4da1c1b21d33f7123e1a9052e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab48b1baefe5701b57fe1f130a041ba9b" id="r_ab48b1baefe5701b57fe1f130a041ba9b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classWtOrdMon.html">WtOrdMon</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtMinImpactExeUnit.html#ab48b1baefe5701b57fe1f130a041ba9b">_orders_mon</a></td></tr>
<tr class="memdesc:ab48b1baefe5701b57fe1f130a041ba9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">订单监控器  <br /></td></tr>
<tr class="separator:ab48b1baefe5701b57fe1f130a041ba9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76090d770276dd862201f9783a1d5193" id="r_a76090d770276dd862201f9783a1d5193"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtMinImpactExeUnit.html#a76090d770276dd862201f9783a1d5193">_cancel_cnt</a></td></tr>
<tr class="memdesc:a76090d770276dd862201f9783a1d5193"><td class="mdescLeft">&#160;</td><td class="mdescRight">在途撤单数量  <br /></td></tr>
<tr class="separator:a76090d770276dd862201f9783a1d5193"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37eb1862d281155c5478472e44735829" id="r_a37eb1862d281155c5478472e44735829"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtMinImpactExeUnit.html#a37eb1862d281155c5478472e44735829">_cancel_times</a></td></tr>
<tr class="memdesc:a37eb1862d281155c5478472e44735829"><td class="mdescLeft">&#160;</td><td class="mdescRight">撤单次数，用于调整价格偏移  <br /></td></tr>
<tr class="separator:a37eb1862d281155c5478472e44735829"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a150fbef0b13b305018812e496507908b" id="r_a150fbef0b13b305018812e496507908b"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtMinImpactExeUnit.html#a150fbef0b13b305018812e496507908b">_last_place_time</a></td></tr>
<tr class="memdesc:a150fbef0b13b305018812e496507908b"><td class="mdescLeft">&#160;</td><td class="mdescRight">上一次下单时间，用于控制发单频率  <br /></td></tr>
<tr class="separator:a150fbef0b13b305018812e496507908b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af337a9d8bb8e6ac4273fcd8e7c4d2dd1" id="r_af337a9d8bb8e6ac4273fcd8e7c4d2dd1"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtMinImpactExeUnit.html#af337a9d8bb8e6ac4273fcd8e7c4d2dd1">_last_tick_time</a></td></tr>
<tr class="memdesc:af337a9d8bb8e6ac4273fcd8e7c4d2dd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">上一个Tick时间  <br /></td></tr>
<tr class="separator:af337a9d8bb8e6ac4273fcd8e7c4d2dd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b35f7edd7598ea62b30e4f563a6f9f6" id="r_a2b35f7edd7598ea62b30e4f563a6f9f6"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtMinImpactExeUnit.html#a2b35f7edd7598ea62b30e4f563a6f9f6">_in_calc</a></td></tr>
<tr class="memdesc:a2b35f7edd7598ea62b30e4f563a6f9f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">是否正在计算中的原子布尔变量  <br /></td></tr>
<tr class="separator:a2b35f7edd7598ea62b30e4f563a6f9f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
额外继承的成员函数</h2></td></tr>
<tr class="inherit_header pro_attribs_classExecuteUnit"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classExecuteUnit')"><img src="closed.png" alt="-"/>&#160;Protected 属性 继承自 <a class="el" href="classExecuteUnit.html">ExecuteUnit</a></td></tr>
<tr class="memitem:adcad0deb3cd690a907595ba406a51f52 inherit pro_attribs_classExecuteUnit" id="r_adcad0deb3cd690a907595ba406a51f52"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classExecuteContext.html">ExecuteContext</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classExecuteUnit.html#adcad0deb3cd690a907595ba406a51f52">_ctx</a></td></tr>
<tr class="separator:adcad0deb3cd690a907595ba406a51f52 inherit pro_attribs_classExecuteUnit"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74ac9810daca8c1ae10755db4d2fbd22 inherit pro_attribs_classExecuteUnit" id="r_a74ac9810daca8c1ae10755db4d2fbd22"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classExecuteUnit.html#a74ac9810daca8c1ae10755db4d2fbd22">_code</a></td></tr>
<tr class="separator:a74ac9810daca8c1ae10755db4d2fbd22 inherit pro_attribs_classExecuteUnit"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<div class="textblock"><p>最小冲击执行单元类 </p>
<p>通过控制下单策略、下单时机和下单量，尽可能减少对市场的冲击并实现目标仓位 </p>

<p class="definition">在文件 <a class="el" href="WtMinImpactExeUnit_8h_source.html">WtMinImpactExeUnit.h</a> 第 <a class="el" href="WtMinImpactExeUnit_8h_source.html#l00020">20</a> 行定义.</p>
</div><h2 class="groupheader">成员类型定义说明</h2>
<a id="a00aa0ff9ec70658613946792b88da585" name="a00aa0ff9ec70658613946792b88da585"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00aa0ff9ec70658613946792b88da585">&#9670;&#160;</a></span>CalcFlag</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structWtMinImpactExeUnit_1_1__CalcFlag.html">WtMinImpactExeUnit::_CalcFlag</a> <a class="el" href="classWtMinImpactExeUnit.html#a00aa0ff9ec70658613946792b88da585">WtMinImpactExeUnit::CalcFlag</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>计算标志结构体 </p>
<p>使用RAII模式的结构体，用于管理计算状态的原子锁定和释放 在构造时尝试获取锁，在析构时自动释放锁 </p>

</div>
</div>
<h2 class="groupheader">构造及析构函数说明</h2>
<a id="a4f05272d9607a4cd73dc267405d1af52" name="a4f05272d9607a4cd73dc267405d1af52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f05272d9607a4cd73dc267405d1af52">&#9670;&#160;</a></span>WtMinImpactExeUnit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WtMinImpactExeUnit::WtMinImpactExeUnit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>构造函数 </p>
<p>初始化成员变量并设置默认参数</p>
<p>初始化所有成员变量的默认值，包括行情数据、商品信息、价格模式等 </p>

<p class="definition">在文件 <a class="el" href="WtMinImpactExeUnit_8cpp_source.html">WtMinImpactExeUnit.cpp</a> 第 <a class="el" href="WtMinImpactExeUnit_8cpp_source.html#l00065">65</a> 行定义.</p>

</div>
</div>
<a id="a16c9d52c203f2effcceb8e5dedecf76e" name="a16c9d52c203f2effcceb8e5dedecf76e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16c9d52c203f2effcceb8e5dedecf76e">&#9670;&#160;</a></span>~WtMinImpactExeUnit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">WtMinImpactExeUnit::~WtMinImpactExeUnit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>析构函数 </p>
<p>释放上一个行情数据和商品信息</p>
<p>释放内部资源，包括最近的行情数据和商品信息 </p>

<p class="definition">在文件 <a class="el" href="WtMinImpactExeUnit_8cpp_source.html">WtMinImpactExeUnit.cpp</a> 第 <a class="el" href="WtMinImpactExeUnit_8cpp_source.html#l00086">86</a> 行定义.</p>

</div>
</div>
<h2 class="groupheader">成员函数说明</h2>
<a id="a4c39730a71172bdd39831ac46ca5c370" name="a4c39730a71172bdd39831ac46ca5c370"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c39730a71172bdd39831ac46ca5c370">&#9670;&#160;</a></span>clear_all_position()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WtMinImpactExeUnit::clear_all_position </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>清理全部持仓 </p>
<p>清空所有仓位</p>
<p>将合约的所有持仓设置为清仓状态，并触发交易计算逻辑 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>合约代码</td></tr>
  </table>
  </dd>
</dl>
<p>将目标仓位设置为清仓状态（DBL_MAX），触发交易计算逻辑 实现对该合约的全部清仓操作 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
  </table>
  </dd>
</dl>

<p>重载 <a class="el" href="classExecuteUnit.html#a7f76f5f38cbbf498f141c3c0f9fbefc6">ExecuteUnit</a> .</p>

<p class="definition">在文件 <a class="el" href="WtMinImpactExeUnit_8cpp_source.html">WtMinImpactExeUnit.cpp</a> 第 <a class="el" href="WtMinImpactExeUnit_8cpp_source.html#l00592">592</a> 行定义.</p>

</div>
</div>
<a id="a918ae290bb5fcb5330ee22e5509b804f" name="a918ae290bb5fcb5330ee22e5509b804f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a918ae290bb5fcb5330ee22e5509b804f">&#9670;&#160;</a></span>do_calc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WtMinImpactExeUnit::do_calc </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>执行单元核心计算逻辑 </p>
<p>核心交易计算逻辑</p>
<p>基于当前市场状态和目标仓位计算交易信号，并发送交易订单 包含价格计算、数量控制、平仓判断和订单发送的全部逻辑</p>
<p>基于当前市场状态、目标仓位和当前仓位计算最优的交易策略。 包括以下核心步骤：</p><ol type="1">
<li>防止重复计算进行锁定检查</li>
<li>判断对已有未完成订单是否需要撤销</li>
<li>计算目标仓位与当前仓位的差额和方向</li>
<li>使用最小冲击策略计算交易数量和价格</li>
<li>发送交易订单 </li>
</ol>

<p class="definition">在文件 <a class="el" href="WtMinImpactExeUnit_8cpp_source.html">WtMinImpactExeUnit.cpp</a> 第 <a class="el" href="WtMinImpactExeUnit_8cpp_source.html#l00341">341</a> 行定义.</p>

</div>
</div>
<a id="aa25f40ecf738f133be7c22e1c79a5ba1" name="aa25f40ecf738f133be7c22e1c79a5ba1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa25f40ecf738f133be7c22e1c79a5ba1">&#9670;&#160;</a></span>getFactName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char * WtMinImpactExeUnit::getFactName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取所属执行器工厂名称 </p>
<dl class="section return"><dt>返回</dt><dd>执行器工厂名称常量</dd>
<dd>
返回执行器工厂名称常量 </dd></dl>

<p>实现了 <a class="el" href="classExecuteUnit.html#a9926a35133fe08fe9bc8c1c7fcd4646c">ExecuteUnit</a>.</p>

<p class="definition">在文件 <a class="el" href="WtMinImpactExeUnit_8cpp_source.html">WtMinImpactExeUnit.cpp</a> 第 <a class="el" href="WtMinImpactExeUnit_8cpp_source.html#l00099">99</a> 行定义.</p>

</div>
</div>
<a id="aa80695af9af1a1588c54677b2150bc95" name="aa80695af9af1a1588c54677b2150bc95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa80695af9af1a1588c54677b2150bc95">&#9670;&#160;</a></span>getName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char * WtMinImpactExeUnit::getName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取执行单元名称 </p>
<dl class="section return"><dt>返回</dt><dd>实现类的执行单元名称</dd>
<dd>
返回实现类的名称字符串 </dd></dl>

<p>实现了 <a class="el" href="classExecuteUnit.html#abb798a66927eba0d0093741025de7890">ExecuteUnit</a>.</p>

<p class="definition">在文件 <a class="el" href="WtMinImpactExeUnit_8cpp_source.html">WtMinImpactExeUnit.cpp</a> 第 <a class="el" href="WtMinImpactExeUnit_8cpp_source.html#l00108">108</a> 行定义.</p>

</div>
</div>
<a id="a5b7e6f1ddb698e52ab8258166d0bc362" name="a5b7e6f1ddb698e52ab8258166d0bc362"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b7e6f1ddb698e52ab8258166d0bc362">&#9670;&#160;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WtMinImpactExeUnit::init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classExecuteContext.html">ExecuteContext</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classWTSVariant.html">WTSVariant</a> *&#160;</td>
          <td class="paramname"><em>cfg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>初始化执行单元 </p>
<p>从配置中读取参数并设置到执行单元中，获取合约信息和交易时间模板 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>执行单元运行环境上下文 </td></tr>
    <tr><td class="paramname">stdCode</td><td>管理的合约代码 </td></tr>
    <tr><td class="paramname">cfg</td><td>执行单元配置参数，包含价格偏移、超时时间、价格模式等</td></tr>
  </table>
  </dd>
</dl>
<p>读取配置参数，初始化合约信息和交易时间模板，并设置交易相关的参数 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>执行单元的运行环境上下文 </td></tr>
    <tr><td class="paramname">stdCode</td><td>标准化的合约代码 </td></tr>
    <tr><td class="paramname">cfg</td><td>包含各种配置参数的变量集合 </td></tr>
  </table>
  </dd>
</dl>

<p>重载 <a class="el" href="classExecuteUnit.html#a581aa0f5a523cedc728d13dfffa5788f">ExecuteUnit</a> .</p>

<p class="definition">在文件 <a class="el" href="WtMinImpactExeUnit_8cpp_source.html">WtMinImpactExeUnit.cpp</a> 第 <a class="el" href="WtMinImpactExeUnit_8cpp_source.html#l00120">120</a> 行定义.</p>

</div>
</div>
<a id="a7bb0d4a4b65b9fa4e6a594fba1e3d292" name="a7bb0d4a4b65b9fa4e6a594fba1e3d292"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bb0d4a4b65b9fa4e6a594fba1e3d292">&#9670;&#160;</a></span>on_channel_lost()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WtMinImpactExeUnit::on_channel_lost </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>交易通道丢失回调 </p>
<p>交易通道丢失回调函数</p>
<p>处理交易通道断开的事件，清理订单监控状态</p>
<p>当交易通道断开或失去连接时调用此函数。 清空内部的订单监控器，以确保通道恢复后的状态一致性 </p>

<p>实现了 <a class="el" href="classExecuteUnit.html#a0428e26e1a046b72b408258e127e3300">ExecuteUnit</a>.</p>

<p class="definition">在文件 <a class="el" href="WtMinImpactExeUnit_8cpp_source.html">WtMinImpactExeUnit.cpp</a> 第 <a class="el" href="WtMinImpactExeUnit_8cpp_source.html#l00241">241</a> 行定义.</p>

</div>
</div>
<a id="af4623abb1107464939d8e6f489c9ff34" name="af4623abb1107464939d8e6f489c9ff34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4623abb1107464939d8e6f489c9ff34">&#9670;&#160;</a></span>on_channel_ready()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WtMinImpactExeUnit::on_channel_ready </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>交易通道就绪回调 </p>
<p>交易通道就绪回调函数</p>
<p>处理交易通道就绪的事件，检查未完成订单并触发交易计算逻辑</p>
<p>当交易通道就绪可用时调用此函数。检查是否有未完成的订单，并根据 未完成订单情况重建订单监控器。如果发现未完成的订单则进行订单处理 如果当前订单库与监控器状态不匹配，则触发重新计算交易逻辑 </p>

<p>实现了 <a class="el" href="classExecuteUnit.html#a9f4c260a14b55bd4ff28d14de7b90e96">ExecuteUnit</a>.</p>

<p class="definition">在文件 <a class="el" href="WtMinImpactExeUnit_8cpp_source.html">WtMinImpactExeUnit.cpp</a> 第 <a class="el" href="WtMinImpactExeUnit_8cpp_source.html#l00191">191</a> 行定义.</p>

</div>
</div>
<a id="ab0d0392bbbebba0d2f51d9a446de1af2" name="ab0d0392bbbebba0d2f51d9a446de1af2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0d0392bbbebba0d2f51d9a446de1af2">&#9670;&#160;</a></span>on_entrust()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WtMinImpactExeUnit::on_entrust </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>localid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bSuccess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>委托下单结果回报处理 </p>
<p>委托下单结果回报处理函数</p>
<p>处理委托下单失败的情况，在下单失败时清理订单监控器状态 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">localid</td><td>本地订单号 </td></tr>
    <tr><td class="paramname">stdCode</td><td>合约代码 </td></tr>
    <tr><td class="paramname">bSuccess</td><td>下单是否成功 </td></tr>
    <tr><td class="paramname">message</td><td>失败原因消息，当bSuccess为false时有效</td></tr>
  </table>
  </dd>
</dl>
<p>处理委托下单后的结果回报。当下单失败时，清理监控器中的相关订单 并触发重新计算逻辑，以尝试新的交易策略 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">localid</td><td>本地订单号 </td></tr>
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">bSuccess</td><td>下单是否成功 </td></tr>
    <tr><td class="paramname">message</td><td>失败时的错误消息 </td></tr>
  </table>
  </dd>
</dl>

<p>实现了 <a class="el" href="classExecuteUnit.html#a617f4e0ae426ccaed4fae662251e05b2">ExecuteUnit</a>.</p>

<p class="definition">在文件 <a class="el" href="WtMinImpactExeUnit_8cpp_source.html">WtMinImpactExeUnit.cpp</a> 第 <a class="el" href="WtMinImpactExeUnit_8cpp_source.html#l00317">317</a> 行定义.</p>

</div>
</div>
<a id="ac2ba55a9113897a7f5ef77cf56cf21fb" name="ac2ba55a9113897a7f5ef77cf56cf21fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2ba55a9113897a7f5ef77cf56cf21fb">&#9670;&#160;</a></span>on_order()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WtMinImpactExeUnit::on_order </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>localid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isBuy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>leftover</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>price</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isCanceled</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>订单回报处理 </p>
<p>订单回报处理函数</p>
<p>处理订单状态变化的回调函数，更新订单监控器状态并在订单撤销时触发重新计算 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">localid</td><td>本地订单号 </td></tr>
    <tr><td class="paramname">stdCode</td><td>合约代码 </td></tr>
    <tr><td class="paramname">isBuy</td><td>订单方向，true为买入，false为卖出 </td></tr>
    <tr><td class="paramname">leftover</td><td>剩余数量，当为0时表示订单已完全成交 </td></tr>
    <tr><td class="paramname">price</td><td>委托价格 </td></tr>
    <tr><td class="paramname">isCanceled</td><td>是否已撤销</td></tr>
  </table>
  </dd>
</dl>
<p>处理订单状态变化的通知，包括成交、撤单或部分成交。根据订单状态更新内部的订单监控器， 并在订单被撤销时触发重新计算交易逻辑 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">localid</td><td>本地订单号 </td></tr>
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">isBuy</td><td>交易方向，true为买入，false为卖出 </td></tr>
    <tr><td class="paramname">leftover</td><td>订单剩余数量，为0表示全部成交 </td></tr>
    <tr><td class="paramname">price</td><td>订单委托价格 </td></tr>
    <tr><td class="paramname">isCanceled</td><td>是否已撤销，true表示订单已撤销 </td></tr>
  </table>
  </dd>
</dl>

<p>实现了 <a class="el" href="classExecuteUnit.html#a3941116e2babb85d87182ec1d5e5056f">ExecuteUnit</a>.</p>

<p class="definition">在文件 <a class="el" href="WtMinImpactExeUnit_8cpp_source.html">WtMinImpactExeUnit.cpp</a> 第 <a class="el" href="WtMinImpactExeUnit_8cpp_source.html#l00157">157</a> 行定义.</p>

</div>
</div>
<a id="a03707ec9afa49b09ec2d49ab362fd9e3" name="a03707ec9afa49b09ec2d49ab362fd9e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03707ec9afa49b09ec2d49ab362fd9e3">&#9670;&#160;</a></span>on_tick()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WtMinImpactExeUnit::on_tick </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classWTSTickData.html">WTSTickData</a> *&#160;</td>
          <td class="paramname"><em>newTick</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>行情数据回调处理 </p>
<p>处理新到的行情数据</p>
<p>处理新到的行情数据，更新内部状态并触发交易计算逻辑 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">newTick</td><td>新的行情数据对象指针</td></tr>
  </table>
  </dd>
</dl>
<p>更新最新的行情数据，检查超时订单并触发交易计算。 包含对非交易时间的行情过滤、超时订单的撤销处理 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">newTick</td><td>最新的行情数据对象 </td></tr>
  </table>
  </dd>
</dl>

<p>实现了 <a class="el" href="classExecuteUnit.html#aae14fca80e2a9ec990a0f4e2d5513a75">ExecuteUnit</a>.</p>

<p class="definition">在文件 <a class="el" href="WtMinImpactExeUnit_8cpp_source.html">WtMinImpactExeUnit.cpp</a> 第 <a class="el" href="WtMinImpactExeUnit_8cpp_source.html#l00251">251</a> 行定义.</p>

</div>
</div>
<a id="a9c3a491ab92156a7f3ec11b60fb82adb" name="a9c3a491ab92156a7f3ec11b60fb82adb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c3a491ab92156a7f3ec11b60fb82adb">&#9670;&#160;</a></span>on_trade()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WtMinImpactExeUnit::on_trade </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>localid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isBuy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>vol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>price</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>成交回报处理 </p>
<p>成交回报处理函数</p>
<p>处理成交信息，更新订单监控器状态和相关统计数据 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">localid</td><td>本地订单号 </td></tr>
    <tr><td class="paramname">stdCode</td><td>合约代码 </td></tr>
    <tr><td class="paramname">isBuy</td><td>交易方向，true为买入，false为卖出 </td></tr>
    <tr><td class="paramname">vol</td><td>成交数量，始终为正值，通过isBuy确定方向 </td></tr>
    <tr><td class="paramname">price</td><td>成交价格</td></tr>
  </table>
  </dd>
</dl>
<p>处理成交回报信息。在当前实现中，成交通知不导致直接操作， 而是在on_tick中统一触发计算逻辑。 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">localid</td><td>本地订单号 </td></tr>
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">isBuy</td><td>交易方向，true为买入，false为卖出 </td></tr>
    <tr><td class="paramname">vol</td><td>成交数量，始终为正值 </td></tr>
    <tr><td class="paramname">price</td><td>成交价格 </td></tr>
  </table>
  </dd>
</dl>

<p>实现了 <a class="el" href="classExecuteUnit.html#a60f353b0a5c19a18c95929d6bc364999">ExecuteUnit</a>.</p>

<p class="definition">在文件 <a class="el" href="WtMinImpactExeUnit_8cpp_source.html">WtMinImpactExeUnit.cpp</a> 第 <a class="el" href="WtMinImpactExeUnit_8cpp_source.html#l00303">303</a> 行定义.</p>

</div>
</div>
<a id="ad0fd0ceb2a339044a69747fbc97fa6f1" name="ad0fd0ceb2a339044a69747fbc97fa6f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0fd0ceb2a339044a69747fbc97fa6f1">&#9670;&#160;</a></span>set_position()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WtMinImpactExeUnit::set_position </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>newVol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>设置新的目标仓位 </p>
<p>更新执行单元的目标仓位并触发交易计算，当目标仓位与当前仓位不同时会执行操作 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>合约代码 </td></tr>
    <tr><td class="paramname">newVol</td><td>新的目标仓位，当为DBL_MAX时表示清仓</td></tr>
  </table>
  </dd>
</dl>
<p>设置合约的新目标仓位，并在目标发生变化时触发交易计算逻辑。 当目标仓位为DBL_MAX时，表示清仓操作。特殊情况判断：如果原来目标仓位 已经是清仓且新目标仓位为0，则跳过处理。 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">newVol</td><td>新的目标仓位，当设置为DBL_MAX时代表清仓 </td></tr>
  </table>
  </dd>
</dl>

<p>实现了 <a class="el" href="classExecuteUnit.html#a84d1f03b16fcd9bbcfbf65d132f2e0c1">ExecuteUnit</a>.</p>

<p class="definition">在文件 <a class="el" href="WtMinImpactExeUnit_8cpp_source.html">WtMinImpactExeUnit.cpp</a> 第 <a class="el" href="WtMinImpactExeUnit_8cpp_source.html#l00560">560</a> 行定义.</p>

</div>
</div>
<h2 class="groupheader">类成员变量说明</h2>
<a id="a54ef6edfd70f8daea9eada34c6d460d3" name="a54ef6edfd70f8daea9eada34c6d460d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54ef6edfd70f8daea9eada34c6d460d3">&#9670;&#160;</a></span>_by_rate</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool WtMinImpactExeUnit::_by_rate</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>是否按比例下单，如果true则使用_qty_rate，如果false则使用_order_lots </p>

<p class="definition">在文件 <a class="el" href="WtMinImpactExeUnit_8h_source.html">WtMinImpactExeUnit.h</a> 第 <a class="el" href="WtMinImpactExeUnit_8h_source.html#l00156">156</a> 行定义.</p>

</div>
</div>
<a id="a76090d770276dd862201f9783a1d5193" name="a76090d770276dd862201f9783a1d5193"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76090d770276dd862201f9783a1d5193">&#9670;&#160;</a></span>_cancel_cnt</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t WtMinImpactExeUnit::_cancel_cnt</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在途撤单数量 </p>

<p class="definition">在文件 <a class="el" href="WtMinImpactExeUnit_8h_source.html">WtMinImpactExeUnit.h</a> 第 <a class="el" href="WtMinImpactExeUnit_8h_source.html#l00173">173</a> 行定义.</p>

</div>
</div>
<a id="a37eb1862d281155c5478472e44735829" name="a37eb1862d281155c5478472e44735829"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37eb1862d281155c5478472e44735829">&#9670;&#160;</a></span>_cancel_times</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t WtMinImpactExeUnit::_cancel_times</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>撤单次数，用于调整价格偏移 </p>

<p class="definition">在文件 <a class="el" href="WtMinImpactExeUnit_8h_source.html">WtMinImpactExeUnit.h</a> 第 <a class="el" href="WtMinImpactExeUnit_8h_source.html#l00175">175</a> 行定义.</p>

</div>
</div>
<a id="ad5b0eb9c051a53e007c9597c57dfa289" name="ad5b0eb9c051a53e007c9597c57dfa289"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5b0eb9c051a53e007c9597c57dfa289">&#9670;&#160;</a></span>_comm_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWTSCommodityInfo.html">WTSCommodityInfo</a>* WtMinImpactExeUnit::_comm_info</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>商品/合约信息 </p>

<p class="definition">在文件 <a class="el" href="WtMinImpactExeUnit_8h_source.html">WtMinImpactExeUnit.h</a> 第 <a class="el" href="WtMinImpactExeUnit_8h_source.html#l00141">141</a> 行定义.</p>

</div>
</div>
<a id="ab040e9b507e0e3db9ab4c25ed5723b4d" name="ab040e9b507e0e3db9ab4c25ed5723b4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab040e9b507e0e3db9ab4c25ed5723b4d">&#9670;&#160;</a></span>_entrust_span</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t WtMinImpactExeUnit::_entrust_span</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>发单时间间隔，单位毫秒 </p>

<p class="definition">在文件 <a class="el" href="WtMinImpactExeUnit_8h_source.html">WtMinImpactExeUnit.h</a> 第 <a class="el" href="WtMinImpactExeUnit_8h_source.html#l00154">154</a> 行定义.</p>

</div>
</div>
<a id="a1e75a6cdefddf9dd75662f42e0add709" name="a1e75a6cdefddf9dd75662f42e0add709"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e75a6cdefddf9dd75662f42e0add709">&#9670;&#160;</a></span>_expire_secs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t WtMinImpactExeUnit::_expire_secs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>订单超时秒数，超过该时间后将撤单 </p>

<p class="definition">在文件 <a class="el" href="WtMinImpactExeUnit_8h_source.html">WtMinImpactExeUnit.h</a> 第 <a class="el" href="WtMinImpactExeUnit_8h_source.html#l00150">150</a> 行定义.</p>

</div>
</div>
<a id="a2b35f7edd7598ea62b30e4f563a6f9f6" name="a2b35f7edd7598ea62b30e4f563a6f9f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b35f7edd7598ea62b30e4f563a6f9f6">&#9670;&#160;</a></span>_in_calc</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;bool&gt; WtMinImpactExeUnit::_in_calc</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>是否正在计算中的原子布尔变量 </p>

<p class="definition">在文件 <a class="el" href="WtMinImpactExeUnit_8h_source.html">WtMinImpactExeUnit.h</a> 第 <a class="el" href="WtMinImpactExeUnit_8h_source.html#l00183">183</a> 行定义.</p>

</div>
</div>
<a id="a150fbef0b13b305018812e496507908b" name="a150fbef0b13b305018812e496507908b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a150fbef0b13b305018812e496507908b">&#9670;&#160;</a></span>_last_place_time</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t WtMinImpactExeUnit::_last_place_time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>上一次下单时间，用于控制发单频率 </p>

<p class="definition">在文件 <a class="el" href="WtMinImpactExeUnit_8h_source.html">WtMinImpactExeUnit.h</a> 第 <a class="el" href="WtMinImpactExeUnit_8h_source.html#l00178">178</a> 行定义.</p>

</div>
</div>
<a id="a4ee26ce287c91f8d14aae5e469b99e9a" name="a4ee26ce287c91f8d14aae5e469b99e9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ee26ce287c91f8d14aae5e469b99e9a">&#9670;&#160;</a></span>_last_tick</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWTSTickData.html">WTSTickData</a>* WtMinImpactExeUnit::_last_tick</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>最近一笔行情数据 </p>

<p class="definition">在文件 <a class="el" href="WtMinImpactExeUnit_8h_source.html">WtMinImpactExeUnit.h</a> 第 <a class="el" href="WtMinImpactExeUnit_8h_source.html#l00134">134</a> 行定义.</p>

</div>
</div>
<a id="af337a9d8bb8e6ac4273fcd8e7c4d2dd1" name="af337a9d8bb8e6ac4273fcd8e7c4d2dd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af337a9d8bb8e6ac4273fcd8e7c4d2dd1">&#9670;&#160;</a></span>_last_tick_time</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t WtMinImpactExeUnit::_last_tick_time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>上一个Tick时间 </p>

<p class="definition">在文件 <a class="el" href="WtMinImpactExeUnit_8h_source.html">WtMinImpactExeUnit.h</a> 第 <a class="el" href="WtMinImpactExeUnit_8h_source.html#l00180">180</a> 行定义.</p>

</div>
</div>
<a id="a014465e4da1c1b21d33f7123e1a9052e" name="a014465e4da1c1b21d33f7123e1a9052e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a014465e4da1c1b21d33f7123e1a9052e">&#9670;&#160;</a></span>_min_open_lots</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double WtMinImpactExeUnit::_min_open_lots</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>最小开仓数量 </p>
<p>By Wesley @ 2022.12.15 最小开仓数量用于限制单笔开仓数量的下限 没有设置最小平仓数量的原因是平仓要根据持仓来定，无法限制 </p>

<p class="definition">在文件 <a class="el" href="WtMinImpactExeUnit_8h_source.html">WtMinImpactExeUnit.h</a> 第 <a class="el" href="WtMinImpactExeUnit_8h_source.html#l00168">168</a> 行定义.</p>

</div>
</div>
<a id="a5db29da9da147391027f4dd66dab01e7" name="a5db29da9da147391027f4dd66dab01e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5db29da9da147391027f4dd66dab01e7">&#9670;&#160;</a></span>_mtx_calc</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MutexUtils.html#gaff888cdcc14f5ebb7a1a9c9f7b52846f">StdUniqueMutex</a> WtMinImpactExeUnit::_mtx_calc</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>计算线程互斥锁 </p>

<p class="definition">在文件 <a class="el" href="WtMinImpactExeUnit_8h_source.html">WtMinImpactExeUnit.h</a> 第 <a class="el" href="WtMinImpactExeUnit_8h_source.html#l00138">138</a> 行定义.</p>

</div>
</div>
<a id="a7c48855b849bba140c6800325c8054e5" name="a7c48855b849bba140c6800325c8054e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c48855b849bba140c6800325c8054e5">&#9670;&#160;</a></span>_order_lots</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double WtMinImpactExeUnit::_order_lots</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>单次发单手数，当_by_rate为false时生效 </p>

<p class="definition">在文件 <a class="el" href="WtMinImpactExeUnit_8h_source.html">WtMinImpactExeUnit.h</a> 第 <a class="el" href="WtMinImpactExeUnit_8h_source.html#l00158">158</a> 行定义.</p>

</div>
</div>
<a id="ab48b1baefe5701b57fe1f130a041ba9b" name="ab48b1baefe5701b57fe1f130a041ba9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab48b1baefe5701b57fe1f130a041ba9b">&#9670;&#160;</a></span>_orders_mon</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWtOrdMon.html">WtOrdMon</a> WtMinImpactExeUnit::_orders_mon</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>订单监控器 </p>

<p class="definition">在文件 <a class="el" href="WtMinImpactExeUnit_8h_source.html">WtMinImpactExeUnit.h</a> 第 <a class="el" href="WtMinImpactExeUnit_8h_source.html#l00171">171</a> 行定义.</p>

</div>
</div>
<a id="ac2721e37c224acde1db4dfe7cf61651b" name="ac2721e37c224acde1db4dfe7cf61651b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2721e37c224acde1db4dfe7cf61651b">&#9670;&#160;</a></span>_price_mode</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t WtMinImpactExeUnit::_price_mode</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>价格模式：-1最优价，0最新价，1对手价，2自动价 </p>

<p class="definition">在文件 <a class="el" href="WtMinImpactExeUnit_8h_source.html">WtMinImpactExeUnit.h</a> 第 <a class="el" href="WtMinImpactExeUnit_8h_source.html#l00152">152</a> 行定义.</p>

</div>
</div>
<a id="ac41c37e56736c6dbe6e48178bd116e88" name="ac41c37e56736c6dbe6e48178bd116e88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac41c37e56736c6dbe6e48178bd116e88">&#9670;&#160;</a></span>_price_offset</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t WtMinImpactExeUnit::_price_offset</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>价格偏移跳数，正值为加价，负值为减价 </p>

<p class="definition">在文件 <a class="el" href="WtMinImpactExeUnit_8h_source.html">WtMinImpactExeUnit.h</a> 第 <a class="el" href="WtMinImpactExeUnit_8h_source.html#l00148">148</a> 行定义.</p>

</div>
</div>
<a id="a6d9fc74513afeb0e00742960955fc823" name="a6d9fc74513afeb0e00742960955fc823"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d9fc74513afeb0e00742960955fc823">&#9670;&#160;</a></span>_qty_rate</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double WtMinImpactExeUnit::_qty_rate</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>下单数量比例，当_by_rate为true时生效 </p>

<p class="definition">在文件 <a class="el" href="WtMinImpactExeUnit_8h_source.html">WtMinImpactExeUnit.h</a> 第 <a class="el" href="WtMinImpactExeUnit_8h_source.html#l00160">160</a> 行定义.</p>

</div>
</div>
<a id="acf5e80ec2bd6e46756ae215480f6bd56" name="acf5e80ec2bd6e46756ae215480f6bd56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf5e80ec2bd6e46756ae215480f6bd56">&#9670;&#160;</a></span>_sess_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWTSSessionInfo.html">WTSSessionInfo</a>* WtMinImpactExeUnit::_sess_info</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>交易时间模板信息 </p>

<p class="definition">在文件 <a class="el" href="WtMinImpactExeUnit_8h_source.html">WtMinImpactExeUnit.h</a> 第 <a class="el" href="WtMinImpactExeUnit_8h_source.html#l00143">143</a> 行定义.</p>

</div>
</div>
<a id="a33e6e14d10b9a9eefe3d11710ab9a735" name="a33e6e14d10b9a9eefe3d11710ab9a735"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33e6e14d10b9a9eefe3d11710ab9a735">&#9670;&#160;</a></span>_target_pos</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double WtMinImpactExeUnit::_target_pos</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>目标仓位 </p>

<p class="definition">在文件 <a class="el" href="WtMinImpactExeUnit_8h_source.html">WtMinImpactExeUnit.h</a> 第 <a class="el" href="WtMinImpactExeUnit_8h_source.html#l00136">136</a> 行定义.</p>

</div>
</div>
<hr/>该类的文档由以下文件生成:<ul>
<li>src/WtExeFact/<a class="el" href="WtMinImpactExeUnit_8h_source.html">WtMinImpactExeUnit.h</a></li>
<li>src/WtExeFact/<a class="el" href="WtMinImpactExeUnit_8cpp_source.html">WtMinImpactExeUnit.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classWtMinImpactExeUnit.html">WtMinImpactExeUnit</a></li>
    <li class="footer">制作者 <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
