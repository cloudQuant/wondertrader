<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WonderTrader: CtaStraBaseCtx类 参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">WonderTrader<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">高性能量化交易平台</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classCtaStraBaseCtx.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">载入中...</div>
<div class="SRStatus" id="Searching">搜索中...</div>
<div class="SRStatus" id="NoMatches">未找到</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">类</a> &#124;
<a href="#pub-methods">Public 成员函数</a> &#124;
<a href="#pro-types">Protected 类型</a> &#124;
<a href="#pro-methods">Protected 成员函数</a> &#124;
<a href="#pro-attribs">Protected 属性</a> &#124;
<a href="#pri-methods">Private 成员函数</a> &#124;
<a href="#pri-attribs">Private 属性</a> &#124;
<a href="classCtaStraBaseCtx-members.html">所有成员列表</a>  </div>
  <div class="headertitle"><div class="title">CtaStraBaseCtx类 参考</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
类</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCtaStraBaseCtx_1_1__ChartIndex.html">_ChartIndex</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCtaStraBaseCtx_1_1__ChartLine.html">_ChartLine</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCtaStraBaseCtx_1_1__DetailInfo.html">_DetailInfo</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCtaStraBaseCtx_1_1__KlineTag.html">_KlineTag</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCtaStraBaseCtx_1_1__PosInfo.html">_PosInfo</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCtaStraBaseCtx_1_1__SigInfo.html">_SigInfo</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCtaStraBaseCtx_1_1__StraFundInfo.html">_StraFundInfo</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public 成员函数</h2></td></tr>
<tr class="memitem:aa7a6dcd324341b8b1d2440d116956b9a" id="r_aa7a6dcd324341b8b1d2440d116956b9a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#aa7a6dcd324341b8b1d2440d116956b9a">CtaStraBaseCtx</a> (<a class="el" href="classWtCtaEngine.html">WtCtaEngine</a> *engine, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *<a class="el" href="classICtaStraCtx.html#a5204938d188c461217d7d7069760e331">name</a>, int32_t slippage)</td></tr>
<tr class="memdesc:aa7a6dcd324341b8b1d2440d116956b9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">CtaStraBaseCtx构造函数  <br /></td></tr>
<tr class="separator:aa7a6dcd324341b8b1d2440d116956b9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef5551444764bae696a41e7b00e60f52" id="r_aef5551444764bae696a41e7b00e60f52"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#aef5551444764bae696a41e7b00e60f52">~CtaStraBaseCtx</a> ()</td></tr>
<tr class="memdesc:aef5551444764bae696a41e7b00e60f52"><td class="mdescLeft">&#160;</td><td class="mdescRight">CtaStraBaseCtx析构函数  <br /></td></tr>
<tr class="separator:aef5551444764bae696a41e7b00e60f52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cf7fa5e17c13de026e9b25b060131d6" id="r_a2cf7fa5e17c13de026e9b25b060131d6"><td class="memItemLeft" align="right" valign="top">virtual uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a2cf7fa5e17c13de026e9b25b060131d6">id</a> ()</td></tr>
<tr class="separator:a2cf7fa5e17c13de026e9b25b060131d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78cc15745fadea924ac05587e16f25fc" id="r_a78cc15745fadea924ac05587e16f25fc"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a78cc15745fadea924ac05587e16f25fc">on_init</a> () override</td></tr>
<tr class="memdesc:a78cc15745fadea924ac05587e16f25fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">策略初始化函数  <br /></td></tr>
<tr class="separator:a78cc15745fadea924ac05587e16f25fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57fcda634ad1dd709f051078adfd5a2a" id="r_a57fcda634ad1dd709f051078adfd5a2a"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a57fcda634ad1dd709f051078adfd5a2a">on_session_begin</a> (uint32_t uTDate) override</td></tr>
<tr class="memdesc:a57fcda634ad1dd709f051078adfd5a2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">交易日开始事件回调  <br /></td></tr>
<tr class="separator:a57fcda634ad1dd709f051078adfd5a2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b491816ce58a06a107a1df9e0e4fff6" id="r_a5b491816ce58a06a107a1df9e0e4fff6"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a5b491816ce58a06a107a1df9e0e4fff6">on_session_end</a> (uint32_t uTDate) override</td></tr>
<tr class="memdesc:a5b491816ce58a06a107a1df9e0e4fff6"><td class="mdescLeft">&#160;</td><td class="mdescRight">交易日结束事件回调  <br /></td></tr>
<tr class="separator:a5b491816ce58a06a107a1df9e0e4fff6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbfcc1f9efc49d6e41258b2de9d8f483" id="r_afbfcc1f9efc49d6e41258b2de9d8f483"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#afbfcc1f9efc49d6e41258b2de9d8f483">on_tick</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, <a class="el" href="classWTSTickData.html">WTSTickData</a> *newTick, bool bEmitStrategy=true) override</td></tr>
<tr class="memdesc:afbfcc1f9efc49d6e41258b2de9d8f483"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tick数据回调函数  <br /></td></tr>
<tr class="separator:afbfcc1f9efc49d6e41258b2de9d8f483"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87c83d37684244c9d49f7153659fbf10" id="r_a87c83d37684244c9d49f7153659fbf10"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a87c83d37684244c9d49f7153659fbf10">on_bar</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *period, uint32_t times, <a class="el" href="structWTSBarStruct.html">WTSBarStruct</a> *newBar) override</td></tr>
<tr class="memdesc:a87c83d37684244c9d49f7153659fbf10"><td class="mdescLeft">&#160;</td><td class="mdescRight">K线周期回调函数  <br /></td></tr>
<tr class="separator:a87c83d37684244c9d49f7153659fbf10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a911ebe5ef9bbcef092db776321ea35fb" id="r_a911ebe5ef9bbcef092db776321ea35fb"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a911ebe5ef9bbcef092db776321ea35fb">on_schedule</a> (uint32_t curDate, uint32_t curTime) override</td></tr>
<tr class="memdesc:a911ebe5ef9bbcef092db776321ea35fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">策略定时调度函数  <br /></td></tr>
<tr class="separator:a911ebe5ef9bbcef092db776321ea35fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9680355bf757697a3df2f0c203be394" id="r_aa9680355bf757697a3df2f0c203be394"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#aa9680355bf757697a3df2f0c203be394">enum_position</a> (<a class="el" href="ICtaStraCtx_8h.html#ae91c21a4f808e56c0dcf692873157a9e">FuncEnumCtaPosCallBack</a> cb, bool bForExecute=false) override</td></tr>
<tr class="memdesc:aa9680355bf757697a3df2f0c203be394"><td class="mdescLeft">&#160;</td><td class="mdescRight">枚举当前策略所有持仓  <br /></td></tr>
<tr class="separator:aa9680355bf757697a3df2f0c203be394"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8717a3daae34116b4b5dd83fa7af0d8" id="r_ad8717a3daae34116b4b5dd83fa7af0d8"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#ad8717a3daae34116b4b5dd83fa7af0d8">stra_enter_long</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, double qty, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *userTag=&quot;&quot;, double limitprice=0.0, double stopprice=0.0) override</td></tr>
<tr class="memdesc:ad8717a3daae34116b4b5dd83fa7af0d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">策略开多接口  <br /></td></tr>
<tr class="separator:ad8717a3daae34116b4b5dd83fa7af0d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88511e9d6026649c7eab5d3471b19b23" id="r_a88511e9d6026649c7eab5d3471b19b23"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a88511e9d6026649c7eab5d3471b19b23">stra_enter_short</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, double qty, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *userTag=&quot;&quot;, double limitprice=0.0, double stopprice=0.0) override</td></tr>
<tr class="memdesc:a88511e9d6026649c7eab5d3471b19b23"><td class="mdescLeft">&#160;</td><td class="mdescRight">策略开空接口  <br /></td></tr>
<tr class="separator:a88511e9d6026649c7eab5d3471b19b23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3878afe0eb1e673e039f4e7699ad285e" id="r_a3878afe0eb1e673e039f4e7699ad285e"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a3878afe0eb1e673e039f4e7699ad285e">stra_exit_long</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, double qty, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *userTag=&quot;&quot;, double limitprice=0.0, double stopprice=0.0) override</td></tr>
<tr class="memdesc:a3878afe0eb1e673e039f4e7699ad285e"><td class="mdescLeft">&#160;</td><td class="mdescRight">策略平多接口  <br /></td></tr>
<tr class="separator:a3878afe0eb1e673e039f4e7699ad285e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2595d42f5435284d8a55a7a56b912ec" id="r_ac2595d42f5435284d8a55a7a56b912ec"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#ac2595d42f5435284d8a55a7a56b912ec">stra_exit_short</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, double qty, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *userTag=&quot;&quot;, double limitprice=0.0, double stopprice=0.0) override</td></tr>
<tr class="memdesc:ac2595d42f5435284d8a55a7a56b912ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">策略平空接口  <br /></td></tr>
<tr class="separator:ac2595d42f5435284d8a55a7a56b912ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2692e018ba68097171d374e10f4d6de8" id="r_a2692e018ba68097171d374e10f4d6de8"><td class="memItemLeft" align="right" valign="top">virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a2692e018ba68097171d374e10f4d6de8">stra_get_position</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, bool bOnlyValid=false, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *userTag=&quot;&quot;) override</td></tr>
<tr class="memdesc:a2692e018ba68097171d374e10f4d6de8"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取合约持仓量  <br /></td></tr>
<tr class="separator:a2692e018ba68097171d374e10f4d6de8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a337c744bfefbae049be280207fda70ac" id="r_a337c744bfefbae049be280207fda70ac"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a337c744bfefbae049be280207fda70ac">stra_set_position</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, double qty, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *userTag=&quot;&quot;, double limitprice=0.0, double stopprice=0.0) override</td></tr>
<tr class="memdesc:a337c744bfefbae049be280207fda70ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置目标仓位  <br /></td></tr>
<tr class="separator:a337c744bfefbae049be280207fda70ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c688f82fc7cd9c5aa1161e9f13eff03" id="r_a2c688f82fc7cd9c5aa1161e9f13eff03"><td class="memItemLeft" align="right" valign="top">virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a2c688f82fc7cd9c5aa1161e9f13eff03">stra_get_price</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode) override</td></tr>
<tr class="memdesc:a2c688f82fc7cd9c5aa1161e9f13eff03"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取合约最新价格  <br /></td></tr>
<tr class="separator:a2c688f82fc7cd9c5aa1161e9f13eff03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab89ede397f0a0362ee1f4f9b771bea03" id="r_ab89ede397f0a0362ee1f4f9b771bea03"><td class="memItemLeft" align="right" valign="top">virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#ab89ede397f0a0362ee1f4f9b771bea03">stra_get_day_price</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, int flag=0) override</td></tr>
<tr class="separator:ab89ede397f0a0362ee1f4f9b771bea03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a849e50138035efddb7d615ddd97ed697" id="r_a849e50138035efddb7d615ddd97ed697"><td class="memItemLeft" align="right" valign="top">virtual uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a849e50138035efddb7d615ddd97ed697">stra_get_tdate</a> () override</td></tr>
<tr class="memdesc:a849e50138035efddb7d615ddd97ed697"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取当前交易日期  <br /></td></tr>
<tr class="separator:a849e50138035efddb7d615ddd97ed697"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec3ca104e88ed6a3c11ccb1ebc873b73" id="r_aec3ca104e88ed6a3c11ccb1ebc873b73"><td class="memItemLeft" align="right" valign="top">virtual uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#aec3ca104e88ed6a3c11ccb1ebc873b73">stra_get_date</a> () override</td></tr>
<tr class="memdesc:aec3ca104e88ed6a3c11ccb1ebc873b73"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取当前自然日期  <br /></td></tr>
<tr class="separator:aec3ca104e88ed6a3c11ccb1ebc873b73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a7a7f97c3d2e1d10915938513b992ce" id="r_a3a7a7f97c3d2e1d10915938513b992ce"><td class="memItemLeft" align="right" valign="top">virtual uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a3a7a7f97c3d2e1d10915938513b992ce">stra_get_time</a> () override</td></tr>
<tr class="memdesc:a3a7a7f97c3d2e1d10915938513b992ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取当前交易时间  <br /></td></tr>
<tr class="separator:a3a7a7f97c3d2e1d10915938513b992ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2829b3778fbbee14b92c8c3487806d38" id="r_a2829b3778fbbee14b92c8c3487806d38"><td class="memItemLeft" align="right" valign="top">virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a2829b3778fbbee14b92c8c3487806d38">stra_get_fund_data</a> (int flag) override</td></tr>
<tr class="memdesc:a2829b3778fbbee14b92c8c3487806d38"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取资金相关数据  <br /></td></tr>
<tr class="separator:a2829b3778fbbee14b92c8c3487806d38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52cb609a654e2be621850b45d131b099" id="r_a52cb609a654e2be621850b45d131b099"><td class="memItemLeft" align="right" valign="top">virtual uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a52cb609a654e2be621850b45d131b099">stra_get_first_entertime</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode) override</td></tr>
<tr class="memdesc:a52cb609a654e2be621850b45d131b099"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取合约首次入场时间  <br /></td></tr>
<tr class="separator:a52cb609a654e2be621850b45d131b099"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc33fa5dbd2e2ab53d07cdcc847d6cc9" id="r_abc33fa5dbd2e2ab53d07cdcc847d6cc9"><td class="memItemLeft" align="right" valign="top">virtual uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#abc33fa5dbd2e2ab53d07cdcc847d6cc9">stra_get_last_entertime</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode) override</td></tr>
<tr class="memdesc:abc33fa5dbd2e2ab53d07cdcc847d6cc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取合约最后一次入场时间  <br /></td></tr>
<tr class="separator:abc33fa5dbd2e2ab53d07cdcc847d6cc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a029010e4530892e715dfd0a14d0d0989" id="r_a029010e4530892e715dfd0a14d0d0989"><td class="memItemLeft" align="right" valign="top">virtual uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a029010e4530892e715dfd0a14d0d0989">stra_get_last_exittime</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode) override</td></tr>
<tr class="memdesc:a029010e4530892e715dfd0a14d0d0989"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取合约最近一次出场时间  <br /></td></tr>
<tr class="separator:a029010e4530892e715dfd0a14d0d0989"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84ded8f24ba7a83c0ad42bf1b872e59e" id="r_a84ded8f24ba7a83c0ad42bf1b872e59e"><td class="memItemLeft" align="right" valign="top">virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a84ded8f24ba7a83c0ad42bf1b872e59e">stra_get_last_enterprice</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode) override</td></tr>
<tr class="memdesc:a84ded8f24ba7a83c0ad42bf1b872e59e"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取合约最后一次入场价格  <br /></td></tr>
<tr class="separator:a84ded8f24ba7a83c0ad42bf1b872e59e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05e7bfde25a6b4bca40aae4e67550e98" id="r_a05e7bfde25a6b4bca40aae4e67550e98"><td class="memItemLeft" align="right" valign="top">virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a05e7bfde25a6b4bca40aae4e67550e98">stra_get_position_avgpx</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode) override</td></tr>
<tr class="memdesc:a05e7bfde25a6b4bca40aae4e67550e98"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取持仓均价  <br /></td></tr>
<tr class="separator:a05e7bfde25a6b4bca40aae4e67550e98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec37a6f5292f994491267d8eaf116d4b" id="r_aec37a6f5292f994491267d8eaf116d4b"><td class="memItemLeft" align="right" valign="top">virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#aec37a6f5292f994491267d8eaf116d4b">stra_get_position_profit</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode) override</td></tr>
<tr class="memdesc:aec37a6f5292f994491267d8eaf116d4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取持仓浮动盈亏  <br /></td></tr>
<tr class="separator:aec37a6f5292f994491267d8eaf116d4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5c4e7fb4772d2d59968c15cab94a737" id="r_ad5c4e7fb4772d2d59968c15cab94a737"><td class="memItemLeft" align="right" valign="top">virtual uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#ad5c4e7fb4772d2d59968c15cab94a737">stra_get_detail_entertime</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *userTag) override</td></tr>
<tr class="memdesc:ad5c4e7fb4772d2d59968c15cab94a737"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取指定标签持仓明细的入场时间  <br /></td></tr>
<tr class="separator:ad5c4e7fb4772d2d59968c15cab94a737"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0204b6e027caa6fedf03340112acc1cd" id="r_a0204b6e027caa6fedf03340112acc1cd"><td class="memItemLeft" align="right" valign="top">virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a0204b6e027caa6fedf03340112acc1cd">stra_get_detail_cost</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *userTag) override</td></tr>
<tr class="memdesc:a0204b6e027caa6fedf03340112acc1cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取指定标签持仓明细的开仓成本  <br /></td></tr>
<tr class="separator:a0204b6e027caa6fedf03340112acc1cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bd4d94640660d5a057a4ef97c58eb63" id="r_a2bd4d94640660d5a057a4ef97c58eb63"><td class="memItemLeft" align="right" valign="top">virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a2bd4d94640660d5a057a4ef97c58eb63">stra_get_detail_profit</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *userTag, int flag=0) override</td></tr>
<tr class="memdesc:a2bd4d94640660d5a057a4ef97c58eb63"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取指定标签持仓明细的盈亏  <br /></td></tr>
<tr class="separator:a2bd4d94640660d5a057a4ef97c58eb63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7a9d2d84e3ed4061127f81b72abe4ed" id="r_ad7a9d2d84e3ed4061127f81b72abe4ed"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classWTSCommodityInfo.html">WTSCommodityInfo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#ad7a9d2d84e3ed4061127f81b72abe4ed">stra_get_comminfo</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode) override</td></tr>
<tr class="memdesc:ad7a9d2d84e3ed4061127f81b72abe4ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取合约品种信息  <br /></td></tr>
<tr class="separator:ad7a9d2d84e3ed4061127f81b72abe4ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76060e7ff600428b9e57dcb596ccd109" id="r_a76060e7ff600428b9e57dcb596ccd109"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classWTSKlineSlice.html">WTSKlineSlice</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a76060e7ff600428b9e57dcb596ccd109">stra_get_bars</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *period, uint32_t count, bool isMain=false) override</td></tr>
<tr class="memdesc:a76060e7ff600428b9e57dcb596ccd109"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取合约历史K线数据  <br /></td></tr>
<tr class="separator:a76060e7ff600428b9e57dcb596ccd109"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83ae0a8ca0fbd2d8cbb3e5d566569ebc" id="r_a83ae0a8ca0fbd2d8cbb3e5d566569ebc"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classWTSTickSlice.html">WTSTickSlice</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a83ae0a8ca0fbd2d8cbb3e5d566569ebc">stra_get_ticks</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, uint32_t count) override</td></tr>
<tr class="memdesc:a83ae0a8ca0fbd2d8cbb3e5d566569ebc"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取合约Tick数据  <br /></td></tr>
<tr class="separator:a83ae0a8ca0fbd2d8cbb3e5d566569ebc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fed170462201f10336860ec67b65287" id="r_a5fed170462201f10336860ec67b65287"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classWTSTickData.html">WTSTickData</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a5fed170462201f10336860ec67b65287">stra_get_last_tick</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode) override</td></tr>
<tr class="memdesc:a5fed170462201f10336860ec67b65287"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取合约最新的Tick数据  <br /></td></tr>
<tr class="separator:a5fed170462201f10336860ec67b65287"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3b98513ecc174e1e56e66ffb0d351cc" id="r_aa3b98513ecc174e1e56e66ffb0d351cc"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#aa3b98513ecc174e1e56e66ffb0d351cc">stra_get_rawcode</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode) override</td></tr>
<tr class="memdesc:aa3b98513ecc174e1e56e66ffb0d351cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取合约原始代码  <br /></td></tr>
<tr class="separator:aa3b98513ecc174e1e56e66ffb0d351cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc323068923f5f6676340f846e4f19ed" id="r_afc323068923f5f6676340f846e4f19ed"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#afc323068923f5f6676340f846e4f19ed">stra_sub_ticks</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode) override</td></tr>
<tr class="memdesc:afc323068923f5f6676340f846e4f19ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">主动订阅合约的Tick数据  <br /></td></tr>
<tr class="separator:afc323068923f5f6676340f846e4f19ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52ba2a623f6c49b12496eda5da50ef7e" id="r_a52ba2a623f6c49b12496eda5da50ef7e"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a52ba2a623f6c49b12496eda5da50ef7e">stra_sub_bar_events</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *period) override</td></tr>
<tr class="memdesc:a52ba2a623f6c49b12496eda5da50ef7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">订阅K线事件通知  <br /></td></tr>
<tr class="separator:a52ba2a623f6c49b12496eda5da50ef7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd7488aa0ea59d672c116459bb5f9a0f" id="r_afd7488aa0ea59d672c116459bb5f9a0f"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#afd7488aa0ea59d672c116459bb5f9a0f">stra_log_info</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *message) override</td></tr>
<tr class="memdesc:afd7488aa0ea59d672c116459bb5f9a0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">记录信息级别的日志  <br /></td></tr>
<tr class="separator:afd7488aa0ea59d672c116459bb5f9a0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfab363a3b36a706cccfb695e6e7915a" id="r_adfab363a3b36a706cccfb695e6e7915a"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#adfab363a3b36a706cccfb695e6e7915a">stra_log_debug</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *message) override</td></tr>
<tr class="memdesc:adfab363a3b36a706cccfb695e6e7915a"><td class="mdescLeft">&#160;</td><td class="mdescRight">记录调试级别的日志  <br /></td></tr>
<tr class="separator:adfab363a3b36a706cccfb695e6e7915a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a683795df66adafcaa916ca13aefcbcf7" id="r_a683795df66adafcaa916ca13aefcbcf7"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a683795df66adafcaa916ca13aefcbcf7">stra_log_warn</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *message) override</td></tr>
<tr class="memdesc:a683795df66adafcaa916ca13aefcbcf7"><td class="mdescLeft">&#160;</td><td class="mdescRight">记录警告级别的日志  <br /></td></tr>
<tr class="separator:a683795df66adafcaa916ca13aefcbcf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a25504f120c63ab4646323c98bba16f" id="r_a8a25504f120c63ab4646323c98bba16f"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a8a25504f120c63ab4646323c98bba16f">stra_log_error</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *message) override</td></tr>
<tr class="memdesc:a8a25504f120c63ab4646323c98bba16f"><td class="mdescLeft">&#160;</td><td class="mdescRight">记录错误级别的日志  <br /></td></tr>
<tr class="separator:a8a25504f120c63ab4646323c98bba16f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5262916ccc3068bdc828928d2bb9179" id="r_ad5262916ccc3068bdc828928d2bb9179"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#ad5262916ccc3068bdc828928d2bb9179">stra_save_user_data</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *key, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *val) override</td></tr>
<tr class="memdesc:ad5262916ccc3068bdc828928d2bb9179"><td class="mdescLeft">&#160;</td><td class="mdescRight">保存策略用户数据  <br /></td></tr>
<tr class="separator:ad5262916ccc3068bdc828928d2bb9179"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b4ead7af019dcd4dd8bf53cc5e8dd2a" id="r_a5b4ead7af019dcd4dd8bf53cc5e8dd2a"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a5b4ead7af019dcd4dd8bf53cc5e8dd2a">stra_load_user_data</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *key, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *defVal=&quot;&quot;) override</td></tr>
<tr class="memdesc:a5b4ead7af019dcd4dd8bf53cc5e8dd2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">加载策略用户数据  <br /></td></tr>
<tr class="separator:a5b4ead7af019dcd4dd8bf53cc5e8dd2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a033428b76f88546035ca4dc768877845" id="r_a033428b76f88546035ca4dc768877845"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a033428b76f88546035ca4dc768877845">stra_get_last_entertag</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode) override</td></tr>
<tr class="memdesc:a033428b76f88546035ca4dc768877845"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取合约最近一次入场的标签  <br /></td></tr>
<tr class="separator:a033428b76f88546035ca4dc768877845"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3725c81ee7a4c6c35d64e5860e8eeec" id="r_af3725c81ee7a4c6c35d64e5860e8eeec"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#af3725c81ee7a4c6c35d64e5860e8eeec">set_chart_kline</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *period) override</td></tr>
<tr class="memdesc:af3725c81ee7a4c6c35d64e5860e8eeec"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置打印图表的K线信息  <br /></td></tr>
<tr class="separator:af3725c81ee7a4c6c35d64e5860e8eeec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2d3fbba5b24814834237c5fdd8579c9" id="r_ae2d3fbba5b24814834237c5fdd8579c9"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#ae2d3fbba5b24814834237c5fdd8579c9">add_chart_mark</a> (double <a class="el" href="demo__send__order_8cpp.html#a04f887fc8800d4727971dbb8eb550132">price</a>, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *icon, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *tag) override</td></tr>
<tr class="memdesc:ae2d3fbba5b24814834237c5fdd8579c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">在图表上添加标记  <br /></td></tr>
<tr class="separator:ae2d3fbba5b24814834237c5fdd8579c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e1a39562f4091feb26a32dbff987900" id="r_a9e1a39562f4091feb26a32dbff987900"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a9e1a39562f4091feb26a32dbff987900">register_index</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *idxName, uint32_t indexType) override</td></tr>
<tr class="memdesc:a9e1a39562f4091feb26a32dbff987900"><td class="mdescLeft">&#160;</td><td class="mdescRight">注册图表指标  <br /></td></tr>
<tr class="separator:a9e1a39562f4091feb26a32dbff987900"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad49a9eaade2e7ec0c19a1fcd5c4df5e4" id="r_ad49a9eaade2e7ec0c19a1fcd5c4df5e4"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#ad49a9eaade2e7ec0c19a1fcd5c4df5e4">register_index_line</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *idxName, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *lineName, uint32_t lineType) override</td></tr>
<tr class="memdesc:ad49a9eaade2e7ec0c19a1fcd5c4df5e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">注册指标线  <br /></td></tr>
<tr class="separator:ad49a9eaade2e7ec0c19a1fcd5c4df5e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0320c0d7716ff0c7e7ea6fa353f8457e" id="r_a0320c0d7716ff0c7e7ea6fa353f8457e"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a0320c0d7716ff0c7e7ea6fa353f8457e">add_index_baseline</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *idxName, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *lineName, double val) override</td></tr>
<tr class="memdesc:a0320c0d7716ff0c7e7ea6fa353f8457e"><td class="mdescLeft">&#160;</td><td class="mdescRight">添加指标线基准值  <br /></td></tr>
<tr class="separator:a0320c0d7716ff0c7e7ea6fa353f8457e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4784ed34bd1b0931a9e155e85a0aa211" id="r_a4784ed34bd1b0931a9e155e85a0aa211"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a4784ed34bd1b0931a9e155e85a0aa211">set_index_value</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *idxName, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *lineName, double val) override</td></tr>
<tr class="memdesc:a4784ed34bd1b0931a9e155e85a0aa211"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置指标线数据点值  <br /></td></tr>
<tr class="separator:a4784ed34bd1b0931a9e155e85a0aa211"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classICtaStraCtx"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classICtaStraCtx')"><img src="closed.png" alt="-"/>&#160;Public 成员函数 继承自 <a class="el" href="classICtaStraCtx.html">ICtaStraCtx</a></td></tr>
<tr class="memitem:ae5ba7d8eefc9766bedb28186f9517ef5 inherit pub_methods_classICtaStraCtx" id="r_ae5ba7d8eefc9766bedb28186f9517ef5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classICtaStraCtx.html#ae5ba7d8eefc9766bedb28186f9517ef5">ICtaStraCtx</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *<a class="el" href="classICtaStraCtx.html#a5204938d188c461217d7d7069760e331">name</a>)</td></tr>
<tr class="memdesc:ae5ba7d8eefc9766bedb28186f9517ef5 inherit pub_methods_classICtaStraCtx"><td class="mdescLeft">&#160;</td><td class="mdescRight">构造函数  <br /></td></tr>
<tr class="separator:ae5ba7d8eefc9766bedb28186f9517ef5 inherit pub_methods_classICtaStraCtx"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a967fc24a67690b92a4dbbfb9001f8234 inherit pub_methods_classICtaStraCtx" id="r_a967fc24a67690b92a4dbbfb9001f8234"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classICtaStraCtx.html#a967fc24a67690b92a4dbbfb9001f8234">~ICtaStraCtx</a> ()</td></tr>
<tr class="memdesc:a967fc24a67690b92a4dbbfb9001f8234 inherit pub_methods_classICtaStraCtx"><td class="mdescLeft">&#160;</td><td class="mdescRight">虚析构函数  <br /></td></tr>
<tr class="separator:a967fc24a67690b92a4dbbfb9001f8234 inherit pub_methods_classICtaStraCtx"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5204938d188c461217d7d7069760e331 inherit pub_methods_classICtaStraCtx" id="r_a5204938d188c461217d7d7069760e331"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classICtaStraCtx.html#a5204938d188c461217d7d7069760e331">name</a> () <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a></td></tr>
<tr class="memdesc:a5204938d188c461217d7d7069760e331 inherit pub_methods_classICtaStraCtx"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取策略名称  <br /></td></tr>
<tr class="separator:a5204938d188c461217d7d7069760e331 inherit pub_methods_classICtaStraCtx"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a492949ccaba9af4a54fcbaaa1b187a70 inherit pub_methods_classICtaStraCtx" id="r_a492949ccaba9af4a54fcbaaa1b187a70"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classICtaStraCtx.html#a492949ccaba9af4a54fcbaaa1b187a70">on_bactest_end</a> ()</td></tr>
<tr class="memdesc:a492949ccaba9af4a54fcbaaa1b187a70 inherit pub_methods_classICtaStraCtx"><td class="mdescLeft">&#160;</td><td class="mdescRight">回测结束事件  <br /></td></tr>
<tr class="separator:a492949ccaba9af4a54fcbaaa1b187a70 inherit pub_methods_classICtaStraCtx"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a853c7591a03f3879802ccff759c3c0 inherit pub_methods_classICtaStraCtx" id="r_a2a853c7591a03f3879802ccff759c3c0"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classICtaStraCtx.html#a2a853c7591a03f3879802ccff759c3c0">on_calculate_done</a> (uint32_t curDate, uint32_t curTime)</td></tr>
<tr class="memdesc:a2a853c7591a03f3879802ccff759c3c0 inherit pub_methods_classICtaStraCtx"><td class="mdescLeft">&#160;</td><td class="mdescRight">重算结束事件  <br /></td></tr>
<tr class="separator:a2a853c7591a03f3879802ccff759c3c0 inherit pub_methods_classICtaStraCtx"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f3f06688e59e7cdce455af9692ea05a inherit pub_methods_classICtaStraCtx" id="r_a8f3f06688e59e7cdce455af9692ea05a"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classICtaStraCtx.html#a8f3f06688e59e7cdce455af9692ea05a">on_bar_close</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *period, <a class="el" href="structWTSBarStruct.html">WTSBarStruct</a> *newBar)=0</td></tr>
<tr class="memdesc:a8f3f06688e59e7cdce455af9692ea05a inherit pub_methods_classICtaStraCtx"><td class="mdescLeft">&#160;</td><td class="mdescRight">K线周期结束时的回调  <br /></td></tr>
<tr class="separator:a8f3f06688e59e7cdce455af9692ea05a inherit pub_methods_classICtaStraCtx"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc148348095e40c77aa2ef7651b8261d inherit pub_methods_classICtaStraCtx" id="r_acc148348095e40c77aa2ef7651b8261d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classICtaStraCtx.html#acc148348095e40c77aa2ef7651b8261d">on_calculate</a> (uint32_t curDate, uint32_t curTime)=0</td></tr>
<tr class="memdesc:acc148348095e40c77aa2ef7651b8261d inherit pub_methods_classICtaStraCtx"><td class="mdescLeft">&#160;</td><td class="mdescRight">策略计算方法  <br /></td></tr>
<tr class="separator:acc148348095e40c77aa2ef7651b8261d inherit pub_methods_classICtaStraCtx"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ce99f9e6446e9e4d4120ae4d68ebd6b inherit pub_methods_classICtaStraCtx" id="r_a1ce99f9e6446e9e4d4120ae4d68ebd6b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classICtaStraCtx.html#a1ce99f9e6446e9e4d4120ae4d68ebd6b">on_tick_updated</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, <a class="el" href="classWTSTickData.html">WTSTickData</a> *newTick)</td></tr>
<tr class="memdesc:a1ce99f9e6446e9e4d4120ae4d68ebd6b inherit pub_methods_classICtaStraCtx"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tick数据更新事件  <br /></td></tr>
<tr class="separator:a1ce99f9e6446e9e4d4120ae4d68ebd6b inherit pub_methods_classICtaStraCtx"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a315ff16a763b101a043f57ea5921a517 inherit pub_methods_classICtaStraCtx" id="r_a315ff16a763b101a043f57ea5921a517"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classICtaStraCtx.html#a315ff16a763b101a043f57ea5921a517">on_condition_triggered</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, double target, double <a class="el" href="demo__send__order_8cpp.html#a04f887fc8800d4727971dbb8eb550132">price</a>, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *usertag)</td></tr>
<tr class="memdesc:a315ff16a763b101a043f57ea5921a517 inherit pub_methods_classICtaStraCtx"><td class="mdescLeft">&#160;</td><td class="mdescRight">条件触发事件  <br /></td></tr>
<tr class="separator:a315ff16a763b101a043f57ea5921a517 inherit pub_methods_classICtaStraCtx"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-types" name="pro-types"></a>
Protected 类型</h2></td></tr>
<tr class="memitem:ac1d7426baf2a0692c15d6d159ea02b34" id="r_ac1d7426baf2a0692c15d6d159ea02b34"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structCtaStraBaseCtx_1_1__KlineTag.html">CtaStraBaseCtx::_KlineTag</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#ac1d7426baf2a0692c15d6d159ea02b34">KlineTag</a></td></tr>
<tr class="separator:ac1d7426baf2a0692c15d6d159ea02b34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e4a9abc043810954e711e1f3e3c5238" id="r_a8e4a9abc043810954e711e1f3e3c5238"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classwt__hashmap.html">wt_hashmap</a>&lt; std::string, <a class="el" href="classCtaStraBaseCtx.html#ac1d7426baf2a0692c15d6d159ea02b34">KlineTag</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a8e4a9abc043810954e711e1f3e3c5238">KlineTags</a></td></tr>
<tr class="separator:a8e4a9abc043810954e711e1f3e3c5238"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14f29305d53e10fd120397e62d567fdc" id="r_a14f29305d53e10fd120397e62d567fdc"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classwt__hashmap.html">wt_hashmap</a>&lt; std::string, double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a14f29305d53e10fd120397e62d567fdc">PriceMap</a></td></tr>
<tr class="separator:a14f29305d53e10fd120397e62d567fdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57ffce288513289441352af1143cb446" id="r_a57ffce288513289441352af1143cb446"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structCtaStraBaseCtx_1_1__DetailInfo.html">CtaStraBaseCtx::_DetailInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a57ffce288513289441352af1143cb446">DetailInfo</a></td></tr>
<tr class="separator:a57ffce288513289441352af1143cb446"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc3cf14e57f046a5e5fe0fb8c0a1a621" id="r_abc3cf14e57f046a5e5fe0fb8c0a1a621"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structCtaStraBaseCtx_1_1__PosInfo.html">CtaStraBaseCtx::_PosInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#abc3cf14e57f046a5e5fe0fb8c0a1a621">PosInfo</a></td></tr>
<tr class="separator:abc3cf14e57f046a5e5fe0fb8c0a1a621"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99c8d9dd3780cfab8d66782f0f378034" id="r_a99c8d9dd3780cfab8d66782f0f378034"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classwt__hashmap.html">wt_hashmap</a>&lt; std::string, <a class="el" href="classCtaStraBaseCtx.html#abc3cf14e57f046a5e5fe0fb8c0a1a621">PosInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a99c8d9dd3780cfab8d66782f0f378034">PositionMap</a></td></tr>
<tr class="separator:a99c8d9dd3780cfab8d66782f0f378034"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd83a4e02006558891b2c88b2e4c1af8" id="r_acd83a4e02006558891b2c88b2e4c1af8"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structCtaStraBaseCtx_1_1__SigInfo.html">CtaStraBaseCtx::_SigInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#acd83a4e02006558891b2c88b2e4c1af8">SigInfo</a></td></tr>
<tr class="separator:acd83a4e02006558891b2c88b2e4c1af8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fd2321559d3e14c8dd3c4436f0c59ae" id="r_a4fd2321559d3e14c8dd3c4436f0c59ae"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classwt__hashmap.html">wt_hashmap</a>&lt; std::string, <a class="el" href="classCtaStraBaseCtx.html#acd83a4e02006558891b2c88b2e4c1af8">SigInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a4fd2321559d3e14c8dd3c4436f0c59ae">SignalMap</a></td></tr>
<tr class="separator:a4fd2321559d3e14c8dd3c4436f0c59ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1534af884c693facfe18e960a031c05" id="r_ae1534af884c693facfe18e960a031c05"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classwt__hashmap.html">wt_hashmap</a>&lt; std::string, std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#ae1534af884c693facfe18e960a031c05">StringHashMap</a></td></tr>
<tr class="separator:ae1534af884c693facfe18e960a031c05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6b704f4f192ed9b41a19ddc8465abad" id="r_af6b704f4f192ed9b41a19ddc8465abad"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structCtaStraBaseCtx_1_1__StraFundInfo.html">CtaStraBaseCtx::_StraFundInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#af6b704f4f192ed9b41a19ddc8465abad">StraFundInfo</a></td></tr>
<tr class="separator:af6b704f4f192ed9b41a19ddc8465abad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa431b9504a3f5a88553c8adf43fe079e" id="r_aa431b9504a3f5a88553c8adf43fe079e"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structCtaStraBaseCtx_1_1__ChartLine.html">CtaStraBaseCtx::_ChartLine</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#aa431b9504a3f5a88553c8adf43fe079e">ChartLine</a></td></tr>
<tr class="separator:aa431b9504a3f5a88553c8adf43fe079e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa70762182d66ff2b452f2663971efc2a" id="r_aa70762182d66ff2b452f2663971efc2a"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structCtaStraBaseCtx_1_1__ChartIndex.html">CtaStraBaseCtx::_ChartIndex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#aa70762182d66ff2b452f2663971efc2a">ChartIndex</a></td></tr>
<tr class="separator:aa70762182d66ff2b452f2663971efc2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected 成员函数</h2></td></tr>
<tr class="memitem:a5cdef4f2b3f11364fa9955194d3fd42e" id="r_a5cdef4f2b3f11364fa9955194d3fd42e"><td class="memTemplParams" colspan="2">template&lt;typename... Args&gt; </td></tr>
<tr class="memitem:a5cdef4f2b3f11364fa9955194d3fd42e"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a5cdef4f2b3f11364fa9955194d3fd42e">log_debug</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *format, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> Args &amp;...args)</td></tr>
<tr class="separator:a5cdef4f2b3f11364fa9955194d3fd42e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7ff72f926459af8d5af9d8377b80c61" id="r_ad7ff72f926459af8d5af9d8377b80c61"><td class="memTemplParams" colspan="2">template&lt;typename... Args&gt; </td></tr>
<tr class="memitem:ad7ff72f926459af8d5af9d8377b80c61"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#ad7ff72f926459af8d5af9d8377b80c61">log_info</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *format, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> Args &amp;...args)</td></tr>
<tr class="separator:ad7ff72f926459af8d5af9d8377b80c61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47ed68449f11c50bec673babefb6e2c8" id="r_a47ed68449f11c50bec673babefb6e2c8"><td class="memTemplParams" colspan="2">template&lt;typename... Args&gt; </td></tr>
<tr class="memitem:a47ed68449f11c50bec673babefb6e2c8"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a47ed68449f11c50bec673babefb6e2c8">log_error</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *format, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> Args &amp;...args)</td></tr>
<tr class="separator:a47ed68449f11c50bec673babefb6e2c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86630d7490f116462d00060c4b6cccae" id="r_a86630d7490f116462d00060c4b6cccae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a86630d7490f116462d00060c4b6cccae">dump_chart_info</a> ()</td></tr>
<tr class="memdesc:a86630d7490f116462d00060c4b6cccae"><td class="mdescLeft">&#160;</td><td class="mdescRight">导出图表信息到JSON  <br /></td></tr>
<tr class="separator:a86630d7490f116462d00060c4b6cccae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected 属性</h2></td></tr>
<tr class="memitem:a929dbbc2e7be49a5e3bc4d7aeb6ce76c" id="r_a929dbbc2e7be49a5e3bc4d7aeb6ce76c"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a929dbbc2e7be49a5e3bc4d7aeb6ce76c">_context_id</a></td></tr>
<tr class="separator:a929dbbc2e7be49a5e3bc4d7aeb6ce76c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87f857645b19cf867ae71b2669de32ec" id="r_a87f857645b19cf867ae71b2669de32ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classWtCtaEngine.html">WtCtaEngine</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a87f857645b19cf867ae71b2669de32ec">_engine</a></td></tr>
<tr class="separator:a87f857645b19cf867ae71b2669de32ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79dadc53b825ce7cd88c79682f3eac84" id="r_a79dadc53b825ce7cd88c79682f3eac84"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a79dadc53b825ce7cd88c79682f3eac84">_slippage</a></td></tr>
<tr class="separator:a79dadc53b825ce7cd88c79682f3eac84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e6d42cde991978ebdee12f72227657c" id="r_a0e6d42cde991978ebdee12f72227657c"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a0e6d42cde991978ebdee12f72227657c">_total_calc_time</a></td></tr>
<tr class="separator:a0e6d42cde991978ebdee12f72227657c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae98a56cef5be34c35183b02647bc43e4" id="r_ae98a56cef5be34c35183b02647bc43e4"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#ae98a56cef5be34c35183b02647bc43e4">_emit_times</a></td></tr>
<tr class="separator:ae98a56cef5be34c35183b02647bc43e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d63a6a9f25fbc7f28d91a17ce6684bf" id="r_a5d63a6a9f25fbc7f28d91a17ce6684bf"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a5d63a6a9f25fbc7f28d91a17ce6684bf">_main_key</a></td></tr>
<tr class="separator:a5d63a6a9f25fbc7f28d91a17ce6684bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e4a5491e29ec7077b85af7263e5f40c" id="r_a8e4a5491e29ec7077b85af7263e5f40c"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a8e4a5491e29ec7077b85af7263e5f40c">_main_code</a></td></tr>
<tr class="separator:a8e4a5491e29ec7077b85af7263e5f40c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95538cfa7bf89da8f2e41473bc8c1aef" id="r_a95538cfa7bf89da8f2e41473bc8c1aef"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a95538cfa7bf89da8f2e41473bc8c1aef">_main_period</a></td></tr>
<tr class="separator:a95538cfa7bf89da8f2e41473bc8c1aef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adad8b4f16b109894bfe07a4d99816ac6" id="r_adad8b4f16b109894bfe07a4d99816ac6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCtaStraBaseCtx.html#a8e4a9abc043810954e711e1f3e3c5238">KlineTags</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#adad8b4f16b109894bfe07a4d99816ac6">_kline_tags</a></td></tr>
<tr class="separator:adad8b4f16b109894bfe07a4d99816ac6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6611807765a172618d2b88944ccc317" id="r_af6611807765a172618d2b88944ccc317"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCtaStraBaseCtx.html#a14f29305d53e10fd120397e62d567fdc">PriceMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#af6611807765a172618d2b88944ccc317">_price_map</a></td></tr>
<tr class="separator:af6611807765a172618d2b88944ccc317"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a294d9738e71223b11aee1f6d4e5d025f" id="r_a294d9738e71223b11aee1f6d4e5d025f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCtaStraBaseCtx.html#a99c8d9dd3780cfab8d66782f0f378034">PositionMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a294d9738e71223b11aee1f6d4e5d025f">_pos_map</a></td></tr>
<tr class="separator:a294d9738e71223b11aee1f6d4e5d025f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44bee555501927044ec8211b4613336a" id="r_a44bee555501927044ec8211b4613336a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCtaStraBaseCtx.html#a4fd2321559d3e14c8dd3c4436f0c59ae">SignalMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a44bee555501927044ec8211b4613336a">_sig_map</a></td></tr>
<tr class="separator:a44bee555501927044ec8211b4613336a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a46303295de3731e64cab58635a8102" id="r_a1a46303295de3731e64cab58635a8102"><td class="memItemLeft" align="right" valign="top"><a class="el" href="BoostFile_8hpp.html#a596e60eb12117122d44c36f261d58a04">BoostFilePtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a1a46303295de3731e64cab58635a8102">_trade_logs</a></td></tr>
<tr class="separator:a1a46303295de3731e64cab58635a8102"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa7a5c2c6af651cf214a0d9f3f69d1cc" id="r_afa7a5c2c6af651cf214a0d9f3f69d1cc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="BoostFile_8hpp.html#a596e60eb12117122d44c36f261d58a04">BoostFilePtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#afa7a5c2c6af651cf214a0d9f3f69d1cc">_close_logs</a></td></tr>
<tr class="separator:afa7a5c2c6af651cf214a0d9f3f69d1cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ed6da1895ed9859533d45f2d1ebfb37" id="r_a5ed6da1895ed9859533d45f2d1ebfb37"><td class="memItemLeft" align="right" valign="top"><a class="el" href="BoostFile_8hpp.html#a596e60eb12117122d44c36f261d58a04">BoostFilePtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a5ed6da1895ed9859533d45f2d1ebfb37">_fund_logs</a></td></tr>
<tr class="separator:a5ed6da1895ed9859533d45f2d1ebfb37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a382a7e64af1e3c2e30cfc4d7fc73bf6c" id="r_a382a7e64af1e3c2e30cfc4d7fc73bf6c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="BoostFile_8hpp.html#a596e60eb12117122d44c36f261d58a04">BoostFilePtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a382a7e64af1e3c2e30cfc4d7fc73bf6c">_sig_logs</a></td></tr>
<tr class="separator:a382a7e64af1e3c2e30cfc4d7fc73bf6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae111d3e6bdc504c392f47b67b3a2889a" id="r_ae111d3e6bdc504c392f47b67b3a2889a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="BoostFile_8hpp.html#a596e60eb12117122d44c36f261d58a04">BoostFilePtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#ae111d3e6bdc504c392f47b67b3a2889a">_pos_logs</a></td></tr>
<tr class="separator:ae111d3e6bdc504c392f47b67b3a2889a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabddba701ecabb73f23b2c4e747e4910" id="r_aabddba701ecabb73f23b2c4e747e4910"><td class="memItemLeft" align="right" valign="top"><a class="el" href="BoostFile_8hpp.html#a596e60eb12117122d44c36f261d58a04">BoostFilePtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#aabddba701ecabb73f23b2c4e747e4910">_idx_logs</a></td></tr>
<tr class="separator:aabddba701ecabb73f23b2c4e747e4910"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acecd7e1a5bb012b218b74aa7694e8c4a" id="r_acecd7e1a5bb012b218b74aa7694e8c4a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="BoostFile_8hpp.html#a596e60eb12117122d44c36f261d58a04">BoostFilePtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#acecd7e1a5bb012b218b74aa7694e8c4a">_mark_logs</a></td></tr>
<tr class="separator:acecd7e1a5bb012b218b74aa7694e8c4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a422fc3776735382336a59aa72c12cd3f" id="r_a422fc3776735382336a59aa72c12cd3f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="CtaStraBaseCtx_8h.html#a4f907939e222c805bb69004f7be6e6c6">CondEntrustMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a422fc3776735382336a59aa72c12cd3f">_condtions</a></td></tr>
<tr class="separator:a422fc3776735382336a59aa72c12cd3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7498e34161a86c0cbbeda30b38ebb51f" id="r_a7498e34161a86c0cbbeda30b38ebb51f"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a7498e34161a86c0cbbeda30b38ebb51f">_last_cond_min</a></td></tr>
<tr class="separator:a7498e34161a86c0cbbeda30b38ebb51f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a699af77e2018ce2173d08e45be2e2256" id="r_a699af77e2018ce2173d08e45be2e2256"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a699af77e2018ce2173d08e45be2e2256">_last_barno</a></td></tr>
<tr class="separator:a699af77e2018ce2173d08e45be2e2256"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8479d39c878f28b2e277c6baa4d75e58" id="r_a8479d39c878f28b2e277c6baa4d75e58"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a8479d39c878f28b2e277c6baa4d75e58">_is_in_schedule</a></td></tr>
<tr class="separator:a8479d39c878f28b2e277c6baa4d75e58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf9ec48c204f812704755776ce488d74" id="r_adf9ec48c204f812704755776ce488d74"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCtaStraBaseCtx.html#ae1534af884c693facfe18e960a031c05">StringHashMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#adf9ec48c204f812704755776ce488d74">_user_datas</a></td></tr>
<tr class="separator:adf9ec48c204f812704755776ce488d74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af340dda49495f9157fd73a919ca1f9f3" id="r_af340dda49495f9157fd73a919ca1f9f3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#af340dda49495f9157fd73a919ca1f9f3">_ud_modified</a></td></tr>
<tr class="separator:af340dda49495f9157fd73a919ca1f9f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dae71cb2822d3883b9f4451aade0353" id="r_a0dae71cb2822d3883b9f4451aade0353"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCtaStraBaseCtx.html#af6b704f4f192ed9b41a19ddc8465abad">StraFundInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a0dae71cb2822d3883b9f4451aade0353">_fund_info</a></td></tr>
<tr class="separator:a0dae71cb2822d3883b9f4451aade0353"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dc4d371b87abb3a2c508035862382d3" id="r_a0dc4d371b87abb3a2c508035862382d3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classwt__hashset.html">wt_hashset</a>&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a0dc4d371b87abb3a2c508035862382d3">_tick_subs</a></td></tr>
<tr class="separator:a0dc4d371b87abb3a2c508035862382d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21a80a07cdfbc55733c8fd2bea88f9fb" id="r_a21a80a07cdfbc55733c8fd2bea88f9fb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classwt__hashset.html">wt_hashset</a>&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a21a80a07cdfbc55733c8fd2bea88f9fb">_barevt_subs</a></td></tr>
<tr class="separator:a21a80a07cdfbc55733c8fd2bea88f9fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13f71d4696010ca0426cf5ba4e3cd476" id="r_a13f71d4696010ca0426cf5ba4e3cd476"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a13f71d4696010ca0426cf5ba4e3cd476">_chart_code</a></td></tr>
<tr class="separator:a13f71d4696010ca0426cf5ba4e3cd476"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a082249915919cc74584b5b99b02745e3" id="r_a082249915919cc74584b5b99b02745e3"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a082249915919cc74584b5b99b02745e3">_chart_period</a></td></tr>
<tr class="separator:a082249915919cc74584b5b99b02745e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e092d52d77385bf693d48b00781960a" id="r_a8e092d52d77385bf693d48b00781960a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classwt__hashmap.html">wt_hashmap</a>&lt; std::string, <a class="el" href="classCtaStraBaseCtx.html#aa70762182d66ff2b452f2663971efc2a">ChartIndex</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a8e092d52d77385bf693d48b00781960a">_chart_indice</a></td></tr>
<tr class="separator:a8e092d52d77385bf693d48b00781960a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classICtaStraCtx"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classICtaStraCtx')"><img src="closed.png" alt="-"/>&#160;Protected 属性 继承自 <a class="el" href="classICtaStraCtx.html">ICtaStraCtx</a></td></tr>
<tr class="memitem:a6517c64cce7027b4d79e0503bbc36baf inherit pro_attribs_classICtaStraCtx" id="r_a6517c64cce7027b4d79e0503bbc36baf"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classICtaStraCtx.html#a6517c64cce7027b4d79e0503bbc36baf">_name</a></td></tr>
<tr class="memdesc:a6517c64cce7027b4d79e0503bbc36baf inherit pro_attribs_classICtaStraCtx"><td class="mdescLeft">&#160;</td><td class="mdescRight">策略名称  <br /></td></tr>
<tr class="separator:a6517c64cce7027b4d79e0503bbc36baf inherit pro_attribs_classICtaStraCtx"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private 成员函数</h2></td></tr>
<tr class="memitem:a0331dee5fa340b2c5eac19a177c0f080" id="r_a0331dee5fa340b2c5eac19a177c0f080"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a0331dee5fa340b2c5eac19a177c0f080">init_outputs</a> ()</td></tr>
<tr class="memdesc:a0331dee5fa340b2c5eac19a177c0f080"><td class="mdescLeft">&#160;</td><td class="mdescRight">初始化日志输出文件  <br /></td></tr>
<tr class="separator:a0331dee5fa340b2c5eac19a177c0f080"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a390b07f38ec0a7c62e54185421a2f1" id="r_a5a390b07f38ec0a7c62e54185421a2f1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a5a390b07f38ec0a7c62e54185421a2f1">log_signal</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, double target, double <a class="el" href="demo__send__order_8cpp.html#a04f887fc8800d4727971dbb8eb550132">price</a>, uint64_t gentime, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *usertag=&quot;&quot;)</td></tr>
<tr class="memdesc:a5a390b07f38ec0a7c62e54185421a2f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">记录交易信号日志  <br /></td></tr>
<tr class="separator:a5a390b07f38ec0a7c62e54185421a2f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38a58378410ab8c3da4b82dd158988bc" id="r_a38a58378410ab8c3da4b82dd158988bc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a38a58378410ab8c3da4b82dd158988bc">log_trade</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, bool isLong, bool isOpen, uint64_t curTime, double <a class="el" href="demo__send__order_8cpp.html#a04f887fc8800d4727971dbb8eb550132">price</a>, double qty, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *userTag=&quot;&quot;, double fee=0.0, uint32_t barNo=0)</td></tr>
<tr class="memdesc:a38a58378410ab8c3da4b82dd158988bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">记录单笔交易明细  <br /></td></tr>
<tr class="separator:a38a58378410ab8c3da4b82dd158988bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acab7a0ba62347b7d2291d139427a0f6b" id="r_acab7a0ba62347b7d2291d139427a0f6b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#acab7a0ba62347b7d2291d139427a0f6b">log_close</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, bool isLong, uint64_t openTime, double openpx, uint64_t closeTime, double closepx, double qty, double profit, double totalprofit=0, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *enterTag=&quot;&quot;, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *exitTag=&quot;&quot;, uint32_t openBarNo=0, uint32_t closeBarNo=0)</td></tr>
<tr class="memdesc:acab7a0ba62347b7d2291d139427a0f6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">记录平仓明细日志  <br /></td></tr>
<tr class="separator:acab7a0ba62347b7d2291d139427a0f6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04a7f147f39d5a15d5f6dea189fc00e6" id="r_a04a7f147f39d5a15d5f6dea189fc00e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a04a7f147f39d5a15d5f6dea189fc00e6">save_data</a> (uint32_t flag=0xFFFFFFFF)</td></tr>
<tr class="memdesc:a04a7f147f39d5a15d5f6dea189fc00e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">保存策略数据到JSON文件  <br /></td></tr>
<tr class="separator:a04a7f147f39d5a15d5f6dea189fc00e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a056e78353d18158b0969c814e5c48ce3" id="r_a056e78353d18158b0969c814e5c48ce3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a056e78353d18158b0969c814e5c48ce3">load_data</a> (uint32_t flag=0xFFFFFFFF)</td></tr>
<tr class="memdesc:a056e78353d18158b0969c814e5c48ce3"><td class="mdescLeft">&#160;</td><td class="mdescRight">加载策略历史数据  <br /></td></tr>
<tr class="separator:a056e78353d18158b0969c814e5c48ce3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05bf09cda900b4b5e9a8e728cd9e5eb7" id="r_a05bf09cda900b4b5e9a8e728cd9e5eb7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a05bf09cda900b4b5e9a8e728cd9e5eb7">load_userdata</a> ()</td></tr>
<tr class="memdesc:a05bf09cda900b4b5e9a8e728cd9e5eb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">从JSON文件加载用户自定义数据  <br /></td></tr>
<tr class="separator:a05bf09cda900b4b5e9a8e728cd9e5eb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b16d1617432e33f2970d0179a4d8adf" id="r_a0b16d1617432e33f2970d0179a4d8adf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a0b16d1617432e33f2970d0179a4d8adf">save_userdata</a> ()</td></tr>
<tr class="memdesc:a0b16d1617432e33f2970d0179a4d8adf"><td class="mdescLeft">&#160;</td><td class="mdescRight">保存用户自定义数据到JSON文件  <br /></td></tr>
<tr class="separator:a0b16d1617432e33f2970d0179a4d8adf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c8f1e8507aa3d38df78b1dd8bd41224" id="r_a3c8f1e8507aa3d38df78b1dd8bd41224"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a3c8f1e8507aa3d38df78b1dd8bd41224">update_dyn_profit</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, double <a class="el" href="demo__send__order_8cpp.html#a04f887fc8800d4727971dbb8eb550132">price</a>)</td></tr>
<tr class="memdesc:a3c8f1e8507aa3d38df78b1dd8bd41224"><td class="mdescLeft">&#160;</td><td class="mdescRight">更新合约浮动盈亏  <br /></td></tr>
<tr class="separator:a3c8f1e8507aa3d38df78b1dd8bd41224"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1ec74d3b070bbe0e61d5ad00d37397d" id="r_ad1ec74d3b070bbe0e61d5ad00d37397d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#ad1ec74d3b070bbe0e61d5ad00d37397d">do_set_position</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, double qty, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *userTag=&quot;&quot;, bool bFireAtOnce=false)</td></tr>
<tr class="memdesc:ad1ec74d3b070bbe0e61d5ad00d37397d"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置策略持仓量  <br /></td></tr>
<tr class="separator:ad1ec74d3b070bbe0e61d5ad00d37397d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bba2937da9fdfd514634db7df9d6984" id="r_a6bba2937da9fdfd514634db7df9d6984"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a6bba2937da9fdfd514634db7df9d6984">append_signal</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, double qty, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *userTag=&quot;&quot;, uint32_t sigType=0)</td></tr>
<tr class="memdesc:a6bba2937da9fdfd514634db7df9d6984"><td class="mdescLeft">&#160;</td><td class="mdescRight">添加交易信号  <br /></td></tr>
<tr class="separator:a6bba2937da9fdfd514634db7df9d6984"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8c1f85734c844526c86f7a492241c19" id="r_ab8c1f85734c844526c86f7a492241c19"><td class="memItemLeft" align="right" valign="top"><a class="el" href="CtaStraBaseCtx_8h.html#a554586e84eb02c2dd968b6cbb4af59ef">CondList</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#ab8c1f85734c844526c86f7a492241c19">get_cond_entrusts</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode)</td></tr>
<tr class="memdesc:ab8c1f85734c844526c86f7a492241c19"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取指定合约的条件单列表  <br /></td></tr>
<tr class="separator:ab8c1f85734c844526c86f7a492241c19"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private 属性</h2></td></tr>
<tr class="memitem:a1c3abc087338edbfd33407ccf4d9c6db" id="r_a1c3abc087338edbfd33407ccf4d9c6db"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSpinMutex.html">SpinMutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCtaStraBaseCtx.html#a1c3abc087338edbfd33407ccf4d9c6db">_mutex</a></td></tr>
<tr class="separator:a1c3abc087338edbfd33407ccf4d9c6db"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<div class="textblock"><p>CTA策略基础上下文类</p>
<p>该类继承自ICtaStraCtx接口，实现了CTA策略所需的各种功能，包括：</p><ul>
<li>信号记录与管理</li>
<li>交易执行与记录</li>
<li>仓位管理</li>
<li>数据访问</li>
<li>日志记录</li>
<li>用户数据存储</li>
<li>图表与指标管理 </li>
</ul>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l00079">79</a> 行定义.</p>
</div><h2 class="groupheader">成员类型定义说明</h2>
<a id="aa70762182d66ff2b452f2663971efc2a" name="aa70762182d66ff2b452f2663971efc2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa70762182d66ff2b452f2663971efc2a">&#9670;&#160;</a></span>ChartIndex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structCtaStraBaseCtx_1_1__ChartIndex.html">CtaStraBaseCtx::_ChartIndex</a> <a class="el" href="classCtaStraBaseCtx.html#aa70762182d66ff2b452f2663971efc2a">CtaStraBaseCtx::ChartIndex</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>图表指标结构体 用于定义图表中的技术指标 </p>

</div>
</div>
<a id="aa431b9504a3f5a88553c8adf43fe079e" name="aa431b9504a3f5a88553c8adf43fe079e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa431b9504a3f5a88553c8adf43fe079e">&#9670;&#160;</a></span>ChartLine</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structCtaStraBaseCtx_1_1__ChartLine.html">CtaStraBaseCtx::_ChartLine</a> <a class="el" href="classCtaStraBaseCtx.html#aa431b9504a3f5a88553c8adf43fe079e">CtaStraBaseCtx::ChartLine</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>图表线条结构体 用于定义图表中的指标线条 </p>

</div>
</div>
<a id="a57ffce288513289441352af1143cb446" name="a57ffce288513289441352af1143cb446"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57ffce288513289441352af1143cb446">&#9670;&#160;</a></span>DetailInfo</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structCtaStraBaseCtx_1_1__DetailInfo.html">CtaStraBaseCtx::_DetailInfo</a> <a class="el" href="classCtaStraBaseCtx.html#a57ffce288513289441352af1143cb446">CtaStraBaseCtx::DetailInfo</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>详细交易信息结构体 用于记录单笔交易的详细信息，包括开仓价格、数量、时间及损盈等 </p>

</div>
</div>
<a id="ac1d7426baf2a0692c15d6d159ea02b34" name="ac1d7426baf2a0692c15d6d159ea02b34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1d7426baf2a0692c15d6d159ea02b34">&#9670;&#160;</a></span>KlineTag</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structCtaStraBaseCtx_1_1__KlineTag.html">CtaStraBaseCtx::_KlineTag</a> <a class="el" href="classCtaStraBaseCtx.html#ac1d7426baf2a0692c15d6d159ea02b34">CtaStraBaseCtx::KlineTag</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>K线标签结构体 用于记录K线的状态信息 </p>

</div>
</div>
<a id="a8e4a9abc043810954e711e1f3e3c5238" name="a8e4a9abc043810954e711e1f3e3c5238"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e4a9abc043810954e711e1f3e3c5238">&#9670;&#160;</a></span>KlineTags</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classwt__hashmap.html">wt_hashmap</a>&lt;std::string, <a class="el" href="classCtaStraBaseCtx.html#ac1d7426baf2a0692c15d6d159ea02b34">KlineTag</a>&gt; <a class="el" href="classCtaStraBaseCtx.html#a8e4a9abc043810954e711e1f3e3c5238">CtaStraBaseCtx::KlineTags</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>K线标签映射类型 使用哈希表存储不同合约和周期的K线状态信息 键为合约代码和周期的组合，值为K线标签信息 </p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l00702">702</a> 行定义.</p>

</div>
</div>
<a id="abc3cf14e57f046a5e5fe0fb8c0a1a621" name="abc3cf14e57f046a5e5fe0fb8c0a1a621"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc3cf14e57f046a5e5fe0fb8c0a1a621">&#9670;&#160;</a></span>PosInfo</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structCtaStraBaseCtx_1_1__PosInfo.html">CtaStraBaseCtx::_PosInfo</a> <a class="el" href="classCtaStraBaseCtx.html#abc3cf14e57f046a5e5fe0fb8c0a1a621">CtaStraBaseCtx::PosInfo</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>仓位信息结构体 用于记录策略对某个合约的整体持仓信息 </p>

</div>
</div>
<a id="a99c8d9dd3780cfab8d66782f0f378034" name="a99c8d9dd3780cfab8d66782f0f378034"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99c8d9dd3780cfab8d66782f0f378034">&#9670;&#160;</a></span>PositionMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classwt__hashmap.html">wt_hashmap</a>&lt;std::string, <a class="el" href="classCtaStraBaseCtx.html#abc3cf14e57f046a5e5fe0fb8c0a1a621">PosInfo</a>&gt; <a class="el" href="classCtaStraBaseCtx.html#a99c8d9dd3780cfab8d66782f0f378034">CtaStraBaseCtx::PositionMap</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>持仓映射类型 使用哈希表存储各个合约的持仓信息 键为合约代码，值为该合约的持仓信息 </p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l00882">882</a> 行定义.</p>

</div>
</div>
<a id="a14f29305d53e10fd120397e62d567fdc" name="a14f29305d53e10fd120397e62d567fdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14f29305d53e10fd120397e62d567fdc">&#9670;&#160;</a></span>PriceMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classwt__hashmap.html">wt_hashmap</a>&lt;std::string, double&gt; <a class="el" href="classCtaStraBaseCtx.html#a14f29305d53e10fd120397e62d567fdc">CtaStraBaseCtx::PriceMap</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>价格映射类型 使用哈希表存储不同合约的最新价格 键为合约代码，值为对应的最新价格 </p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l00715">715</a> 行定义.</p>

</div>
</div>
<a id="acd83a4e02006558891b2c88b2e4c1af8" name="acd83a4e02006558891b2c88b2e4c1af8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd83a4e02006558891b2c88b2e4c1af8">&#9670;&#160;</a></span>SigInfo</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structCtaStraBaseCtx_1_1__SigInfo.html">CtaStraBaseCtx::_SigInfo</a> <a class="el" href="classCtaStraBaseCtx.html#acd83a4e02006558891b2c88b2e4c1af8">CtaStraBaseCtx::SigInfo</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>信号信息结构体 用于记录策略生成的交易信号信息 </p>

</div>
</div>
<a id="a4fd2321559d3e14c8dd3c4436f0c59ae" name="a4fd2321559d3e14c8dd3c4436f0c59ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fd2321559d3e14c8dd3c4436f0c59ae">&#9670;&#160;</a></span>SignalMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classwt__hashmap.html">wt_hashmap</a>&lt;std::string, <a class="el" href="classCtaStraBaseCtx.html#acd83a4e02006558891b2c88b2e4c1af8">SigInfo</a>&gt; <a class="el" href="classCtaStraBaseCtx.html#a4fd2321559d3e14c8dd3c4436f0c59ae">CtaStraBaseCtx::SignalMap</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>信号映射类型 使用哈希表存储标的的交易信号 键为合约代码，值为信号信息 </p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l00953">953</a> 行定义.</p>

</div>
</div>
<a id="af6b704f4f192ed9b41a19ddc8465abad" name="af6b704f4f192ed9b41a19ddc8465abad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6b704f4f192ed9b41a19ddc8465abad">&#9670;&#160;</a></span>StraFundInfo</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structCtaStraBaseCtx_1_1__StraFundInfo.html">CtaStraBaseCtx::_StraFundInfo</a> <a class="el" href="classCtaStraBaseCtx.html#af6b704f4f192ed9b41a19ddc8465abad">CtaStraBaseCtx::StraFundInfo</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>策略资金信息结构体 用于记录策略资金及收益相关信息 </p>

</div>
</div>
<a id="ae1534af884c693facfe18e960a031c05" name="ae1534af884c693facfe18e960a031c05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1534af884c693facfe18e960a031c05">&#9670;&#160;</a></span>StringHashMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classwt__hashmap.html">wt_hashmap</a>&lt;std::string, std::string&gt; <a class="el" href="classCtaStraBaseCtx.html#ae1534af884c693facfe18e960a031c05">CtaStraBaseCtx::StringHashMap</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>字符串映射类型 用于存储用户自定义数据的键值对 </p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l01033">1033</a> 行定义.</p>

</div>
</div>
<h2 class="groupheader">构造及析构函数说明</h2>
<a id="aa7a6dcd324341b8b1d2440d116956b9a" name="aa7a6dcd324341b8b1d2440d116956b9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7a6dcd324341b8b1d2440d116956b9a">&#9670;&#160;</a></span>CtaStraBaseCtx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CtaStraBaseCtx::CtaStraBaseCtx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classWtCtaEngine.html">WtCtaEngine</a> *&#160;</td>
          <td class="paramname"><em>engine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>slippage</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CtaStraBaseCtx构造函数 </p>
<p>构造函数 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">engine</td><td>CTA引擎指针，用于和引擎进行交互 </td></tr>
    <tr><td class="paramname">name</td><td>策略名称，用于标识策略 </td></tr>
    <tr><td class="paramname">slippage</td><td>滑点设置，交易执行时的价格调整</td></tr>
    <tr><td class="paramname">engine</td><td>CTA引擎实例，提供策略运行环境 </td></tr>
    <tr><td class="paramname">name</td><td>策略名称 </td></tr>
    <tr><td class="paramname">slippage</td><td>滑点值，模拟交易成本 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>注解</dt><dd>初始化策略上下文，设置相关参数 </dd></dl>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l00076">76</a> 行定义.</p>

</div>
</div>
<a id="aef5551444764bae696a41e7b00e60f52" name="aef5551444764bae696a41e7b00e60f52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef5551444764bae696a41e7b00e60f52">&#9670;&#160;</a></span>~CtaStraBaseCtx()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">CtaStraBaseCtx::~CtaStraBaseCtx </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>CtaStraBaseCtx析构函数 </p>
<p>析构函数，清理资源</p>
<dl class="section note"><dt>注解</dt><dd>释放策略上下文资源 </dd></dl>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l00095">95</a> 行定义.</p>

</div>
</div>
<h2 class="groupheader">成员函数说明</h2>
<a id="ae2d3fbba5b24814834237c5fdd8579c9" name="ae2d3fbba5b24814834237c5fdd8579c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2d3fbba5b24814834237c5fdd8579c9">&#9670;&#160;</a></span>add_chart_mark()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CtaStraBaseCtx::add_chart_mark </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>price</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>icon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>tag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>在图表上添加标记 </p>
<p>添加图表标记 在图表上添加交易信号标记 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">price</td><td>标记价格位置 </td></tr>
    <tr><td class="paramname">icon</td><td>图标类型，如“buy”、“sell”等 </td></tr>
    <tr><td class="paramname">tag</td><td>标记标签文字</td></tr>
    <tr><td class="paramname">price</td><td>标记的价格位置 </td></tr>
    <tr><td class="paramname">icon</td><td>标记图标类型 </td></tr>
    <tr><td class="paramname">tag</td><td>标记的描述文字</td></tr>
  </table>
  </dd>
</dl>
<p>将特定标记添加到图表上，常用于标记交易信号、实际交易点或者重要的分析点 </p><dl class="section note"><dt>注解</dt><dd>仅在定时调度期间可以添加标记，否则会报错 </dd></dl>

<p>重载 <a class="el" href="classICtaStraCtx.html#a0029d75010d81f47ddcd54372536d315">ICtaStraCtx</a> .</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l02422">2422</a> 行定义.</p>

</div>
</div>
<a id="a0320c0d7716ff0c7e7ea6fa353f8457e" name="a0320c0d7716ff0c7e7ea6fa353f8457e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0320c0d7716ff0c7e7ea6fa353f8457e">&#9670;&#160;</a></span>add_index_baseline()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CtaStraBaseCtx::add_index_baseline </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>idxName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>lineName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>添加指标线基准值 </p>
<p>添加基准线 为指标添加一条固定值的基准线 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">idxName</td><td>指标名称 </td></tr>
    <tr><td class="paramname">lineName</td><td>线条名称 </td></tr>
    <tr><td class="paramname">val</td><td>基准线数值 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>是否成功</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">idxName</td><td>指标名称 </td></tr>
    <tr><td class="paramname">lineName</td><td>指标线名称 </td></tr>
    <tr><td class="paramname">val</td><td>基准值 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>添加成功返回true，失败返回false</dd></dl>
<p>为指定的指标线设置一个基准值，用于绘制参考线 </p><dl class="section note"><dt>注解</dt><dd>通常用于绘制水平线或上下轨等静态线 </dd></dl>

<p>重载 <a class="el" href="classICtaStraCtx.html#abcf761d0278047286538d9075dda8be1">ICtaStraCtx</a> .</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l02491">2491</a> 行定义.</p>

</div>
</div>
<a id="a6bba2937da9fdfd514634db7df9d6984" name="a6bba2937da9fdfd514634db7df9d6984"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bba2937da9fdfd514634db7df9d6984">&#9670;&#160;</a></span>append_signal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CtaStraBaseCtx::append_signal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>qty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>userTag</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>sigType</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>添加交易信号 </p>
<p>添加交易信号 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准合约代码 </td></tr>
    <tr><td class="paramname">qty</td><td>目标仓位数量 </td></tr>
    <tr><td class="paramname">userTag</td><td>用户标签 </td></tr>
    <tr><td class="paramname">sigType</td><td>信号类型</td></tr>
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">qty</td><td>目标仓位量，正数表示多头，负数表示空头 </td></tr>
    <tr><td class="paramname">userTag</td><td>用户自定义标签 </td></tr>
    <tr><td class="paramname">sigType</td><td>信号类型（0-定时计算信号，1-实时行情触发信号，2-条件单触发信号）</td></tr>
  </table>
  </dd>
</dl>
<p>生成交易信号并记录到信号映射表中，同时写入信号日志 </p><dl class="section note"><dt>注解</dt><dd>内部函数，由各种交易接口调用，用于生成统一的交易信号 </dd></dl>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l01622">1622</a> 行定义.</p>

</div>
</div>
<a id="ad1ec74d3b070bbe0e61d5ad00d37397d" name="ad1ec74d3b070bbe0e61d5ad00d37397d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1ec74d3b070bbe0e61d5ad00d37397d">&#9670;&#160;</a></span>do_set_position()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CtaStraBaseCtx::do_set_position </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>qty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>userTag</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bFireAtOnce</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>设置策略持仓量 </p>
<p>设置标的仓位 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准合约代码 </td></tr>
    <tr><td class="paramname">qty</td><td>目标仓位数量 </td></tr>
    <tr><td class="paramname">userTag</td><td>用户标签 </td></tr>
    <tr><td class="paramname">bFireAtOnce</td><td>是否立即触发交易</td></tr>
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">qty</td><td>目标持仓量，正数表示多头，负数表示空头 </td></tr>
    <tr><td class="paramname">userTag</td><td>用户自定义标签，用于跟踪交易来源 </td></tr>
    <tr><td class="paramname">bFireAtOnce</td><td>是否立即触发仓位变更通知</td></tr>
  </table>
  </dd>
</dl>
<p>核心交易执行函数，计算仓位差值并生成交易明细、更新资金信息 </p><dl class="section note"><dt>注解</dt><dd>内部使用互斥锁保证线程安全，处理开仓、平仓、反手等多种交易情况 </dd></dl>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l01647">1647</a> 行定义.</p>

</div>
</div>
<a id="a86630d7490f116462d00060c4b6cccae" name="a86630d7490f116462d00060c4b6cccae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86630d7490f116462d00060c4b6cccae">&#9670;&#160;</a></span>dump_chart_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CtaStraBaseCtx::dump_chart_info </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>导出图表信息到JSON </p>
<p>导出图表信息 将策略的图表数据输出到文件中</p>
<p>将策略中设置的K线、指标、线条等图表元素导出为JSON格式 </p><dl class="section note"><dt>注解</dt><dd>用于图表展示和策略可视化分析 </dd></dl>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l00791">791</a> 行定义.</p>

</div>
</div>
<a id="aa9680355bf757697a3df2f0c203be394" name="aa9680355bf757697a3df2f0c203be394"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9680355bf757697a3df2f0c203be394">&#9670;&#160;</a></span>enum_position()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CtaStraBaseCtx::enum_position </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ICtaStraCtx_8h.html#ae91c21a4f808e56c0dcf692873157a9e">FuncEnumCtaPosCallBack</a>&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bForExecute</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>枚举当前策略所有持仓 </p>
<p>枚举所有持仓 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">cb</td><td>回调函数，用于处理每个持仓 </td></tr>
    <tr><td class="paramname">bForExecute</td><td>是否为执行调用</td></tr>
    <tr><td class="paramname">cb</td><td>持仓处理回调函数，用于接收并处理每个持仓信息 </td></tr>
    <tr><td class="paramname">bForExecute</td><td>是否为执行模式，如果为true则会标记信号为已触发</td></tr>
  </table>
  </dd>
</dl>
<p>遍历所有的实际持仓和信号持仓，并将每个持仓信息通过回调函数返回 </p><dl class="section note"><dt>注解</dt><dd>使用互斥锁保证线程安全，避免组合轧差同步与信号同时触发导致的问题 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#af10b2727d379ab6abfa7a73099f3db08">ICtaStraCtx</a>.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l01189">1189</a> 行定义.</p>

</div>
</div>
<a id="ab8c1f85734c844526c86f7a492241c19" name="ab8c1f85734c844526c86f7a492241c19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8c1f85734c844526c86f7a492241c19">&#9670;&#160;</a></span>get_cond_entrusts()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="CtaStraBaseCtx_8h.html#a554586e84eb02c2dd968b6cbb4af59ef">CondList</a> &amp; CtaStraBaseCtx::get_cond_entrusts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取指定合约的条件单列表 </p>
<p>获取标的的条件委托列表 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准合约代码 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>条件委托列表的引用</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>返回指定合约的条件单列表引用</dd></dl>
<p>根据合约代码获取相应的条件单列表，如果不存在则创建新的空列表 </p><dl class="section note"><dt>注解</dt><dd>内部函数，用于条件单管理，被各个交易接口调用 </dd></dl>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l01272">1272</a> 行定义.</p>

</div>
</div>
<a id="a2cf7fa5e17c13de026e9b25b060131d6" name="a2cf7fa5e17c13de026e9b25b060131d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cf7fa5e17c13de026e9b25b060131d6">&#9670;&#160;</a></span>id()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual uint32_t CtaStraBaseCtx::id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>获取上下文ID </p><dl class="section return"><dt>返回</dt><dd>策略上下文唯一标识符 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#a8a04e679ed9ef8719dd3c6419be6ce9b">ICtaStraCtx</a>.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l00249">249</a> 行定义.</p>

</div>
</div>
<a id="a0331dee5fa340b2c5eac19a177c0f080" name="a0331dee5fa340b2c5eac19a177c0f080"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0331dee5fa340b2c5eac19a177c0f080">&#9670;&#160;</a></span>init_outputs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CtaStraBaseCtx::init_outputs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>初始化日志输出文件 </p>
<p>初始化输出文件 创建并初始化策略相关的输出文件，如信号日志、交易日志等</p>
<p>创建trades.csv、closes.csv、funds.csv等日志文件，用于记录策略运行过程中的交易、资金、信号等信息。 </p><dl class="section note"><dt>注解</dt><dd>日志文件有助于策略回测和实盘分析。 </dd></dl>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l00104">104</a> 行定义.</p>

</div>
</div>
<a id="a056e78353d18158b0969c814e5c48ce3" name="a056e78353d18158b0969c814e5c48ce3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a056e78353d18158b0969c814e5c48ce3">&#9670;&#160;</a></span>load_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CtaStraBaseCtx::load_data </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flag</em> = <code>0xFFFFFFFF</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>加载策略历史数据 </p>
<p>加载策略数据 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">flag</td><td>数据加载标志，指定需要加载的数据类型</td></tr>
    <tr><td class="paramname">flag</td><td>数据加载标志（按位控制资金、持仓、信号等子模块）</td></tr>
  </table>
  </dd>
</dl>
<p>从[name].json读取策略资金、持仓及明细，并恢复到运行上下文 </p><dl class="section note"><dt>注解</dt><dd>在策略初始化或回测开始阶段调用 </dd></dl>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l00364">364</a> 行定义.</p>

</div>
</div>
<a id="a05bf09cda900b4b5e9a8e728cd9e5eb7" name="a05bf09cda900b4b5e9a8e728cd9e5eb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05bf09cda900b4b5e9a8e728cd9e5eb7">&#9670;&#160;</a></span>load_userdata()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CtaStraBaseCtx::load_userdata </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>从JSON文件加载用户自定义数据 </p>
<p>加载用户自定义数据 从存储文件中读取用户定义的数据</p>
<p>读取用户数据文件ud_[策略名].json，将内容解析为_user_datas映射 </p><dl class="section note"><dt>注解</dt><dd>文件不存在或解析错误时自动跳过 </dd></dl>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l00327">327</a> 行定义.</p>

</div>
</div>
<a id="acab7a0ba62347b7d2291d139427a0f6b" name="acab7a0ba62347b7d2291d139427a0f6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acab7a0ba62347b7d2291d139427a0f6b">&#9670;&#160;</a></span>log_close()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CtaStraBaseCtx::log_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isLong</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>openTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>openpx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>closeTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>closepx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>qty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>profit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>totalprofit</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>enterTag</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>exitTag</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>openBarNo</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>closeBarNo</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>记录平仓明细日志 </p>
<p>记录平仓信息 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准合约代码 </td></tr>
    <tr><td class="paramname">isLong</td><td>是否为多头 </td></tr>
    <tr><td class="paramname">openTime</td><td>开仓时间 </td></tr>
    <tr><td class="paramname">openpx</td><td>开仓价格 </td></tr>
    <tr><td class="paramname">closeTime</td><td>平仓时间 </td></tr>
    <tr><td class="paramname">closepx</td><td>平仓价格 </td></tr>
    <tr><td class="paramname">qty</td><td>交易数量 </td></tr>
    <tr><td class="paramname">profit</td><td>盈亏金额 </td></tr>
    <tr><td class="paramname">totalprofit</td><td>总盈亏 </td></tr>
    <tr><td class="paramname">enterTag</td><td>开仓标签 </td></tr>
    <tr><td class="paramname">exitTag</td><td>平仓标签 </td></tr>
    <tr><td class="paramname">openBarNo</td><td>开仓K线编号 </td></tr>
    <tr><td class="paramname">closeBarNo</td><td>平仓K线编号</td></tr>
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">isLong</td><td>多空方向，true为多头，false为空头 </td></tr>
    <tr><td class="paramname">openTime</td><td>开仓时间戳 </td></tr>
    <tr><td class="paramname">openpx</td><td>开仓价格 </td></tr>
    <tr><td class="paramname">closeTime</td><td>平仓时间戳 </td></tr>
    <tr><td class="paramname">closepx</td><td>平仓价格 </td></tr>
    <tr><td class="paramname">qty</td><td>平仓数量 </td></tr>
    <tr><td class="paramname">profit</td><td>本次平仓盈亏 </td></tr>
    <tr><td class="paramname">totalprofit</td><td>累计平仓盈亏 </td></tr>
    <tr><td class="paramname">enterTag</td><td>开仓信号标签 </td></tr>
    <tr><td class="paramname">exitTag</td><td>平仓信号标签 </td></tr>
    <tr><td class="paramname">openBarNo</td><td>开仓K线编号 </td></tr>
    <tr><td class="paramname">closeBarNo</td><td>平仓K线编号 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>注解</dt><dd>写入closes.csv，便于完整记录每笔交易生命周期 </dd></dl>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l00278">278</a> 行定义.</p>

</div>
</div>
<a id="a5cdef4f2b3f11364fa9955194d3fd42e" name="a5cdef4f2b3f11364fa9955194d3fd42e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cdef4f2b3f11364fa9955194d3fd42e">&#9670;&#160;</a></span>log_debug()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CtaStraBaseCtx::log_debug </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> Args &amp;...&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>记录调试日志 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">format</td><td>格式化字符串 </td></tr>
    <tr><td class="paramname">args</td><td>可变参数，用于格式化 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l00208">208</a> 行定义.</p>

</div>
</div>
<a id="a47ed68449f11c50bec673babefb6e2c8" name="a47ed68449f11c50bec673babefb6e2c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47ed68449f11c50bec673babefb6e2c8">&#9670;&#160;</a></span>log_error()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CtaStraBaseCtx::log_error </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> Args &amp;...&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>记录错误日志 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">format</td><td>格式化字符串 </td></tr>
    <tr><td class="paramname">args</td><td>可变参数，用于格式化 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l00232">232</a> 行定义.</p>

</div>
</div>
<a id="ad7ff72f926459af8d5af9d8377b80c61" name="ad7ff72f926459af8d5af9d8377b80c61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7ff72f926459af8d5af9d8377b80c61">&#9670;&#160;</a></span>log_info()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CtaStraBaseCtx::log_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> Args &amp;...&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>记录信息日志 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">format</td><td>格式化字符串 </td></tr>
    <tr><td class="paramname">args</td><td>可变参数，用于格式化 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l00220">220</a> 行定义.</p>

</div>
</div>
<a id="a5a390b07f38ec0a7c62e54185421a2f1" name="a5a390b07f38ec0a7c62e54185421a2f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a390b07f38ec0a7c62e54185421a2f1">&#9670;&#160;</a></span>log_signal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CtaStraBaseCtx::log_signal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>price</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>gentime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>usertag</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>记录交易信号日志 </p>
<p>记录交易信号 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准合约代码 </td></tr>
    <tr><td class="paramname">target</td><td>目标仓位 </td></tr>
    <tr><td class="paramname">price</td><td>信号价格 </td></tr>
    <tr><td class="paramname">gentime</td><td>信号生成时间 </td></tr>
    <tr><td class="paramname">usertag</td><td>用户标签，用于标识特定信号</td></tr>
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">target</td><td>信号目标仓位 </td></tr>
    <tr><td class="paramname">price</td><td>信号价格 </td></tr>
    <tr><td class="paramname">gentime</td><td>信号生成时间戳 </td></tr>
    <tr><td class="paramname">usertag</td><td>用户自定义标签 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>注解</dt><dd>写入signals.csv，便于策略信号追踪和复盘分析 </dd></dl>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l00226">226</a> 行定义.</p>

</div>
</div>
<a id="a38a58378410ab8c3da4b82dd158988bc" name="a38a58378410ab8c3da4b82dd158988bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38a58378410ab8c3da4b82dd158988bc">&#9670;&#160;</a></span>log_trade()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CtaStraBaseCtx::log_trade </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isLong</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isOpen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>curTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>price</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>qty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>userTag</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>fee</em> = <code>0.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>barNo</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>记录单笔交易明细 </p>
<p>记录交易明细 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准合约代码 </td></tr>
    <tr><td class="paramname">isLong</td><td>是否为多头交易 </td></tr>
    <tr><td class="paramname">isOpen</td><td>是否为开仓交易 </td></tr>
    <tr><td class="paramname">curTime</td><td>当前时间 </td></tr>
    <tr><td class="paramname">price</td><td>交易价格 </td></tr>
    <tr><td class="paramname">qty</td><td>交易数量 </td></tr>
    <tr><td class="paramname">userTag</td><td>用户标签 </td></tr>
    <tr><td class="paramname">fee</td><td>交易手续费 </td></tr>
    <tr><td class="paramname">barNo</td><td>K线编号</td></tr>
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">isLong</td><td>多空方向，true为多头，false为空头 </td></tr>
    <tr><td class="paramname">isOpen</td><td>开平仓标志，true为开仓，false为平仓 </td></tr>
    <tr><td class="paramname">curTime</td><td>交易时间戳 </td></tr>
    <tr><td class="paramname">price</td><td>成交价格 </td></tr>
    <tr><td class="paramname">qty</td><td>成交数量 </td></tr>
    <tr><td class="paramname">userTag</td><td>用户自定义标签 </td></tr>
    <tr><td class="paramname">fee</td><td>手续费 </td></tr>
    <tr><td class="paramname">barNo</td><td>K线编号 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>注解</dt><dd>写入trades.csv，便于交易明细统计和回测分析 </dd></dl>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l00249">249</a> 行定义.</p>

</div>
</div>
<a id="a87c83d37684244c9d49f7153659fbf10" name="a87c83d37684244c9d49f7153659fbf10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87c83d37684244c9d49f7153659fbf10">&#9670;&#160;</a></span>on_bar()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CtaStraBaseCtx::on_bar </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>period</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>times</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structWTSBarStruct.html">WTSBarStruct</a> *&#160;</td>
          <td class="paramname"><em>newBar</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>K线周期回调函数 </p>
<p>K线数据回调 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准合约代码 </td></tr>
    <tr><td class="paramname">period</td><td>周期类型 </td></tr>
    <tr><td class="paramname">times</td><td>周期倍数 </td></tr>
    <tr><td class="paramname">newBar</td><td>新的K线数据</td></tr>
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">period</td><td>K线周期，如m1、m5、d1等 </td></tr>
    <tr><td class="paramname">times</td><td>周期倍数，用于复合周期，如m1周期时times=2表示2分钟 </td></tr>
    <tr><td class="paramname">newBar</td><td>新K线数据结构指针</td></tr>
  </table>
  </dd>
</dl>
<p>当新的K线周期到来时触发，用于处理K线周期事件 </p><dl class="section note"><dt>注解</dt><dd>策略可以在此函数中实现周期性的数据分析和交易决策 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#a0db3d0c845ff482452adb6941487282d">ICtaStraCtx</a>.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l00749">749</a> 行定义.</p>

</div>
</div>
<a id="a78cc15745fadea924ac05587e16f25fc" name="a78cc15745fadea924ac05587e16f25fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78cc15745fadea924ac05587e16f25fc">&#9670;&#160;</a></span>on_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CtaStraBaseCtx::on_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>策略初始化函数 </p>
<p>策略初始化回调 在策略加载后首次运行时调用，用于初始化策略参数和状态</p>
<p>完成策略初始化所需的各项工作，包括初始化日志输出、加载历史数据和用户数据 </p><dl class="section note"><dt>注解</dt><dd>在策略实例创建后自动调用，是策略生命周期的入口点 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#a96eaee98050b938e210e8b663ca17637">ICtaStraCtx</a>.</p>

<p>被 <a class="el" href="classCtaStraContext.html#ac27f7f6606841d4980ae5bf75db6f608">CtaStraContext</a> , 以及 <a class="el" href="classExpCtaContext.html#ad95a1622b3d3924f74c85fc2b278d845">ExpCtaContext</a> 重载.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l00775">775</a> 行定义.</p>

</div>
</div>
<a id="a911ebe5ef9bbcef092db776321ea35fb" name="a911ebe5ef9bbcef092db776321ea35fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a911ebe5ef9bbcef092db776321ea35fb">&#9670;&#160;</a></span>on_schedule()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CtaStraBaseCtx::on_schedule </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>curDate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>curTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>策略定时调度函数 </p>
<p>定时任务回调 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">curDate</td><td>当前日期 </td></tr>
    <tr><td class="paramname">curTime</td><td>当前时间 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>是否成功处理</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">curDate</td><td>当前日期，格式YYYYMMDD </td></tr>
    <tr><td class="paramname">curTime</td><td>当前时间，格式HHMMSS </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>是否成功触发策略计算</dd></dl>
<p>根据K线周期定时触发策略计算，处理主周期更新和条件单清理 </p><dl class="section note"><dt>注解</dt><dd>策略引擎定时调用，是策略周期性计算的入口点 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#a250442db7706fbf3e2f3dd537b339ccb">ICtaStraCtx</a>.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l01072">1072</a> 行定义.</p>

</div>
</div>
<a id="a57fcda634ad1dd709f051078adfd5a2a" name="a57fcda634ad1dd709f051078adfd5a2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57fcda634ad1dd709f051078adfd5a2a">&#9670;&#160;</a></span>on_session_begin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CtaStraBaseCtx::on_session_begin </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>uTDate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>交易日开始事件回调 </p>
<p>交易日开始回调 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">uTDate</td><td>交易日期</td></tr>
    <tr><td class="paramname">uTDate</td><td>交易日期，格式YYYYMMDD</td></tr>
  </table>
  </dd>
</dl>
<p>在每个交易日开始时触发，清理过期的冻结持仓 </p><dl class="section note"><dt>注解</dt><dd>用于处理跨交易日的持仓状态更新，确保冻结仓位在新交易日释放 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#a74c1b11d95c09d3c7b01df02b35fded2">ICtaStraCtx</a>.</p>

<p>被 <a class="el" href="classExpCtaContext.html#a3f120f791666fe7dcd5b736f029cf2ef">ExpCtaContext</a> , 以及 <a class="el" href="classCtaStraContext.html#a6a369861861349a9ea8ba6c6f0cfc197">CtaStraContext</a> 重载.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l01159">1159</a> 行定义.</p>

</div>
</div>
<a id="a5b491816ce58a06a107a1df9e0e4fff6" name="a5b491816ce58a06a107a1df9e0e4fff6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b491816ce58a06a107a1df9e0e4fff6">&#9670;&#160;</a></span>on_session_end()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CtaStraBaseCtx::on_session_end </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>uTDate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>交易日结束事件回调 </p>
<p>交易日结束回调 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">uTDate</td><td>交易日期</td></tr>
    <tr><td class="paramname">uTDate</td><td>交易日期，格式YYYYMMDD</td></tr>
  </table>
  </dd>
</dl>
<p>在每个交易日结束时触发，记录当日持仓和资金状况，保存策略数据 </p><dl class="section note"><dt>注解</dt><dd>用于日结算和数据持久化，确保策略状态正确保存 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#a4c2a9169e9d06ae31f0ba4cddb77ca2a">ICtaStraCtx</a>.</p>

<p>被 <a class="el" href="classExpCtaContext.html#ac7b5fe43efb366343c4db07aa5667bcf">ExpCtaContext</a> , 以及 <a class="el" href="classCtaStraContext.html#a39e8ae4a87a33fa4ca7943b9c2c08f0e">CtaStraContext</a> 重载.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l01227">1227</a> 行定义.</p>

</div>
</div>
<a id="afbfcc1f9efc49d6e41258b2de9d8f483" name="afbfcc1f9efc49d6e41258b2de9d8f483"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbfcc1f9efc49d6e41258b2de9d8f483">&#9670;&#160;</a></span>on_tick()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CtaStraBaseCtx::on_tick </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classWTSTickData.html">WTSTickData</a> *&#160;</td>
          <td class="paramname"><em>newTick</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bEmitStrategy</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tick数据回调函数 </p>
<p>Tick数据回调 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准合约代码 </td></tr>
    <tr><td class="paramname">newTick</td><td>新的Tick数据 </td></tr>
    <tr><td class="paramname">bEmitStrategy</td><td>是否触发策略计算</td></tr>
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">newTick</td><td>新到的Tick数据 </td></tr>
    <tr><td class="paramname">bEmitStrategy</td><td>是否触发策略回调</td></tr>
  </table>
  </dd>
</dl>
<p>处理实时行情数据，包括更新价格缓存、检查信号触发、更新浮动盈亏、检查条件单 </p><dl class="section note"><dt>注解</dt><dd>每次收到新的Tick数据时触发，是策略实时响应市场的主要入口 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#aec9d3f6aa12765b3269b9bcec84455bd">ICtaStraCtx</a>.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l00922">922</a> 行定义.</p>

</div>
</div>
<a id="a9e1a39562f4091feb26a32dbff987900" name="a9e1a39562f4091feb26a32dbff987900"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e1a39562f4091feb26a32dbff987900">&#9670;&#160;</a></span>register_index()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CtaStraBaseCtx::register_index </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>idxName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>indexType</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>注册图表指标 </p>
<p>注册指标 为策略添加一个新的技术指标 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">idxName</td><td>指标名称 </td></tr>
    <tr><td class="paramname">indexType</td><td>指标类型</td></tr>
    <tr><td class="paramname">idxName</td><td>指标名称 </td></tr>
    <tr><td class="paramname">indexType</td><td>指标类型</td></tr>
  </table>
  </dd>
</dl>
<p>在图表上创建一个新的指标，用于后续添加多条指标线 </p><dl class="section note"><dt>注解</dt><dd>必须先注册指标，才能通过register_index_line添加指标线 </dd></dl>

<p>重载 <a class="el" href="classICtaStraCtx.html#a86bae2d0ae1f599ba02176f5229d85a9">ICtaStraCtx</a> .</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l02450">2450</a> 行定义.</p>

</div>
</div>
<a id="ad49a9eaade2e7ec0c19a1fcd5c4df5e4" name="ad49a9eaade2e7ec0c19a1fcd5c4df5e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad49a9eaade2e7ec0c19a1fcd5c4df5e4">&#9670;&#160;</a></span>register_index_line()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CtaStraBaseCtx::register_index_line </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>idxName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>lineName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>lineType</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>注册指标线 </p>
<p>注册指标线 为某个指标添加一条数据线 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">idxName</td><td>指标名称 </td></tr>
    <tr><td class="paramname">lineName</td><td>线条名称 </td></tr>
    <tr><td class="paramname">lineType</td><td>线条类型 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>是否成功</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">idxName</td><td>指标名称，必须先用register_index注册 </td></tr>
    <tr><td class="paramname">lineName</td><td>指标线名称 </td></tr>
    <tr><td class="paramname">lineType</td><td>指标线类型 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>注册成功返回true，失败返回false</dd></dl>
<p>在已注册的指标上创建一条新的指标线 </p><dl class="section note"><dt>注解</dt><dd>必须先用register_index注册指标，才能添加指标线 </dd></dl>

<p>重载 <a class="el" href="classICtaStraCtx.html#a63275beecb26f84bde19fc94717f5b66">ICtaStraCtx</a> .</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l02466">2466</a> 行定义.</p>

</div>
</div>
<a id="a04a7f147f39d5a15d5f6dea189fc00e6" name="a04a7f147f39d5a15d5f6dea189fc00e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04a7f147f39d5a15d5f6dea189fc00e6">&#9670;&#160;</a></span>save_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CtaStraBaseCtx::save_data </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flag</em> = <code>0xFFFFFFFF</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>保存策略数据到JSON文件 </p>
<p>保存策略数据 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">flag</td><td>数据保存标志，指定需要保存的数据类型</td></tr>
    <tr><td class="paramname">flag</td><td>数据保存标志，按位控制不同模块的保存</td></tr>
  </table>
  </dd>
</dl>
<p>将策略的持仓、资金、信号等数据写入[name].json </p><dl class="section note"><dt>注解</dt><dd>策略退出或定期保存时调用，保证数据持久化 </dd></dl>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l00588">588</a> 行定义.</p>

</div>
</div>
<a id="a0b16d1617432e33f2970d0179a4d8adf" name="a0b16d1617432e33f2970d0179a4d8adf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b16d1617432e33f2970d0179a4d8adf">&#9670;&#160;</a></span>save_userdata()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CtaStraBaseCtx::save_userdata </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>保存用户自定义数据到JSON文件 </p>
<p>保存用户自定义数据 将用户定义的数据写入存储文件</p>
<p>将_user_datas映射写入ud_[策略名].json，持久化策略状态 </p><dl class="section note"><dt>注解</dt><dd>策略退出或定期保存用户数据时调用 </dd></dl>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l00295">295</a> 行定义.</p>

</div>
</div>
<a id="af3725c81ee7a4c6c35d64e5860e8eeec" name="af3725c81ee7a4c6c35d64e5860e8eeec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3725c81ee7a4c6c35d64e5860e8eeec">&#9670;&#160;</a></span>set_chart_kline()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CtaStraBaseCtx::set_chart_kline </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>period</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>设置打印图表的K线信息 </p>
<p>设置图表K线 设置当前策略图表中显示的K线 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准合约代码 </td></tr>
    <tr><td class="paramname">period</td><td>周期类型，如“day”、“min1”等</td></tr>
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">period</td><td>K线周期</td></tr>
  </table>
  </dd>
</dl>
<p>设置策略在输出图表时使用的合约和周期 </p><dl class="section note"><dt>注解</dt><dd>当需要不同于主K线的图表展示时使用，如果不调用则使用主K线 </dd></dl>

<p>重载 <a class="el" href="classICtaStraCtx.html#a1b1f4bfc87d2fd5b60e9d9249d57ff16">ICtaStraCtx</a> .</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l02408">2408</a> 行定义.</p>

</div>
</div>
<a id="a4784ed34bd1b0931a9e155e85a0aa211" name="a4784ed34bd1b0931a9e155e85a0aa211"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4784ed34bd1b0931a9e155e85a0aa211">&#9670;&#160;</a></span>set_index_value()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CtaStraBaseCtx::set_index_value </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>idxName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>lineName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>设置指标线数据点值 </p>
<p>设置指标值 更新某个指标线的数值 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">idxName</td><td>指标名称 </td></tr>
    <tr><td class="paramname">lineName</td><td>线条名称 </td></tr>
    <tr><td class="paramname">val</td><td>指标值 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>是否成功</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">idxName</td><td>指标名称 </td></tr>
    <tr><td class="paramname">lineName</td><td>指标线名称 </td></tr>
    <tr><td class="paramname">val</td><td>数据值 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>设置成功返回true，失败返回false</dd></dl>
<p>为指定的指标线添加当前时间点的数据值 </p><dl class="section note"><dt>注解</dt><dd>仅在定时调度期间可以添加指标数据，用于绘制动态指标线 </dd></dl>

<p>重载 <a class="el" href="classICtaStraCtx.html#a7221d1785964a788980b0624c711ec39">ICtaStraCtx</a> .</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l02514">2514</a> 行定义.</p>

</div>
</div>
<a id="ad8717a3daae34116b4b5dd83fa7af0d8" name="ad8717a3daae34116b4b5dd83fa7af0d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8717a3daae34116b4b5dd83fa7af0d8">&#9670;&#160;</a></span>stra_enter_long()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CtaStraBaseCtx::stra_enter_long </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>qty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>userTag</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>limitprice</em> = <code>0.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>stopprice</em> = <code>0.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>策略开多接口 </p>
<p>开多仓操作 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准合约代码 </td></tr>
    <tr><td class="paramname">qty</td><td>交易数量 </td></tr>
    <tr><td class="paramname">userTag</td><td>用户自定义标签，用于标识当前交易 </td></tr>
    <tr><td class="paramname">limitprice</td><td>限价，如果为0表示不限价 </td></tr>
    <tr><td class="paramname">stopprice</td><td>止损价，如果为0表示不设置止损</td></tr>
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">qty</td><td>开仓数量 </td></tr>
    <tr><td class="paramname">userTag</td><td>用户自定义标签 </td></tr>
    <tr><td class="paramname">limitprice</td><td>限价，当行情价格低于此价格时触发，默认0表示市价单 </td></tr>
    <tr><td class="paramname">stopprice</td><td>止损价，当行情价格高于此价格时触发，默认0表示市价单</td></tr>
  </table>
  </dd>
</dl>
<p>策略开多入场接口，支持市价单和条件单两种模式 </p><dl class="section note"><dt>注解</dt><dd>如果当前持空，则会先平空再开多；如果已有多仓，则会增加多仓 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#af68515a83993f84c3e97849282668a8a">ICtaStraCtx</a>.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l01290">1290</a> 行定义.</p>

</div>
</div>
<a id="a88511e9d6026649c7eab5d3471b19b23" name="a88511e9d6026649c7eab5d3471b19b23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88511e9d6026649c7eab5d3471b19b23">&#9670;&#160;</a></span>stra_enter_short()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CtaStraBaseCtx::stra_enter_short </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>qty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>userTag</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>limitprice</em> = <code>0.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>stopprice</em> = <code>0.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>策略开空接口 </p>
<p>开空仓操作 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准合约代码 </td></tr>
    <tr><td class="paramname">qty</td><td>交易数量 </td></tr>
    <tr><td class="paramname">userTag</td><td>用户自定义标签 </td></tr>
    <tr><td class="paramname">limitprice</td><td>限价 </td></tr>
    <tr><td class="paramname">stopprice</td><td>止损价</td></tr>
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">qty</td><td>开仓数量 </td></tr>
    <tr><td class="paramname">userTag</td><td>用户自定义标签 </td></tr>
    <tr><td class="paramname">limitprice</td><td>限价，当行情价格高于此价格时触发，默认0表示市价单 </td></tr>
    <tr><td class="paramname">stopprice</td><td>止损价，当行情价格低于此价格时触发，默认0表示市价单</td></tr>
  </table>
  </dd>
</dl>
<p>策略开空入场接口，支持市价单和条件单两种模式 </p><dl class="section note"><dt>注解</dt><dd>需要先检查合约是否支持做空；如果当前持多，则会先平多再开空；如果已有空仓，则会增加空仓 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#ade019a348a8bc12c37433d307e8addcf">ICtaStraCtx</a>.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l01352">1352</a> 行定义.</p>

</div>
</div>
<a id="a3878afe0eb1e673e039f4e7699ad285e" name="a3878afe0eb1e673e039f4e7699ad285e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3878afe0eb1e673e039f4e7699ad285e">&#9670;&#160;</a></span>stra_exit_long()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CtaStraBaseCtx::stra_exit_long </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>qty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>userTag</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>limitprice</em> = <code>0.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>stopprice</em> = <code>0.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>策略平多接口 </p>
<p>平多仓操作 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准合约代码 </td></tr>
    <tr><td class="paramname">qty</td><td>平仓数量 </td></tr>
    <tr><td class="paramname">userTag</td><td>用户自定义标签 </td></tr>
    <tr><td class="paramname">limitprice</td><td>限价 </td></tr>
    <tr><td class="paramname">stopprice</td><td>止损价</td></tr>
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">qty</td><td>平仓数量 </td></tr>
    <tr><td class="paramname">userTag</td><td>用户自定义标签 </td></tr>
    <tr><td class="paramname">limitprice</td><td>限价，当行情价格低于此价格时触发，默认0表示市价单 </td></tr>
    <tr><td class="paramname">stopprice</td><td>止损价，当行情价格高于此价格时触发，默认0表示市价单</td></tr>
  </table>
  </dd>
</dl>
<p>策略平多出场接口，支持市价单和条件单两种模式 </p><dl class="section note"><dt>注解</dt><dd>会自动判断是否是收盘时段，收盘时会读取全部持仓，否则只读取可平仓位 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#a8c0dbf8d5f34e9bee4b2fec1e9d4432a">ICtaStraCtx</a>.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l01420">1420</a> 行定义.</p>

</div>
</div>
<a id="ac2595d42f5435284d8a55a7a56b912ec" name="ac2595d42f5435284d8a55a7a56b912ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2595d42f5435284d8a55a7a56b912ec">&#9670;&#160;</a></span>stra_exit_short()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CtaStraBaseCtx::stra_exit_short </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>qty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>userTag</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>limitprice</em> = <code>0.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>stopprice</em> = <code>0.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>策略平空接口 </p>
<p>平空仓操作 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准合约代码 </td></tr>
    <tr><td class="paramname">qty</td><td>平仓数量 </td></tr>
    <tr><td class="paramname">userTag</td><td>用户自定义标签 </td></tr>
    <tr><td class="paramname">limitprice</td><td>限价 </td></tr>
    <tr><td class="paramname">stopprice</td><td>止损价</td></tr>
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">qty</td><td>平仓数量 </td></tr>
    <tr><td class="paramname">userTag</td><td>用户自定义标签 </td></tr>
    <tr><td class="paramname">limitprice</td><td>限价，当行情价格高于此价格时触发，默认0表示市价单 </td></tr>
    <tr><td class="paramname">stopprice</td><td>止损价，当行情价格低于此价格时触发，默认0表示市价单</td></tr>
  </table>
  </dd>
</dl>
<p>策略平空出场接口，支持市价单和条件单两种模式 </p><dl class="section note"><dt>注解</dt><dd>会自动判断是否是收盘时段，收盘时会读取全部持仓，否则只读取可平仓位 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#aa68e8703be6f3f48be70f3174f60f519">ICtaStraCtx</a>.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l01481">1481</a> 行定义.</p>

</div>
</div>
<a id="a76060e7ff600428b9e57dcb596ccd109" name="a76060e7ff600428b9e57dcb596ccd109"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76060e7ff600428b9e57dcb596ccd109">&#9670;&#160;</a></span>stra_get_bars()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWTSKlineSlice.html">WTSKlineSlice</a> * CtaStraBaseCtx::stra_get_bars </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>period</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isMain</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取合约历史K线数据 </p>
<p>获取K线数据切片 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准合约代码 </td></tr>
    <tr><td class="paramname">period</td><td>周期类型，如“day”, “min1”等 </td></tr>
    <tr><td class="paramname">count</td><td>数据条数 </td></tr>
    <tr><td class="paramname">isMain</td><td>是否为主力合约 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>K线数据切片指针</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">period</td><td>K线周期，如m1、5m、d1等 </td></tr>
    <tr><td class="paramname">count</td><td>请求的K线数量 </td></tr>
    <tr><td class="paramname">isMain</td><td>是否为主K线，默认为false </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>返回K线数据切片指针，如果得不到则返回NULL</dd></dl>
<p>策略获取历史K线数据的主要接口，每个策略只能有一个主K线设置 </p><dl class="section note"><dt>注解</dt><dd>主K线会影响策略的计算周期，只有当主K线更新时策略才会执行 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#a1b69efd8750d6072993c6d259facb417">ICtaStraCtx</a>.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l01823">1823</a> 行定义.</p>

</div>
</div>
<a id="ad7a9d2d84e3ed4061127f81b72abe4ed" name="ad7a9d2d84e3ed4061127f81b72abe4ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7a9d2d84e3ed4061127f81b72abe4ed">&#9670;&#160;</a></span>stra_get_comminfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWTSCommodityInfo.html">WTSCommodityInfo</a> * CtaStraBaseCtx::stra_get_comminfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取合约品种信息 </p>
<p>获取合约品种信息 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准合约代码 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>合约品种信息指针</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>返回品种信息指针，如果不存在则返回NULL</dd></dl>
<p>从引擎中获取指定合约的品种信息，包含手续费、合约乘数、交易时段等 </p><dl class="section note"><dt>注解</dt><dd>策略计算手续费、判断交易时间、确定是否可以做空时使用 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#a843b56d8d093a3cbe2f87f5ecab2bfa3">ICtaStraCtx</a>.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l01965">1965</a> 行定义.</p>

</div>
</div>
<a id="aec3ca104e88ed6a3c11ccb1ebc873b73" name="aec3ca104e88ed6a3c11ccb1ebc873b73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec3ca104e88ed6a3c11ccb1ebc873b73">&#9670;&#160;</a></span>stra_get_date()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t CtaStraBaseCtx::stra_get_date </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取当前自然日期 </p>
<p>获取实际日期 </p><dl class="section return"><dt>返回</dt><dd>实际日期，格式YYYYMMDD</dd>
<dd>
返回自然日期数值，格式YYYYMMDD</dd></dl>
<p>从引擎中获取当前的日历日期 </p><dl class="section note"><dt>注解</dt><dd>自然日期是指实际日历日期，与交易日期不同 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#a4034c85351f5cba54561b7029869ab57">ICtaStraCtx</a>.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l01999">1999</a> 行定义.</p>

</div>
</div>
<a id="ab89ede397f0a0362ee1f4f9b771bea03" name="ab89ede397f0a0362ee1f4f9b771bea03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab89ede397f0a0362ee1f4f9b771bea03">&#9670;&#160;</a></span>stra_get_day_price()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double CtaStraBaseCtx::stra_get_day_price </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flag</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>读取当日价格 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准合约代码 </td></tr>
    <tr><td class="paramname">flag</td><td>价格标记（0-开盘价，1-最高价，2-最低价，3-收盘价） </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>当日价格 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#a512e3a612d6149d537fa2410b972b4b6">ICtaStraCtx</a>.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l01552">1552</a> 行定义.</p>

</div>
</div>
<a id="a0204b6e027caa6fedf03340112acc1cd" name="a0204b6e027caa6fedf03340112acc1cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0204b6e027caa6fedf03340112acc1cd">&#9670;&#160;</a></span>stra_get_detail_cost()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double CtaStraBaseCtx::stra_get_detail_cost </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>userTag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取指定标签持仓明细的开仓成本 </p>
<p>获取指定标签的开仓成本 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准合约代码 </td></tr>
    <tr><td class="paramname">userTag</td><td>用户标签 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>开仓成本</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">userTag</td><td>用户自定义标签 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>返回指定标签的开仓成本（入场价格），如果不存在则返回0</dd></dl>
<p>根据用户标签查找对应的持仓明细，并返回其开仓价格 </p><dl class="section note"><dt>注解</dt><dd>当需要计算特定信号生成的持仓收益率或止盈止损点时非常有用 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#af115aa96efe4e5f0caebd638251f5edd">ICtaStraCtx</a>.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l02342">2342</a> 行定义.</p>

</div>
</div>
<a id="ad5c4e7fb4772d2d59968c15cab94a737" name="ad5c4e7fb4772d2d59968c15cab94a737"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5c4e7fb4772d2d59968c15cab94a737">&#9670;&#160;</a></span>stra_get_detail_entertime()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t CtaStraBaseCtx::stra_get_detail_entertime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>userTag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取指定标签持仓明细的入场时间 </p>
<p>获取指定标签的开仓时间 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准合约代码 </td></tr>
    <tr><td class="paramname">userTag</td><td>用户标签 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>开仓时间</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">userTag</td><td>用户自定义标签 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>返回指定标签的入场时间，如果不存在则返回0</dd></dl>
<p>根据用户标签查找对应的持仓明细，并返回其入场时间 </p><dl class="section note"><dt>注解</dt><dd>当需要跟踪特定信号生成的持仓时间时非常有用 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#ab8ab0f45ce66e3d65134da6a7ffb1084">ICtaStraCtx</a>.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l02315">2315</a> 行定义.</p>

</div>
</div>
<a id="a2bd4d94640660d5a057a4ef97c58eb63" name="a2bd4d94640660d5a057a4ef97c58eb63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bd4d94640660d5a057a4ef97c58eb63">&#9670;&#160;</a></span>stra_get_detail_profit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double CtaStraBaseCtx::stra_get_detail_profit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>userTag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flag</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取指定标签持仓明细的盈亏 </p>
<p>获取指定标签的持仓盈亏 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准合约代码 </td></tr>
    <tr><td class="paramname">userTag</td><td>用户标签 </td></tr>
    <tr><td class="paramname">flag</td><td>数据标记（0-浮动盈亏，1-平仓盈亏） </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>持仓盈亏</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">userTag</td><td>用户自定义标签 </td></tr>
    <tr><td class="paramname">flag</td><td>盈亏标记，0-当前盈亏，1-最大盈利，2-最大亏损 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>返回指定标签的交易盈亏，如果不存在则返回0</dd></dl>
<p>根据用户标签和盈亏标记查找对应的持仓明细，并返回其盈亏情况 </p><dl class="section note"><dt>注解</dt><dd>可用于分析特定信号生成的持仓盈亏状况和最大回撤信息 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#ac7a516fcae5b5e9553dab599c68e9faa">ICtaStraCtx</a>.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l02370">2370</a> 行定义.</p>

</div>
</div>
<a id="a52cb609a654e2be621850b45d131b099" name="a52cb609a654e2be621850b45d131b099"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52cb609a654e2be621850b45d131b099">&#9670;&#160;</a></span>stra_get_first_entertime()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t CtaStraBaseCtx::stra_get_first_entertime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取合约首次入场时间 </p>
<p>获取标的第一次开仓时间 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准合约代码 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>第一次开仓时间</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>返回合约首次入场时间，如果没有持仓则返回0</dd></dl>
<p>获取指定合约当前持仓的首次入场时间 </p><dl class="section note"><dt>注解</dt><dd>可用于计算持仓时间并制定基于时间的交易策略 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#a6811685fdbd53f599f10b87ee8ed8bca">ICtaStraCtx</a>.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l02120">2120</a> 行定义.</p>

</div>
</div>
<a id="a2829b3778fbbee14b92c8c3487806d38" name="a2829b3778fbbee14b92c8c3487806d38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2829b3778fbbee14b92c8c3487806d38">&#9670;&#160;</a></span>stra_get_fund_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double CtaStraBaseCtx::stra_get_fund_data </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取资金相关数据 </p>
<p>获取资金数据 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">flag</td><td>数据标记（0-动态权益, 1-总盈亏, 2-总手续费） </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>资金数据值</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">flag</td><td>资金数据标记，0-总盈亏（0包含实现盈亏、浮动盈亏和费用），1-实现盈亏，2-浮动盈亏，3-手续费 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>返回策略相应的资金数据</dd></dl>
<p>根据传入的标记返回不同类型的资金数据信息 </p><dl class="section note"><dt>注解</dt><dd>常用于策略统计和风险控制，监控策略盈亏状况 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#af5238215f0855798f4bd10b0541cc33f">ICtaStraCtx</a>.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l02022">2022</a> 行定义.</p>

</div>
</div>
<a id="a84ded8f24ba7a83c0ad42bf1b872e59e" name="a84ded8f24ba7a83c0ad42bf1b872e59e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84ded8f24ba7a83c0ad42bf1b872e59e">&#9670;&#160;</a></span>stra_get_last_enterprice()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double CtaStraBaseCtx::stra_get_last_enterprice </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取合约最后一次入场价格 </p>
<p>获取标的最后一次开仓价格 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准合约代码 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>最后一次开仓价格</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>返回最近一次入场价格，如果没有持仓则返回0</dd></dl>
<p>获取指定合约当前持仓的最后一笔明细的开仓价格 </p><dl class="section note"><dt>注解</dt><dd>在做出场决策时，经常需要知道开仓价格以计算收益或止损点 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#a995e3ed98aa7ca2ed1d23b259dafc47d">ICtaStraCtx</a>.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l02198">2198</a> 行定义.</p>

</div>
</div>
<a id="a033428b76f88546035ca4dc768877845" name="a033428b76f88546035ca4dc768877845"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a033428b76f88546035ca4dc768877845">&#9670;&#160;</a></span>stra_get_last_entertag()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char * CtaStraBaseCtx::stra_get_last_entertag </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取合约最近一次入场的标签 </p>
<p>获取最近一次开仓的用户标签 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准合约代码 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>最近一次开仓的用户标签</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>返回最近入场的标签字符串，如果没有持仓则返回空字符串</dd></dl>
<p>获取指定合约当前持仓的最后一笔明细的入场标签 </p><dl class="section note"><dt>注解</dt><dd>可用于跟踪和识别不同策略信号生成的交易 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#ab99559f4f57b32c6f9431c17a9bd3e52">ICtaStraCtx</a>.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l02140">2140</a> 行定义.</p>

</div>
</div>
<a id="abc33fa5dbd2e2ab53d07cdcc847d6cc9" name="abc33fa5dbd2e2ab53d07cdcc847d6cc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc33fa5dbd2e2ab53d07cdcc847d6cc9">&#9670;&#160;</a></span>stra_get_last_entertime()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t CtaStraBaseCtx::stra_get_last_entertime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取合约最后一次入场时间 </p>
<p>获取标的最后一次开仓时间 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准合约代码 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>最后一次开仓时间</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>返回最近一次入场时间，如果没有持仓则返回0</dd></dl>
<p>获取指定合约当前持仓的最后一笔明细的开仓时间 </p><dl class="section note"><dt>注解</dt><dd>与stra_get_first_entertime不同，这个函数返回最后一笔明细的开仓时间，而非第一笔 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#ad226dae9bed8fcd2bbc0b44e56e45ca7">ICtaStraCtx</a>.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l02178">2178</a> 行定义.</p>

</div>
</div>
<a id="a029010e4530892e715dfd0a14d0d0989" name="a029010e4530892e715dfd0a14d0d0989"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a029010e4530892e715dfd0a14d0d0989">&#9670;&#160;</a></span>stra_get_last_exittime()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t CtaStraBaseCtx::stra_get_last_exittime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取合约最近一次出场时间 </p>
<p>获取标的最后一次平仓时间 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准合约代码 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>最后一次平仓时间</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>返回最近一次出场时间，如果没有持仓或未出场过则返回0</dd></dl>
<p>获取指定合约的最后一次平仓时间 </p><dl class="section note"><dt>注解</dt><dd>可用于识别交易频率和计算交易间隔，在再入场判断中非常有用 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#a6e932c2ee9bc8331973bccc20b6c74bc">ICtaStraCtx</a>.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l02161">2161</a> 行定义.</p>

</div>
</div>
<a id="a5fed170462201f10336860ec67b65287" name="a5fed170462201f10336860ec67b65287"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fed170462201f10336860ec67b65287">&#9670;&#160;</a></span>stra_get_last_tick()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWTSTickData.html">WTSTickData</a> * CtaStraBaseCtx::stra_get_last_tick </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取合约最新的Tick数据 </p>
<p>获取最新的Tick数据 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准合约代码 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>最新Tick数据指针</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>返回Tick数据指针，如果得不到则返回NULL</dd></dl>
<p>从引擎中获取指定合约的最新Tick数据 </p><dl class="section note"><dt>注解</dt><dd>这个函数常用于实时获取行情数据，与stra_get_ticks不同，只返回最新一条 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#a933e0662673baa997ace2a93f61035aa">ICtaStraCtx</a>.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l01918">1918</a> 行定义.</p>

</div>
</div>
<a id="a2692e018ba68097171d374e10f4d6de8" name="a2692e018ba68097171d374e10f4d6de8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2692e018ba68097171d374e10f4d6de8">&#9670;&#160;</a></span>stra_get_position()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double CtaStraBaseCtx::stra_get_position </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bOnlyValid</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>userTag</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取合约持仓量 </p>
<p>获取当前持仓 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准合约代码 </td></tr>
    <tr><td class="paramname">bOnlyValid</td><td>是否只返回有效仓位（已成交的） </td></tr>
    <tr><td class="paramname">userTag</td><td>用户标签，如果指定则只返回对应标签的持仓 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>持仓数量，正数表示多头，负数表示空头</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">bOnlyValid</td><td>是否只返回有效持仓（即非冻结部分），默认为false </td></tr>
    <tr><td class="paramname">userTag</td><td>用户自定义标签，如果非空则只返回指定标签的持仓 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>持仓数量，正数表示多头，负数表示空头</dd></dl>
<p>获取指定合约的持仓量，包括未触发信号的仓位和实际持仓 </p><dl class="section note"><dt>注解</dt><dd>当userTag非空时，bOnlyValid参数无效；对空头持仓，冻结仓位始终为0 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#a7cce56f329a7047c906edd5b891e53b8">ICtaStraCtx</a>.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l02220">2220</a> 行定义.</p>

</div>
</div>
<a id="a05e7bfde25a6b4bca40aae4e67550e98" name="a05e7bfde25a6b4bca40aae4e67550e98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05e7bfde25a6b4bca40aae4e67550e98">&#9670;&#160;</a></span>stra_get_position_avgpx()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double CtaStraBaseCtx::stra_get_position_avgpx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取持仓均价 </p>
<p>获取标的持仓均价 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准合约代码 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>持仓均价</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>持仓均价，无持仓时返回0</dd></dl>
<p>计算指定合约的所有明细持仓的加权平均价 </p><dl class="section note"><dt>注解</dt><dd>必须有实际持仓才会返回有效均价，否则返回0 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#ae0747e6c18e9b79777531ba80601eb33">ICtaStraCtx</a>.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l02270">2270</a> 行定义.</p>

</div>
</div>
<a id="aec37a6f5292f994491267d8eaf116d4b" name="aec37a6f5292f994491267d8eaf116d4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec37a6f5292f994491267d8eaf116d4b">&#9670;&#160;</a></span>stra_get_position_profit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double CtaStraBaseCtx::stra_get_position_profit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取持仓浮动盈亏 </p>
<p>获取标的持仓盈亏 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准合约代码 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>持仓盈亏</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>浮动盈亏值，无持仓或不存在时返回0</dd></dl>
<p>返回指定合约的当前浮动盈亏（未实现盈亏） </p><dl class="section note"><dt>注解</dt><dd>浮动盈亏基于当前行情价格计算，会随行情波动而变化 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#a727410a02fef842e0069160d9225de7d">ICtaStraCtx</a>.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l02297">2297</a> 行定义.</p>

</div>
</div>
<a id="a2c688f82fc7cd9c5aa1161e9f13eff03" name="a2c688f82fc7cd9c5aa1161e9f13eff03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c688f82fc7cd9c5aa1161e9f13eff03">&#9670;&#160;</a></span>stra_get_price()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double CtaStraBaseCtx::stra_get_price </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取合约最新价格 </p>
<p>获取当前最新价格 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准合约代码 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>最新价格</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>合约最新价格，如果不存在则返回0</dd></dl>
<p>先从价格缓存中获取，如果缓存中不存在则从引擎中获取 </p><dl class="section note"><dt>注解</dt><dd>策略计算和交易决策时经常需要查询最新价格 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#ad823ea710a2e96a3edb35c3e9e4bdb20">ICtaStraCtx</a>.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l01540">1540</a> 行定义.</p>

</div>
</div>
<a id="aa3b98513ecc174e1e56e66ffb0d351cc" name="aa3b98513ecc174e1e56e66ffb0d351cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3b98513ecc174e1e56e66ffb0d351cc">&#9670;&#160;</a></span>stra_get_rawcode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string CtaStraBaseCtx::stra_get_rawcode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取合约原始代码 </p>
<p>获取分月合约代码 将标准化的合约代码转换为原始的分月合约代码 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化的合约代码 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>原始的分月合约代码</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>返回合约原始代码字符串</dd></dl>
<p>将标准化合约代码转换为原始交易所代码 </p><dl class="section note"><dt>注解</dt><dd>当需要将内部的标准化代码转换为交易所原始代码时使用 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#aa7892eb2e1c5ebe19dd97d7087bfd2b0">ICtaStraCtx</a>.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l01977">1977</a> 行定义.</p>

</div>
</div>
<a id="a849e50138035efddb7d615ddd97ed697" name="a849e50138035efddb7d615ddd97ed697"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a849e50138035efddb7d615ddd97ed697">&#9670;&#160;</a></span>stra_get_tdate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t CtaStraBaseCtx::stra_get_tdate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取当前交易日期 </p>
<p>获取交易日期 </p><dl class="section return"><dt>返回</dt><dd>交易日期，格式YYYYMMDD</dd>
<dd>
返回交易日期数值，格式YYYYMMDD</dd></dl>
<p>从引擎中获取当前的交易日期 </p><dl class="section note"><dt>注解</dt><dd>交易日期与自然日期不同，对于夜盘品种，晚上的交易属于下一个交易日 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#a870c9c5eb14afb0f56a20b59a04bcbac">ICtaStraCtx</a>.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l01988">1988</a> 行定义.</p>

</div>
</div>
<a id="a83ae0a8ca0fbd2d8cbb3e5d566569ebc" name="a83ae0a8ca0fbd2d8cbb3e5d566569ebc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83ae0a8ca0fbd2d8cbb3e5d566569ebc">&#9670;&#160;</a></span>stra_get_ticks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWTSTickSlice.html">WTSTickSlice</a> * CtaStraBaseCtx::stra_get_ticks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取合约Tick数据 </p>
<p>获取Tick数据切片 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准合约代码 </td></tr>
    <tr><td class="paramname">count</td><td>数据条数 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>Tick数据切片指针</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">count</td><td>请求的Tick数量 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>返回Tick数据切片指针，如果得不到则返回NULL</dd></dl>
<p>获取指定合约的历史Tick数据，同时自动订阅该合约的行情 </p><dl class="section note"><dt>注解</dt><dd>当策略需要基于Tick级别数据进行决策时使用 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#a4d9d76e994c640ba13c4b8c750aa530f">ICtaStraCtx</a>.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l01902">1902</a> 行定义.</p>

</div>
</div>
<a id="a3a7a7f97c3d2e1d10915938513b992ce" name="a3a7a7f97c3d2e1d10915938513b992ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a7a7f97c3d2e1d10915938513b992ce">&#9670;&#160;</a></span>stra_get_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t CtaStraBaseCtx::stra_get_time </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取当前交易时间 </p>
<p>获取当前时间 </p><dl class="section return"><dt>返回</dt><dd>当前时间，格式HHMMSS或HHMMSS*1000+毫秒</dd>
<dd>
返回当前时间数值，格式HHMM（小时分钟）</dd></dl>
<p>从引擎中获取当前的分钟时间 </p><dl class="section note"><dt>注解</dt><dd>主要用于策略判断当前交易时间点，进行时间相关的交易决策 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#a4d254c9380dd33229861c0f06f354ee3">ICtaStraCtx</a>.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l02010">2010</a> 行定义.</p>

</div>
</div>
<a id="a5b4ead7af019dcd4dd8bf53cc5e8dd2a" name="a5b4ead7af019dcd4dd8bf53cc5e8dd2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b4ead7af019dcd4dd8bf53cc5e8dd2a">&#9670;&#160;</a></span>stra_load_user_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char * CtaStraBaseCtx::stra_load_user_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>defVal</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>加载策略用户数据 </p>
<p>加载用户自定义数据 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>数据键名 </td></tr>
    <tr><td class="paramname">defVal</td><td>默认值，当数据不存在时返回 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>数据值或默认值</dd></dl>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>数据键名 </td></tr>
    <tr><td class="paramname">defVal</td><td>默认值，当指定键不存在时返回 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>返回指定键名对应的数据值，如果不存在则返回默认值</dd></dl>
<p>从策略的用户数据存储中根据键名检索数据 </p><dl class="section note"><dt>注解</dt><dd>用于存储和检索策略相关的自定义设置和运行状态 </dd></dl>

<p>重载 <a class="el" href="classICtaStraCtx.html#a1e02fc194c971726949d4505f1423798">ICtaStraCtx</a> .</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l02091">2091</a> 行定义.</p>

</div>
</div>
<a id="adfab363a3b36a706cccfb695e6e7915a" name="adfab363a3b36a706cccfb695e6e7915a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfab363a3b36a706cccfb695e6e7915a">&#9670;&#160;</a></span>stra_log_debug()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CtaStraBaseCtx::stra_log_debug </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>记录调试级别的日志 </p>
<p>记录调试日志 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>日志内容</td></tr>
    <tr><td class="paramname">message</td><td>日志信息内容</td></tr>
  </table>
  </dd>
</dl>
<p>将调试级别的日志写入策略日志文件 </p><dl class="section note"><dt>注解</dt><dd>调试级别日志用于记录详细的运行信息，日志量较大，仅在调试时使用 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#a68271f9d0c5e82f1b431d302f156bcad">ICtaStraCtx</a>.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l02056">2056</a> 行定义.</p>

</div>
</div>
<a id="a8a25504f120c63ab4646323c98bba16f" name="a8a25504f120c63ab4646323c98bba16f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a25504f120c63ab4646323c98bba16f">&#9670;&#160;</a></span>stra_log_error()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CtaStraBaseCtx::stra_log_error </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>记录错误级别的日志 </p>
<p>记录错误日志 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>日志内容</td></tr>
    <tr><td class="paramname">message</td><td>日志信息内容</td></tr>
  </table>
  </dd>
</dl>
<p>将错误级别的日志写入策略日志文件 </p><dl class="section note"><dt>注解</dt><dd>错误级别日志用于记录策略运行中的严重问题和异常，需要立即关注和处理 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#a071b1c5a49b98e96423da9de8a0ce612">ICtaStraCtx</a>.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l02078">2078</a> 行定义.</p>

</div>
</div>
<a id="afd7488aa0ea59d672c116459bb5f9a0f" name="afd7488aa0ea59d672c116459bb5f9a0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd7488aa0ea59d672c116459bb5f9a0f">&#9670;&#160;</a></span>stra_log_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CtaStraBaseCtx::stra_log_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>记录信息级别的日志 </p>
<p>记录信息日志 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>日志内容</td></tr>
    <tr><td class="paramname">message</td><td>日志信息内容</td></tr>
  </table>
  </dd>
</dl>
<p>将信息级别的日志写入策略日志文件 </p><dl class="section note"><dt>注解</dt><dd>信息级别日志用于记录策略的一般性操作和状态信息 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#ab86a3f0613c6464c1776c17953356717">ICtaStraCtx</a>.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l02045">2045</a> 行定义.</p>

</div>
</div>
<a id="a683795df66adafcaa916ca13aefcbcf7" name="a683795df66adafcaa916ca13aefcbcf7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a683795df66adafcaa916ca13aefcbcf7">&#9670;&#160;</a></span>stra_log_warn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CtaStraBaseCtx::stra_log_warn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>记录警告级别的日志 </p>
<p>记录警告日志 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>日志内容</td></tr>
    <tr><td class="paramname">message</td><td>日志信息内容</td></tr>
  </table>
  </dd>
</dl>
<p>将警告级别的日志写入策略日志文件 </p><dl class="section note"><dt>注解</dt><dd>警告级别日志用于记录策略中的异常情况和需要注意的问题 </dd></dl>

<p>重载 <a class="el" href="classICtaStraCtx.html#a56b099d80e4d9bdd6ee6a804dbb524ba">ICtaStraCtx</a> .</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l02067">2067</a> 行定义.</p>

</div>
</div>
<a id="ad5262916ccc3068bdc828928d2bb9179" name="ad5262916ccc3068bdc828928d2bb9179"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5262916ccc3068bdc828928d2bb9179">&#9670;&#160;</a></span>stra_save_user_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CtaStraBaseCtx::stra_save_user_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>保存策略用户数据 </p>
<p>保存用户自定义数据 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>数据键名 </td></tr>
    <tr><td class="paramname">val</td><td>数据值</td></tr>
    <tr><td class="paramname">key</td><td>数据键名 </td></tr>
    <tr><td class="paramname">val</td><td>数据值</td></tr>
  </table>
  </dd>
</dl>
<p>将指定的键值对保存到策略的用户数据存储中 </p><dl class="section note"><dt>注解</dt><dd>保存数据时会标记数据已修改状态，策略调度完成后会自动存盘 </dd></dl>

<p>重载 <a class="el" href="classICtaStraCtx.html#af1b4cdb3917f929bef5e0c9d7d40a5b2">ICtaStraCtx</a> .</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l02107">2107</a> 行定义.</p>

</div>
</div>
<a id="a337c744bfefbae049be280207fda70ac" name="a337c744bfefbae049be280207fda70ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a337c744bfefbae049be280207fda70ac">&#9670;&#160;</a></span>stra_set_position()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CtaStraBaseCtx::stra_set_position </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>qty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>userTag</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>limitprice</em> = <code>0.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>stopprice</em> = <code>0.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>设置目标仓位 </p>
<p>设置目标仓位 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准合约代码 </td></tr>
    <tr><td class="paramname">qty</td><td>目标仓位数量，正数表示多头，负数表示空头 </td></tr>
    <tr><td class="paramname">userTag</td><td>用户标签 </td></tr>
    <tr><td class="paramname">limitprice</td><td>限价 </td></tr>
    <tr><td class="paramname">stopprice</td><td>止损价</td></tr>
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">qty</td><td>目标仓位量，正数表示多头，负数表示空头，0表示平仓 </td></tr>
    <tr><td class="paramname">userTag</td><td>用户自定义标签 </td></tr>
    <tr><td class="paramname">limitprice</td><td>限价，默认0表示市价单 </td></tr>
    <tr><td class="paramname">stopprice</td><td>止损价，默认0表示市价单</td></tr>
  </table>
  </dd>
</dl>
<p>设置策略目标仓位，对外的通用持仓设置接口，自动处理多空切换、开平逻辑 </p><dl class="section note"><dt>注解</dt><dd>支持市价单和条件单两种模式，内部调用append_signal或者添加条件单 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#ae82ee2f95826e38a79268d7bcde0e8a1">ICtaStraCtx</a>.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l01570">1570</a> 行定义.</p>

</div>
</div>
<a id="a52ba2a623f6c49b12496eda5da50ef7e" name="a52ba2a623f6c49b12496eda5da50ef7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52ba2a623f6c49b12496eda5da50ef7e">&#9670;&#160;</a></span>stra_sub_bar_events()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CtaStraBaseCtx::stra_sub_bar_events </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>period</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>订阅K线事件通知 </p>
<p>订阅K线事件 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准合约代码 </td></tr>
    <tr><td class="paramname">period</td><td>周期类型</td></tr>
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">period</td><td>K线周期，如m1、5m、d1等</td></tr>
  </table>
  </dd>
</dl>
<p>将指定合约和周期的K线标记为需要通知的状态 </p><dl class="section note"><dt>注解</dt><dd>当策略需要在某些周期的K线更新时收到通知进行响应时使用 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#a4fe27e3cfc0943f0fa3bd0ffd850be5f">ICtaStraCtx</a>.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l01949">1949</a> 行定义.</p>

</div>
</div>
<a id="afc323068923f5f6676340f846e4f19ed" name="afc323068923f5f6676340f846e4f19ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc323068923f5f6676340f846e4f19ed">&#9670;&#160;</a></span>stra_sub_ticks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CtaStraBaseCtx::stra_sub_ticks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>主动订阅合约的Tick数据 </p>
<p>订阅Tick数据 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准合约代码</td></tr>
    <tr><td class="paramname">code</td><td>标准化合约代码</td></tr>
  </table>
  </dd>
</dl>
<p>将合约编码添加到订阅列表中并通知引擎订阅相应的Tick数据 </p><dl class="section note"><dt>注解</dt><dd>当策略需要实时监控某些合约的行情，但不一定要交易该合约时使用 </dd></dl>

<p>实现了 <a class="el" href="classICtaStraCtx.html#ad7e8b26e86657503a8f8d4567f7107d9">ICtaStraCtx</a>.</p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l01929">1929</a> 行定义.</p>

</div>
</div>
<a id="a3c8f1e8507aa3d38df78b1dd8bd41224" name="a3c8f1e8507aa3d38df78b1dd8bd41224"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c8f1e8507aa3d38df78b1dd8bd41224">&#9670;&#160;</a></span>update_dyn_profit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CtaStraBaseCtx::update_dyn_profit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>price</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>更新合约浮动盈亏 </p>
<p>更新动态盈亏 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>标准合约代码 </td></tr>
    <tr><td class="paramname">price</td><td>当前价格</td></tr>
    <tr><td class="paramname">stdCode</td><td>标准化合约代码 </td></tr>
    <tr><td class="paramname">price</td><td>最新价格</td></tr>
  </table>
  </dd>
</dl>
<p>根据当前行情更新指定合约的浮动盈亏，并跟踪最大盈利、最大亏损、最高价和最低价 </p><dl class="section note"><dt>注解</dt><dd>在每次行情更新时调用，会同时更新策略总的浮动盈亏 </dd></dl>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a> 第 <a class="el" href="CtaStraBaseCtx_8cpp_source.html#l00871">871</a> 行定义.</p>

</div>
</div>
<h2 class="groupheader">类成员变量说明</h2>
<a id="a21a80a07cdfbc55733c8fd2bea88f9fb" name="a21a80a07cdfbc55733c8fd2bea88f9fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21a80a07cdfbc55733c8fd2bea88f9fb">&#9670;&#160;</a></span>_barevt_subs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classwt__hashset.html">wt_hashset</a>&lt;std::string&gt; CtaStraBaseCtx::_barevt_subs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>K线事件订阅集合 存储策略订阅的所有K线事件的合约代码和周期引用 </p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l01098">1098</a> 行定义.</p>

</div>
</div>
<a id="a13f71d4696010ca0426cf5ba4e3cd476" name="a13f71d4696010ca0426cf5ba4e3cd476"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13f71d4696010ca0426cf5ba4e3cd476">&#9670;&#160;</a></span>_chart_code</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string CtaStraBaseCtx::_chart_code</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>图表合约代码 当前图表显示的合约代码 </p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l01106">1106</a> 行定义.</p>

</div>
</div>
<a id="a8e092d52d77385bf693d48b00781960a" name="a8e092d52d77385bf693d48b00781960a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e092d52d77385bf693d48b00781960a">&#9670;&#160;</a></span>_chart_indice</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classwt__hashmap.html">wt_hashmap</a>&lt;std::string, <a class="el" href="classCtaStraBaseCtx.html#aa70762182d66ff2b452f2663971efc2a">ChartIndex</a>&gt; CtaStraBaseCtx::_chart_indice</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>图表指标映射 存储所有技术指标，键为指标名称 </p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l01168">1168</a> 行定义.</p>

</div>
</div>
<a id="a082249915919cc74584b5b99b02745e3" name="a082249915919cc74584b5b99b02745e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a082249915919cc74584b5b99b02745e3">&#9670;&#160;</a></span>_chart_period</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string CtaStraBaseCtx::_chart_period</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>图表周期 当前图表显示的K线周期 </p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l01112">1112</a> 行定义.</p>

</div>
</div>
<a id="afa7a5c2c6af651cf214a0d9f3f69d1cc" name="afa7a5c2c6af651cf214a0d9f3f69d1cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa7a5c2c6af651cf214a0d9f3f69d1cc">&#9670;&#160;</a></span>_close_logs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="BoostFile_8hpp.html#a596e60eb12117122d44c36f261d58a04">BoostFilePtr</a> CtaStraBaseCtx::_close_logs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>平仓日志文件指针 记录所有平仓记录及收益 </p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l00971">971</a> 行定义.</p>

</div>
</div>
<a id="a422fc3776735382336a59aa72c12cd3f" name="a422fc3776735382336a59aa72c12cd3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a422fc3776735382336a59aa72c12cd3f">&#9670;&#160;</a></span>_condtions</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="CtaStraBaseCtx_8h.html#a4f907939e222c805bb69004f7be6e6c6">CondEntrustMap</a> CtaStraBaseCtx::_condtions</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>条件委托映射 存储策略设置的所有条件委托 </p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l01007">1007</a> 行定义.</p>

</div>
</div>
<a id="a929dbbc2e7be49a5e3bc4d7aeb6ce76c" name="a929dbbc2e7be49a5e3bc4d7aeb6ce76c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a929dbbc2e7be49a5e3bc4d7aeb6ce76c">&#9670;&#160;</a></span>_context_id</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t CtaStraBaseCtx::_context_id</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>策略上下文唯一标识符 每个策略实例在创建时生成的唯一ID </p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l00631">631</a> 行定义.</p>

</div>
</div>
<a id="ae98a56cef5be34c35183b02647bc43e4" name="ae98a56cef5be34c35183b02647bc43e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae98a56cef5be34c35183b02647bc43e4">&#9670;&#160;</a></span>_emit_times</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t CtaStraBaseCtx::_emit_times</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>总计算次数 策略计算函数被调用的总次数，用于统计策略性能 </p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l00655">655</a> 行定义.</p>

</div>
</div>
<a id="a87f857645b19cf867ae71b2669de32ec" name="a87f857645b19cf867ae71b2669de32ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87f857645b19cf867ae71b2669de32ec">&#9670;&#160;</a></span>_engine</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWtCtaEngine.html">WtCtaEngine</a>* CtaStraBaseCtx::_engine</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>CTA引擎指针 指向策略所属的CTA引擎实例，用于策略和引擎之间的交互 </p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l00637">637</a> 行定义.</p>

</div>
</div>
<a id="a0dae71cb2822d3883b9f4451aade0353" name="a0dae71cb2822d3883b9f4451aade0353"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0dae71cb2822d3883b9f4451aade0353">&#9670;&#160;</a></span>_fund_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCtaStraBaseCtx.html#af6b704f4f192ed9b41a19ddc8465abad">StraFundInfo</a> CtaStraBaseCtx::_fund_info</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>策略资金信息实例 记录策略的资金和收益数据 </p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l01085">1085</a> 行定义.</p>

</div>
</div>
<a id="a5ed6da1895ed9859533d45f2d1ebfb37" name="a5ed6da1895ed9859533d45f2d1ebfb37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ed6da1895ed9859533d45f2d1ebfb37">&#9670;&#160;</a></span>_fund_logs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="BoostFile_8hpp.html#a596e60eb12117122d44c36f261d58a04">BoostFilePtr</a> CtaStraBaseCtx::_fund_logs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>资金日志文件指针 记录资金变化情况 </p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l00977">977</a> 行定义.</p>

</div>
</div>
<a id="aabddba701ecabb73f23b2c4e747e4910" name="aabddba701ecabb73f23b2c4e747e4910"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabddba701ecabb73f23b2c4e747e4910">&#9670;&#160;</a></span>_idx_logs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="BoostFile_8hpp.html#a596e60eb12117122d44c36f261d58a04">BoostFilePtr</a> CtaStraBaseCtx::_idx_logs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>指标日志文件指针 记录技术指标变化 </p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l00995">995</a> 行定义.</p>

</div>
</div>
<a id="a8479d39c878f28b2e277c6baa4d75e58" name="a8479d39c878f28b2e277c6baa4d75e58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8479d39c878f28b2e277c6baa4d75e58">&#9670;&#160;</a></span>_is_in_schedule</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CtaStraBaseCtx::_is_in_schedule</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>是否在自动调度中 用于标记策略当前是否处于调度执行中 </p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l01026">1026</a> 行定义.</p>

</div>
</div>
<a id="adad8b4f16b109894bfe07a4d99816ac6" name="adad8b4f16b109894bfe07a4d99816ac6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adad8b4f16b109894bfe07a4d99816ac6">&#9670;&#160;</a></span>_kline_tags</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCtaStraBaseCtx.html#a8e4a9abc043810954e711e1f3e3c5238">KlineTags</a> CtaStraBaseCtx::_kline_tags</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>K线标签映射实例 记录策略关注的所有K线周期的状态信息 </p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l00708">708</a> 行定义.</p>

</div>
</div>
<a id="a699af77e2018ce2173d08e45be2e2256" name="a699af77e2018ce2173d08e45be2e2256"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a699af77e2018ce2173d08e45be2e2256">&#9670;&#160;</a></span>_last_barno</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t CtaStraBaseCtx::_last_barno</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>上次设置的K线编号 用于回测时记录上次处理的K线编号 </p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l01019">1019</a> 行定义.</p>

</div>
</div>
<a id="a7498e34161a86c0cbbeda30b38ebb51f" name="a7498e34161a86c0cbbeda30b38ebb51f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7498e34161a86c0cbbeda30b38ebb51f">&#9670;&#160;</a></span>_last_cond_min</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t CtaStraBaseCtx::_last_cond_min</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>上次设置条件单的时间 记录上一次设置条件单的分钟时间戳 </p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l01013">1013</a> 行定义.</p>

</div>
</div>
<a id="a8e4a5491e29ec7077b85af7263e5f40c" name="a8e4a5491e29ec7077b85af7263e5f40c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e4a5491e29ec7077b85af7263e5f40c">&#9670;&#160;</a></span>_main_code</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string CtaStraBaseCtx::_main_code</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>主图表合约代码 策略主图表中显示的合约代码 </p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l00667">667</a> 行定义.</p>

</div>
</div>
<a id="a5d63a6a9f25fbc7f28d91a17ce6684bf" name="a5d63a6a9f25fbc7f28d91a17ce6684bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d63a6a9f25fbc7f28d91a17ce6684bf">&#9670;&#160;</a></span>_main_key</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string CtaStraBaseCtx::_main_key</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>主图表标签键 用于标识策略主图表的唯一键 </p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l00661">661</a> 行定义.</p>

</div>
</div>
<a id="a95538cfa7bf89da8f2e41473bc8c1aef" name="a95538cfa7bf89da8f2e41473bc8c1aef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95538cfa7bf89da8f2e41473bc8c1aef">&#9670;&#160;</a></span>_main_period</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string CtaStraBaseCtx::_main_period</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>主图表周期 策略主图表中使用的K线周期 </p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l00673">673</a> 行定义.</p>

</div>
</div>
<a id="acecd7e1a5bb012b218b74aa7694e8c4a" name="acecd7e1a5bb012b218b74aa7694e8c4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acecd7e1a5bb012b218b74aa7694e8c4a">&#9670;&#160;</a></span>_mark_logs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="BoostFile_8hpp.html#a596e60eb12117122d44c36f261d58a04">BoostFilePtr</a> CtaStraBaseCtx::_mark_logs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>标记日志文件指针 记录图表标记信息 </p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l01001">1001</a> 行定义.</p>

</div>
</div>
<a id="a1c3abc087338edbfd33407ccf4d9c6db" name="a1c3abc087338edbfd33407ccf4d9c6db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c3abc087338edbfd33407ccf4d9c6db">&#9670;&#160;</a></span>_mutex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSpinMutex.html">SpinMutex</a> CtaStraBaseCtx::_mutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>同步锁 用于策略内部的线程同步 </p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l01175">1175</a> 行定义.</p>

</div>
</div>
<a id="ae111d3e6bdc504c392f47b67b3a2889a" name="ae111d3e6bdc504c392f47b67b3a2889a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae111d3e6bdc504c392f47b67b3a2889a">&#9670;&#160;</a></span>_pos_logs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="BoostFile_8hpp.html#a596e60eb12117122d44c36f261d58a04">BoostFilePtr</a> CtaStraBaseCtx::_pos_logs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>持仓日志文件指针 记录持仓变动情况 </p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l00989">989</a> 行定义.</p>

</div>
</div>
<a id="a294d9738e71223b11aee1f6d4e5d025f" name="a294d9738e71223b11aee1f6d4e5d025f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a294d9738e71223b11aee1f6d4e5d025f">&#9670;&#160;</a></span>_pos_map</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCtaStraBaseCtx.html#a99c8d9dd3780cfab8d66782f0f378034">PositionMap</a> CtaStraBaseCtx::_pos_map</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>持仓映射实例 用于记录策略的所有持仓情况 </p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l00888">888</a> 行定义.</p>

</div>
</div>
<a id="af6611807765a172618d2b88944ccc317" name="af6611807765a172618d2b88944ccc317"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6611807765a172618d2b88944ccc317">&#9670;&#160;</a></span>_price_map</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCtaStraBaseCtx.html#a14f29305d53e10fd120397e62d567fdc">PriceMap</a> CtaStraBaseCtx::_price_map</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>价格映射实例 用于快速获取策略交易标的的最新价格 </p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l00721">721</a> 行定义.</p>

</div>
</div>
<a id="a382a7e64af1e3c2e30cfc4d7fc73bf6c" name="a382a7e64af1e3c2e30cfc4d7fc73bf6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a382a7e64af1e3c2e30cfc4d7fc73bf6c">&#9670;&#160;</a></span>_sig_logs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="BoostFile_8hpp.html#a596e60eb12117122d44c36f261d58a04">BoostFilePtr</a> CtaStraBaseCtx::_sig_logs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>信号日志文件指针 记录策略生成的交易信号 </p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l00983">983</a> 行定义.</p>

</div>
</div>
<a id="a44bee555501927044ec8211b4613336a" name="a44bee555501927044ec8211b4613336a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44bee555501927044ec8211b4613336a">&#9670;&#160;</a></span>_sig_map</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCtaStraBaseCtx.html#a4fd2321559d3e14c8dd3c4436f0c59ae">SignalMap</a> CtaStraBaseCtx::_sig_map</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>信号映射实例 用于策略对交易信号的管理 </p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l00959">959</a> 行定义.</p>

</div>
</div>
<a id="a79dadc53b825ce7cd88c79682f3eac84" name="a79dadc53b825ce7cd88c79682f3eac84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79dadc53b825ce7cd88c79682f3eac84">&#9670;&#160;</a></span>_slippage</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t CtaStraBaseCtx::_slippage</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>滑点设置 交易执行时的价格调整，模拟实际交易中的滑点因素 </p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l00643">643</a> 行定义.</p>

</div>
</div>
<a id="a0dc4d371b87abb3a2c508035862382d3" name="a0dc4d371b87abb3a2c508035862382d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0dc4d371b87abb3a2c508035862382d3">&#9670;&#160;</a></span>_tick_subs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classwt__hashset.html">wt_hashset</a>&lt;std::string&gt; CtaStraBaseCtx::_tick_subs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Tick数据订阅集合 存储策略订阅的所有Tick数据的合约代码 </p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l01092">1092</a> 行定义.</p>

</div>
</div>
<a id="a0e6d42cde991978ebdee12f72227657c" name="a0e6d42cde991978ebdee12f72227657c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e6d42cde991978ebdee12f72227657c">&#9670;&#160;</a></span>_total_calc_time</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t CtaStraBaseCtx::_total_calc_time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>总计算时间 策略计算耗费的总时间，用于统计策略性能 </p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l00649">649</a> 行定义.</p>

</div>
</div>
<a id="a1a46303295de3731e64cab58635a8102" name="a1a46303295de3731e64cab58635a8102"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a46303295de3731e64cab58635a8102">&#9670;&#160;</a></span>_trade_logs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="BoostFile_8hpp.html#a596e60eb12117122d44c36f261d58a04">BoostFilePtr</a> CtaStraBaseCtx::_trade_logs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>交易日志文件指针 记录所有交易明细 </p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l00965">965</a> 行定义.</p>

</div>
</div>
<a id="af340dda49495f9157fd73a919ca1f9f3" name="af340dda49495f9157fd73a919ca1f9f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af340dda49495f9157fd73a919ca1f9f3">&#9670;&#160;</a></span>_ud_modified</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CtaStraBaseCtx::_ud_modified</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>用户数据是否被修改 标记用户数据是否需要保存 </p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l01045">1045</a> 行定义.</p>

</div>
</div>
<a id="adf9ec48c204f812704755776ce488d74" name="adf9ec48c204f812704755776ce488d74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf9ec48c204f812704755776ce488d74">&#9670;&#160;</a></span>_user_datas</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCtaStraBaseCtx.html#ae1534af884c693facfe18e960a031c05">StringHashMap</a> CtaStraBaseCtx::_user_datas</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>用户数据映射 存储策略的自定义数据，键值对格式 </p>

<p class="definition">在文件 <a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a> 第 <a class="el" href="CtaStraBaseCtx_8h_source.html#l01039">1039</a> 行定义.</p>

</div>
</div>
<hr/>该类的文档由以下文件生成:<ul>
<li>src/WtCore/<a class="el" href="CtaStraBaseCtx_8h_source.html">CtaStraBaseCtx.h</a></li>
<li>src/WtCore/<a class="el" href="CtaStraBaseCtx_8cpp_source.html">CtaStraBaseCtx.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classCtaStraBaseCtx.html">CtaStraBaseCtx</a></li>
    <li class="footer">制作者 <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
