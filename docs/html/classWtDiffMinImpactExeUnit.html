<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WonderTrader: WtDiffMinImpactExeUnit类 参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">WonderTrader<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">高性能量化交易平台</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classWtDiffMinImpactExeUnit.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">载入中...</div>
<div class="SRStatus" id="Searching">搜索中...</div>
<div class="SRStatus" id="NoMatches">未找到</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">类</a> &#124;
<a href="#pub-methods">Public 成员函数</a> &#124;
<a href="#pri-types">Private 类型</a> &#124;
<a href="#pri-methods">Private 成员函数</a> &#124;
<a href="#pri-attribs">Private 属性</a> &#124;
<a href="classWtDiffMinImpactExeUnit-members.html">所有成员列表</a>  </div>
  <div class="headertitle"><div class="title">WtDiffMinImpactExeUnit类 参考</div></div>
</div><!--header-->
<div class="contents">

<p>差量最小冲击执行单元  
 <a href="classWtDiffMinImpactExeUnit.html#details">更多...</a></p>

<p><code>#include &lt;<a class="el" href="WtDiffMinImpactExeUnit_8h_source.html">WtDiffMinImpactExeUnit.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
类</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structWtDiffMinImpactExeUnit_1_1__CalcFlag.html">_CalcFlag</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">计算标志结构体  <a href="structWtDiffMinImpactExeUnit_1_1__CalcFlag.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public 成员函数</h2></td></tr>
<tr class="memitem:af76832573f35bd8880fbfa2cf20e1c4c" id="r_af76832573f35bd8880fbfa2cf20e1c4c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDiffMinImpactExeUnit.html#af76832573f35bd8880fbfa2cf20e1c4c">WtDiffMinImpactExeUnit</a> ()</td></tr>
<tr class="memdesc:af76832573f35bd8880fbfa2cf20e1c4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">构造函数  <br /></td></tr>
<tr class="separator:af76832573f35bd8880fbfa2cf20e1c4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adefbad0fea09cb29a370c3e32e561698" id="r_adefbad0fea09cb29a370c3e32e561698"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDiffMinImpactExeUnit.html#adefbad0fea09cb29a370c3e32e561698">~WtDiffMinImpactExeUnit</a> ()</td></tr>
<tr class="memdesc:adefbad0fea09cb29a370c3e32e561698"><td class="mdescLeft">&#160;</td><td class="mdescRight">析构函数  <br /></td></tr>
<tr class="separator:adefbad0fea09cb29a370c3e32e561698"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fd1a8fbf2c257057408691252ebaf9f" id="r_a3fd1a8fbf2c257057408691252ebaf9f"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDiffMinImpactExeUnit.html#a3fd1a8fbf2c257057408691252ebaf9f">getFactName</a> () override</td></tr>
<tr class="memdesc:a3fd1a8fbf2c257057408691252ebaf9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取所属执行器工厂名称  <br /></td></tr>
<tr class="separator:a3fd1a8fbf2c257057408691252ebaf9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16be05671538007f68486051d746e78c" id="r_a16be05671538007f68486051d746e78c"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDiffMinImpactExeUnit.html#a16be05671538007f68486051d746e78c">getName</a> () override</td></tr>
<tr class="memdesc:a16be05671538007f68486051d746e78c"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取执行单元名称  <br /></td></tr>
<tr class="separator:a16be05671538007f68486051d746e78c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a135c1c6a66b7448059cda5e1290f91e3" id="r_a135c1c6a66b7448059cda5e1290f91e3"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDiffMinImpactExeUnit.html#a135c1c6a66b7448059cda5e1290f91e3">init</a> (<a class="el" href="classExecuteContext.html">ExecuteContext</a> *ctx, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, <a class="el" href="classWTSVariant.html">WTSVariant</a> *cfg) override</td></tr>
<tr class="memdesc:a135c1c6a66b7448059cda5e1290f91e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">初始化执行单元  <br /></td></tr>
<tr class="separator:a135c1c6a66b7448059cda5e1290f91e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74a7964c7e2fd302852909ff2ceab341" id="r_a74a7964c7e2fd302852909ff2ceab341"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDiffMinImpactExeUnit.html#a74a7964c7e2fd302852909ff2ceab341">on_order</a> (uint32_t localid, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, bool isBuy, double leftover, double <a class="el" href="demo__send__order_8cpp.html#a04f887fc8800d4727971dbb8eb550132">price</a>, bool isCanceled) override</td></tr>
<tr class="memdesc:a74a7964c7e2fd302852909ff2ceab341"><td class="mdescLeft">&#160;</td><td class="mdescRight">订单回报处理  <br /></td></tr>
<tr class="separator:a74a7964c7e2fd302852909ff2ceab341"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac40590d319ad81eba8fc8f5e20db54a3" id="r_ac40590d319ad81eba8fc8f5e20db54a3"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDiffMinImpactExeUnit.html#ac40590d319ad81eba8fc8f5e20db54a3">on_tick</a> (<a class="el" href="classWTSTickData.html">WTSTickData</a> *newTick) override</td></tr>
<tr class="memdesc:ac40590d319ad81eba8fc8f5e20db54a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">行情数据回调处理  <br /></td></tr>
<tr class="separator:ac40590d319ad81eba8fc8f5e20db54a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65f08a207fefff61a217511607011f8f" id="r_a65f08a207fefff61a217511607011f8f"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDiffMinImpactExeUnit.html#a65f08a207fefff61a217511607011f8f">on_trade</a> (uint32_t localid, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, bool isBuy, double vol, double <a class="el" href="demo__send__order_8cpp.html#a04f887fc8800d4727971dbb8eb550132">price</a>) override</td></tr>
<tr class="memdesc:a65f08a207fefff61a217511607011f8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">成交回报处理  <br /></td></tr>
<tr class="separator:a65f08a207fefff61a217511607011f8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41efe50934341cbecc7a02a03b8f22dc" id="r_a41efe50934341cbecc7a02a03b8f22dc"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDiffMinImpactExeUnit.html#a41efe50934341cbecc7a02a03b8f22dc">on_entrust</a> (uint32_t localid, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, bool bSuccess, <a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *message) override</td></tr>
<tr class="memdesc:a41efe50934341cbecc7a02a03b8f22dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">委托单回报处理  <br /></td></tr>
<tr class="separator:a41efe50934341cbecc7a02a03b8f22dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48cb7611c38804fea9dc40cf02063ecc" id="r_a48cb7611c38804fea9dc40cf02063ecc"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDiffMinImpactExeUnit.html#a48cb7611c38804fea9dc40cf02063ecc">set_position</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode, double newVol) override</td></tr>
<tr class="memdesc:a48cb7611c38804fea9dc40cf02063ecc"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置新的目标仓位  <br /></td></tr>
<tr class="separator:a48cb7611c38804fea9dc40cf02063ecc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab674a607990515c5f5f0260403169c7b" id="r_ab674a607990515c5f5f0260403169c7b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDiffMinImpactExeUnit.html#ab674a607990515c5f5f0260403169c7b">clear_all_position</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *stdCode) override</td></tr>
<tr class="memdesc:ab674a607990515c5f5f0260403169c7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">清理全部持仓  <br /></td></tr>
<tr class="separator:ab674a607990515c5f5f0260403169c7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9be846223b63a6398dac1eeaa9f60894" id="r_a9be846223b63a6398dac1eeaa9f60894"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDiffMinImpactExeUnit.html#a9be846223b63a6398dac1eeaa9f60894">on_channel_ready</a> () override</td></tr>
<tr class="memdesc:a9be846223b63a6398dac1eeaa9f60894"><td class="mdescLeft">&#160;</td><td class="mdescRight">交易通道就绪回调  <br /></td></tr>
<tr class="separator:a9be846223b63a6398dac1eeaa9f60894"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbca1d933120fcab74027e7a18e9a812" id="r_acbca1d933120fcab74027e7a18e9a812"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDiffMinImpactExeUnit.html#acbca1d933120fcab74027e7a18e9a812">on_channel_lost</a> () override</td></tr>
<tr class="memdesc:acbca1d933120fcab74027e7a18e9a812"><td class="mdescLeft">&#160;</td><td class="mdescRight">交易通道丢失回调  <br /></td></tr>
<tr class="separator:acbca1d933120fcab74027e7a18e9a812"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classExecuteUnit"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classExecuteUnit')"><img src="closed.png" alt="-"/>&#160;Public 成员函数 继承自 <a class="el" href="classExecuteUnit.html">ExecuteUnit</a></td></tr>
<tr class="memitem:af0b295bff06be9e7129b2e8bb36a1fb7 inherit pub_methods_classExecuteUnit" id="r_af0b295bff06be9e7129b2e8bb36a1fb7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classExecuteUnit.html#af0b295bff06be9e7129b2e8bb36a1fb7">ExecuteUnit</a> (bool bDiffMode=false)</td></tr>
<tr class="separator:af0b295bff06be9e7129b2e8bb36a1fb7 inherit pub_methods_classExecuteUnit"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3f269919e1c97106fa3a0224360d0f1 inherit pub_methods_classExecuteUnit" id="r_ac3f269919e1c97106fa3a0224360d0f1"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classExecuteUnit.html#ac3f269919e1c97106fa3a0224360d0f1">~ExecuteUnit</a> ()</td></tr>
<tr class="separator:ac3f269919e1c97106fa3a0224360d0f1 inherit pub_methods_classExecuteUnit"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f61cc3a45f63f2e931ecbdb8f8dcd20 inherit pub_methods_classExecuteUnit" id="r_a7f61cc3a45f63f2e931ecbdb8f8dcd20"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classExecuteUnit.html#a7f61cc3a45f63f2e931ecbdb8f8dcd20">on_account</a> (<a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *<a class="el" href="demo__send__order_8cpp.html#af75f83b1c7d27fcbd5fb60b382330d60">currency</a>, double prebalance, double balance, double dynbalance, double avaliable, double closeprofit, double dynprofit, double margin, double fee, double deposit, double withdraw)</td></tr>
<tr class="separator:a7f61cc3a45f63f2e931ecbdb8f8dcd20 inherit pub_methods_classExecuteUnit"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-types" name="pri-types"></a>
Private 类型</h2></td></tr>
<tr class="memitem:a86aade00cd8308bc3c6ced3edaf602d2" id="r_a86aade00cd8308bc3c6ced3edaf602d2"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structWtDiffMinImpactExeUnit_1_1__CalcFlag.html">WtDiffMinImpactExeUnit::_CalcFlag</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDiffMinImpactExeUnit.html#a86aade00cd8308bc3c6ced3edaf602d2">CalcFlag</a></td></tr>
<tr class="memdesc:a86aade00cd8308bc3c6ced3edaf602d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">计算标志结构体  <br /></td></tr>
<tr class="separator:a86aade00cd8308bc3c6ced3edaf602d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private 成员函数</h2></td></tr>
<tr class="memitem:a75be40a92dccfe4f81ec8b5c25cdf686" id="r_a75be40a92dccfe4f81ec8b5c25cdf686"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDiffMinImpactExeUnit.html#a75be40a92dccfe4f81ec8b5c25cdf686">do_calc</a> ()</td></tr>
<tr class="memdesc:a75be40a92dccfe4f81ec8b5c25cdf686"><td class="mdescLeft">&#160;</td><td class="mdescRight">执行差量交易的核心计算逻辑  <br /></td></tr>
<tr class="separator:a75be40a92dccfe4f81ec8b5c25cdf686"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private 属性</h2></td></tr>
<tr class="memitem:a6daaf0a48b2a58616990f2eca512d7fd" id="r_a6daaf0a48b2a58616990f2eca512d7fd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classWTSTickData.html">WTSTickData</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDiffMinImpactExeUnit.html#a6daaf0a48b2a58616990f2eca512d7fd">_last_tick</a></td></tr>
<tr class="memdesc:a6daaf0a48b2a58616990f2eca512d7fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">最近的行情数据  <br /></td></tr>
<tr class="separator:a6daaf0a48b2a58616990f2eca512d7fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17a8d6a7550c2a7b190eddda06cf8dc2" id="r_a17a8d6a7550c2a7b190eddda06cf8dc2"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDiffMinImpactExeUnit.html#a17a8d6a7550c2a7b190eddda06cf8dc2">_left_diff</a></td></tr>
<tr class="memdesc:a17a8d6a7550c2a7b190eddda06cf8dc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">未执行完的差量，正数表示待买入，负数表示待卖出  <br /></td></tr>
<tr class="separator:a17a8d6a7550c2a7b190eddda06cf8dc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a672baa7860bfc6420227a0afe99c3cfc" id="r_a672baa7860bfc6420227a0afe99c3cfc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__MutexUtils.html#gaff888cdcc14f5ebb7a1a9c9f7b52846f">StdUniqueMutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDiffMinImpactExeUnit.html#a672baa7860bfc6420227a0afe99c3cfc">_mtx_calc</a></td></tr>
<tr class="memdesc:a672baa7860bfc6420227a0afe99c3cfc"><td class="mdescLeft">&#160;</td><td class="mdescRight">计算互斥锁，防止多线程同时执行计算逻辑  <br /></td></tr>
<tr class="separator:a672baa7860bfc6420227a0afe99c3cfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a9e08d39411715564a524e2b1d2746c" id="r_a7a9e08d39411715564a524e2b1d2746c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classWTSCommodityInfo.html">WTSCommodityInfo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDiffMinImpactExeUnit.html#a7a9e08d39411715564a524e2b1d2746c">_comm_info</a></td></tr>
<tr class="memdesc:a7a9e08d39411715564a524e2b1d2746c"><td class="mdescLeft">&#160;</td><td class="mdescRight">品种信息，包含合约属性、价格精度等  <br /></td></tr>
<tr class="separator:a7a9e08d39411715564a524e2b1d2746c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21e4c5c40abc579841d463b52d543948" id="r_a21e4c5c40abc579841d463b52d543948"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classWTSSessionInfo.html">WTSSessionInfo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDiffMinImpactExeUnit.html#a21e4c5c40abc579841d463b52d543948">_sess_info</a></td></tr>
<tr class="memdesc:a21e4c5c40abc579841d463b52d543948"><td class="mdescLeft">&#160;</td><td class="mdescRight">交易时段信息，用于判断是否在交易时段内  <br /></td></tr>
<tr class="separator:a21e4c5c40abc579841d463b52d543948"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5905601658939b3324643e0d99b19d9" id="r_af5905601658939b3324643e0d99b19d9"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDiffMinImpactExeUnit.html#af5905601658939b3324643e0d99b19d9">_price_offset</a></td></tr>
<tr class="memdesc:af5905601658939b3324643e0d99b19d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">价格偏移跳数，一般和订单同方向，用于设置委托价格  <br /></td></tr>
<tr class="separator:af5905601658939b3324643e0d99b19d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49eaad8e53c1d0f51c60e33d2d165dc5" id="r_a49eaad8e53c1d0f51c60e33d2d165dc5"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDiffMinImpactExeUnit.html#a49eaad8e53c1d0f51c60e33d2d165dc5">_expire_secs</a></td></tr>
<tr class="memdesc:a49eaad8e53c1d0f51c60e33d2d165dc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">订单超时秒数，超过该时间未成交的订单会被撤销  <br /></td></tr>
<tr class="separator:a49eaad8e53c1d0f51c60e33d2d165dc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acae063c7613fc17abd792b0e3b0814a4" id="r_acae063c7613fc17abd792b0e3b0814a4"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDiffMinImpactExeUnit.html#acae063c7613fc17abd792b0e3b0814a4">_price_mode</a></td></tr>
<tr class="memdesc:acae063c7613fc17abd792b0e3b0814a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">价格类型：0-最新价, -1-最优价, 1-对手价, 2-自动  <br /></td></tr>
<tr class="separator:acae063c7613fc17abd792b0e3b0814a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdf9374c3e998042124e11651ad8b9e3" id="r_abdf9374c3e998042124e11651ad8b9e3"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDiffMinImpactExeUnit.html#abdf9374c3e998042124e11651ad8b9e3">_entrust_span</a></td></tr>
<tr class="memdesc:abdf9374c3e998042124e11651ad8b9e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">发单时间间隔，单位毫秒，控制发单频率  <br /></td></tr>
<tr class="separator:abdf9374c3e998042124e11651ad8b9e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a514c13a3d74e1ddc8f50fa232cdc921f" id="r_a514c13a3d74e1ddc8f50fa232cdc921f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDiffMinImpactExeUnit.html#a514c13a3d74e1ddc8f50fa232cdc921f">_by_rate</a></td></tr>
<tr class="memdesc:a514c13a3d74e1ddc8f50fa232cdc921f"><td class="mdescLeft">&#160;</td><td class="mdescRight">是否按照对手挂单数的比例下单，true则使用rate字段，false则使用lots字段  <br /></td></tr>
<tr class="separator:a514c13a3d74e1ddc8f50fa232cdc921f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb4de9e8657ddabb96c134fbcce0978c" id="r_adb4de9e8657ddabb96c134fbcce0978c"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDiffMinImpactExeUnit.html#adb4de9e8657ddabb96c134fbcce0978c">_order_lots</a></td></tr>
<tr class="memdesc:adb4de9e8657ddabb96c134fbcce0978c"><td class="mdescLeft">&#160;</td><td class="mdescRight">单次发单手数，当by_rate=false时使用  <br /></td></tr>
<tr class="separator:adb4de9e8657ddabb96c134fbcce0978c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4616a67c1c48d8aa726fa799c18fcde7" id="r_a4616a67c1c48d8aa726fa799c18fcde7"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDiffMinImpactExeUnit.html#a4616a67c1c48d8aa726fa799c18fcde7">_qty_rate</a></td></tr>
<tr class="memdesc:a4616a67c1c48d8aa726fa799c18fcde7"><td class="mdescLeft">&#160;</td><td class="mdescRight">下单手数比例，当by_rate=true时，按对手盘挂单量的比例计算下单量  <br /></td></tr>
<tr class="separator:a4616a67c1c48d8aa726fa799c18fcde7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a1088c99bd3dde0db5285b4c7d27d72" id="r_a2a1088c99bd3dde0db5285b4c7d27d72"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classWtOrdMon.html">WtOrdMon</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDiffMinImpactExeUnit.html#a2a1088c99bd3dde0db5285b4c7d27d72">_orders_mon</a></td></tr>
<tr class="memdesc:a2a1088c99bd3dde0db5285b4c7d27d72"><td class="mdescLeft">&#160;</td><td class="mdescRight">订单监控器，用于管理本地订单  <br /></td></tr>
<tr class="separator:a2a1088c99bd3dde0db5285b4c7d27d72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0319f23fa0be389cb89321aa24d96725" id="r_a0319f23fa0be389cb89321aa24d96725"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDiffMinImpactExeUnit.html#a0319f23fa0be389cb89321aa24d96725">_cancel_cnt</a></td></tr>
<tr class="memdesc:a0319f23fa0be389cb89321aa24d96725"><td class="mdescLeft">&#160;</td><td class="mdescRight">当前正在撤销的订单数量  <br /></td></tr>
<tr class="separator:a0319f23fa0be389cb89321aa24d96725"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72c695c740f68f852760d8c1fa5109be" id="r_a72c695c740f68f852760d8c1fa5109be"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDiffMinImpactExeUnit.html#a72c695c740f68f852760d8c1fa5109be">_cancel_times</a></td></tr>
<tr class="memdesc:a72c695c740f68f852760d8c1fa5109be"><td class="mdescLeft">&#160;</td><td class="mdescRight">撤单次数，用于动态调整下单价格  <br /></td></tr>
<tr class="separator:a72c695c740f68f852760d8c1fa5109be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2e6714986329f575f70b72add48fd45" id="r_aa2e6714986329f575f70b72add48fd45"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDiffMinImpactExeUnit.html#aa2e6714986329f575f70b72add48fd45">_last_place_time</a></td></tr>
<tr class="memdesc:aa2e6714986329f575f70b72add48fd45"><td class="mdescLeft">&#160;</td><td class="mdescRight">上次下单时间，用于控制下单频率  <br /></td></tr>
<tr class="separator:aa2e6714986329f575f70b72add48fd45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a160ced3ead67b1ac1f6d8dc97167574a" id="r_a160ced3ead67b1ac1f6d8dc97167574a"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDiffMinImpactExeUnit.html#a160ced3ead67b1ac1f6d8dc97167574a">_last_tick_time</a></td></tr>
<tr class="memdesc:a160ced3ead67b1ac1f6d8dc97167574a"><td class="mdescLeft">&#160;</td><td class="mdescRight">上次行情时间戳，用于判断行情是否更新  <br /></td></tr>
<tr class="separator:a160ced3ead67b1ac1f6d8dc97167574a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18b6692c2e5525bc11ee5c2d1966027a" id="r_a18b6692c2e5525bc11ee5c2d1966027a"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWtDiffMinImpactExeUnit.html#a18b6692c2e5525bc11ee5c2d1966027a">_in_calc</a></td></tr>
<tr class="memdesc:a18b6692c2e5525bc11ee5c2d1966027a"><td class="mdescLeft">&#160;</td><td class="mdescRight">是否正在计算中的标志，防止重复计算  <br /></td></tr>
<tr class="separator:a18b6692c2e5525bc11ee5c2d1966027a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
额外继承的成员函数</h2></td></tr>
<tr class="inherit_header pro_attribs_classExecuteUnit"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classExecuteUnit')"><img src="closed.png" alt="-"/>&#160;Protected 属性 继承自 <a class="el" href="classExecuteUnit.html">ExecuteUnit</a></td></tr>
<tr class="memitem:adcad0deb3cd690a907595ba406a51f52 inherit pro_attribs_classExecuteUnit" id="r_adcad0deb3cd690a907595ba406a51f52"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classExecuteContext.html">ExecuteContext</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classExecuteUnit.html#adcad0deb3cd690a907595ba406a51f52">_ctx</a></td></tr>
<tr class="separator:adcad0deb3cd690a907595ba406a51f52 inherit pro_attribs_classExecuteUnit"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74ac9810daca8c1ae10755db4d2fbd22 inherit pro_attribs_classExecuteUnit" id="r_a74ac9810daca8c1ae10755db4d2fbd22"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classExecuteUnit.html#a74ac9810daca8c1ae10755db4d2fbd22">_code</a></td></tr>
<tr class="separator:a74ac9810daca8c1ae10755db4d2fbd22 inherit pro_attribs_classExecuteUnit"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<div class="textblock"><p>差量最小冲击执行单元 </p>
<p>通过控制交易时机、价格和数量，实现对市场影响最小化的订单执行策略 差量执行单元根据目标仓位与当前仓位的差值，逐笔分批执行订单，并可以自适应市场状况调整执行价格 </p>

<p class="definition">在文件 <a class="el" href="WtDiffMinImpactExeUnit_8h_source.html">WtDiffMinImpactExeUnit.h</a> 第 <a class="el" href="WtDiffMinImpactExeUnit_8h_source.html#l00022">22</a> 行定义.</p>
</div><h2 class="groupheader">成员类型定义说明</h2>
<a id="a86aade00cd8308bc3c6ced3edaf602d2" name="a86aade00cd8308bc3c6ced3edaf602d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86aade00cd8308bc3c6ced3edaf602d2">&#9670;&#160;</a></span>CalcFlag</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structWtDiffMinImpactExeUnit_1_1__CalcFlag.html">WtDiffMinImpactExeUnit::_CalcFlag</a> <a class="el" href="classWtDiffMinImpactExeUnit.html#a86aade00cd8308bc3c6ced3edaf602d2">WtDiffMinImpactExeUnit::CalcFlag</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>计算标志结构体 </p>
<p>用于防止多线程同时执行计算逻辑的RAII类型标志结构体 在构造时尝试获取计算标志，在析构时自动释放标志 </p>

</div>
</div>
<h2 class="groupheader">构造及析构函数说明</h2>
<a id="af76832573f35bd8880fbfa2cf20e1c4c" name="af76832573f35bd8880fbfa2cf20e1c4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af76832573f35bd8880fbfa2cf20e1c4c">&#9670;&#160;</a></span>WtDiffMinImpactExeUnit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WtDiffMinImpactExeUnit::WtDiffMinImpactExeUnit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>构造函数 </p>
<p>初始化差量最小冲击执行单元的成员变量</p>
<p>初始化差量最小冲击执行单元的成员变量，将指针设置为空，数值设置为初始值 </p>

<p class="definition">在文件 <a class="el" href="WtDiffMinImpactExeUnit_8cpp_source.html">WtDiffMinImpactExeUnit.cpp</a> 第 <a class="el" href="WtDiffMinImpactExeUnit_8cpp_source.html#l00029">29</a> 行定义.</p>

</div>
</div>
<a id="adefbad0fea09cb29a370c3e32e561698" name="adefbad0fea09cb29a370c3e32e561698"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adefbad0fea09cb29a370c3e32e561698">&#9670;&#160;</a></span>~WtDiffMinImpactExeUnit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">WtDiffMinImpactExeUnit::~WtDiffMinImpactExeUnit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>析构函数 </p>
<p>清理差量最小冲击执行单元的资源</p>
<p>清理差量最小冲击执行单元的资源，释放行情和商品信息所占用的内存 </p>

<p class="definition">在文件 <a class="el" href="WtDiffMinImpactExeUnit_8cpp_source.html">WtDiffMinImpactExeUnit.cpp</a> 第 <a class="el" href="WtDiffMinImpactExeUnit_8cpp_source.html#l00049">49</a> 行定义.</p>

</div>
</div>
<h2 class="groupheader">成员函数说明</h2>
<a id="ab674a607990515c5f5f0260403169c7b" name="ab674a607990515c5f5f0260403169c7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab674a607990515c5f5f0260403169c7b">&#9670;&#160;</a></span>clear_all_position()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WtDiffMinImpactExeUnit::clear_all_position </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>清理全部持仓 </p>
<p>清空所有持仓</p>
<p>将指定合约的目标仓位设置为零，触发平仓操作 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>合约代码</td></tr>
  </table>
  </dd>
</dl>
<p>清空合约的全部持仓。差量最小冲击执行单元不支持此操作，只会记录日志而不进行任何操作 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>合约代码 </td></tr>
  </table>
  </dd>
</dl>

<p>重载 <a class="el" href="classExecuteUnit.html#a7f76f5f38cbbf498f141c3c0f9fbefc6">ExecuteUnit</a> .</p>

<p class="definition">在文件 <a class="el" href="WtDiffMinImpactExeUnit_8cpp_source.html">WtDiffMinImpactExeUnit.cpp</a> 第 <a class="el" href="WtDiffMinImpactExeUnit_8cpp_source.html#l00518">518</a> 行定义.</p>

</div>
</div>
<a id="a75be40a92dccfe4f81ec8b5c25cdf686" name="a75be40a92dccfe4f81ec8b5c25cdf686"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75be40a92dccfe4f81ec8b5c25cdf686">&#9670;&#160;</a></span>do_calc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WtDiffMinImpactExeUnit::do_calc </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>执行差量交易的核心计算逻辑 </p>
<p>根据差量、市场状态和配置参数计算并发出订单， 包含买卖方向判断、交易数量计算、交易价格计算等逻辑</p>
<p>根据差量、市场状态和配置参数计算并发出订单。具体流程包括：</p><ol type="1">
<li>使用互斥锁和原子布尔变量防止重复计算</li>
<li>检查是否有未成交订单或正在撤销的订单</li>
<li>根据价格模式计算委托价格</li>
<li>根据下单方式(固定手数或比例)、差仓量和当前持仓计算交易数量</li>
<li>检查并调整涨跌停价格</li>
<li>发送买卖订单 </li>
</ol>

<p class="definition">在文件 <a class="el" href="WtDiffMinImpactExeUnit_8cpp_source.html">WtDiffMinImpactExeUnit.cpp</a> 第 <a class="el" href="WtDiffMinImpactExeUnit_8cpp_source.html#l00309">309</a> 行定义.</p>

</div>
</div>
<a id="a3fd1a8fbf2c257057408691252ebaf9f" name="a3fd1a8fbf2c257057408691252ebaf9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fd1a8fbf2c257057408691252ebaf9f">&#9670;&#160;</a></span>getFactName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char * WtDiffMinImpactExeUnit::getFactName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取所属执行器工厂名称 </p>
<p>返回差量最小冲击执行单元所属的执行器工厂名称 </p><dl class="section return"><dt>返回</dt><dd>执行器工厂名称</dd>
<dd>
执行器工厂名称 </dd></dl>

<p>实现了 <a class="el" href="classExecuteUnit.html#a9926a35133fe08fe9bc8c1c7fcd4646c">ExecuteUnit</a>.</p>

<p class="definition">在文件 <a class="el" href="WtDiffMinImpactExeUnit_8cpp_source.html">WtDiffMinImpactExeUnit.cpp</a> 第 <a class="el" href="WtDiffMinImpactExeUnit_8cpp_source.html#l00062">62</a> 行定义.</p>

</div>
</div>
<a id="a16be05671538007f68486051d746e78c" name="a16be05671538007f68486051d746e78c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16be05671538007f68486051d746e78c">&#9670;&#160;</a></span>getName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char * WtDiffMinImpactExeUnit::getName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取执行单元名称 </p>
<p>返回差量最小冲击执行单元的名称 </p><dl class="section return"><dt>返回</dt><dd>执行单元名称</dd>
<dd>
执行单元名称 </dd></dl>

<p>实现了 <a class="el" href="classExecuteUnit.html#abb798a66927eba0d0093741025de7890">ExecuteUnit</a>.</p>

<p class="definition">在文件 <a class="el" href="WtDiffMinImpactExeUnit_8cpp_source.html">WtDiffMinImpactExeUnit.cpp</a> 第 <a class="el" href="WtDiffMinImpactExeUnit_8cpp_source.html#l00071">71</a> 行定义.</p>

</div>
</div>
<a id="a135c1c6a66b7448059cda5e1290f91e3" name="a135c1c6a66b7448059cda5e1290f91e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a135c1c6a66b7448059cda5e1290f91e3">&#9670;&#160;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WtDiffMinImpactExeUnit::init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classExecuteContext.html">ExecuteContext</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classWTSVariant.html">WTSVariant</a> *&#160;</td>
          <td class="paramname"><em>cfg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>初始化执行单元 </p>
<p>根据给定的配置初始化差量最小冲击执行单元，设置交易参数等 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>执行单元运行环境，提供执行单元所需的基础设施和接口 </td></tr>
    <tr><td class="paramname">stdCode</td><td>管理的合约代码 </td></tr>
    <tr><td class="paramname">cfg</td><td>执行单元配置，包含价格模式、过期时间等参数</td></tr>
  </table>
  </dd>
</dl>
<p>根据给定的配置初始化差量最小冲击执行单元的各项参数 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>执行单元运行环境 </td></tr>
    <tr><td class="paramname">stdCode</td><td>管理的合约代码 </td></tr>
    <tr><td class="paramname">cfg</td><td>执行单元配置 </td></tr>
  </table>
  </dd>
</dl>

<p>重载 <a class="el" href="classExecuteUnit.html#a581aa0f5a523cedc728d13dfffa5788f">ExecuteUnit</a> .</p>

<p class="definition">在文件 <a class="el" href="WtDiffMinImpactExeUnit_8cpp_source.html">WtDiffMinImpactExeUnit.cpp</a> 第 <a class="el" href="WtDiffMinImpactExeUnit_8cpp_source.html#l00083">83</a> 行定义.</p>

</div>
</div>
<a id="acbca1d933120fcab74027e7a18e9a812" name="acbca1d933120fcab74027e7a18e9a812"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbca1d933120fcab74027e7a18e9a812">&#9670;&#160;</a></span>on_channel_lost()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WtDiffMinImpactExeUnit::on_channel_lost </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>交易通道丢失回调 </p>
<p>当交易通道断开连接时触发，处理断开连接后的逻辑</p>
<p>当交易通道断开连接时触发，当前版本未实现具体处理逻辑 </p>

<p>实现了 <a class="el" href="classExecuteUnit.html#a0428e26e1a046b72b408258e127e3300">ExecuteUnit</a>.</p>

<p class="definition">在文件 <a class="el" href="WtDiffMinImpactExeUnit_8cpp_source.html">WtDiffMinImpactExeUnit.cpp</a> 第 <a class="el" href="WtDiffMinImpactExeUnit_8cpp_source.html#l00204">204</a> 行定义.</p>

</div>
</div>
<a id="a9be846223b63a6398dac1eeaa9f60894" name="a9be846223b63a6398dac1eeaa9f60894"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9be846223b63a6398dac1eeaa9f60894">&#9670;&#160;</a></span>on_channel_ready()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WtDiffMinImpactExeUnit::on_channel_ready </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>交易通道就绪回调 </p>
<p>当交易通道连接就绪时触发，检查未完成订单并重新计算</p>
<p>当交易通道连接就绪时触发，检查未完成订单并重新计算交易策略 处理三种情况：</p><ol type="1">
<li>存在未完成单但本地没有监控，则撤销全部</li>
<li>本地有监控的订单但交易所无订单，则清理本地订单</li>
<li>其他未识别情况记录日志 </li>
</ol>

<p>实现了 <a class="el" href="classExecuteUnit.html#a9f4c260a14b55bd4ff28d14de7b90e96">ExecuteUnit</a>.</p>

<p class="definition">在文件 <a class="el" href="WtDiffMinImpactExeUnit_8cpp_source.html">WtDiffMinImpactExeUnit.cpp</a> 第 <a class="el" href="WtDiffMinImpactExeUnit_8cpp_source.html#l00157">157</a> 行定义.</p>

</div>
</div>
<a id="a41efe50934341cbecc7a02a03b8f22dc" name="a41efe50934341cbecc7a02a03b8f22dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41efe50934341cbecc7a02a03b8f22dc">&#9670;&#160;</a></span>on_entrust()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WtDiffMinImpactExeUnit::on_entrust </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>localid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bSuccess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>委托单回报处理 </p>
<p>委托回报处理</p>
<p>处理委托下单的结果回报，判断是否成功 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">localid</td><td>本地订单号 </td></tr>
    <tr><td class="paramname">stdCode</td><td>合约代码 </td></tr>
    <tr><td class="paramname">bSuccess</td><td>下单是否成功，true表示成功，false表示失败 </td></tr>
    <tr><td class="paramname">message</td><td>错误消息，当下单失败时包含具体原因</td></tr>
  </table>
  </dd>
</dl>
<p>处理委托单的下单结果回报，当下单失败时清空监控结构并重新计算 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">localid</td><td>本地订单号 </td></tr>
    <tr><td class="paramname">stdCode</td><td>合约代码 </td></tr>
    <tr><td class="paramname">bSuccess</td><td>是否下单成功 </td></tr>
    <tr><td class="paramname">message</td><td>错误消息，当bSuccess为false时有效 </td></tr>
  </table>
  </dd>
</dl>

<p>实现了 <a class="el" href="classExecuteUnit.html#a617f4e0ae426ccaed4fae662251e05b2">ExecuteUnit</a>.</p>

<p class="definition">在文件 <a class="el" href="WtDiffMinImpactExeUnit_8cpp_source.html">WtDiffMinImpactExeUnit.cpp</a> 第 <a class="el" href="WtDiffMinImpactExeUnit_8cpp_source.html#l00285">285</a> 行定义.</p>

</div>
</div>
<a id="a74a7964c7e2fd302852909ff2ceab341" name="a74a7964c7e2fd302852909ff2ceab341"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74a7964c7e2fd302852909ff2ceab341">&#9670;&#160;</a></span>on_order()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WtDiffMinImpactExeUnit::on_order </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>localid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isBuy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>leftover</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>price</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isCanceled</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>订单回报处理 </p>
<p>处理从交易平台返回的订单状态变化信息，包括撤单、成交等 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">localid</td><td>本地订单号，用于识别和跟踪订单 </td></tr>
    <tr><td class="paramname">stdCode</td><td>合约代码 </td></tr>
    <tr><td class="paramname">isBuy</td><td>买卖方向，true表示买入，false表示卖出 </td></tr>
    <tr><td class="paramname">leftover</td><td>剩余未成交数量 </td></tr>
    <tr><td class="paramname">price</td><td>委托价格 </td></tr>
    <tr><td class="paramname">isCanceled</td><td>是否已撤销，true表示已撤销，false表示未撤销</td></tr>
  </table>
  </dd>
</dl>
<p>处理交易所返回的订单状态变化，包括订单成交和撤单情况 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">localid</td><td>本地订单号 </td></tr>
    <tr><td class="paramname">stdCode</td><td>合约代码 </td></tr>
    <tr><td class="paramname">isBuy</td><td>是否买入 </td></tr>
    <tr><td class="paramname">leftover</td><td>剩余未成交数量 </td></tr>
    <tr><td class="paramname">price</td><td>委托价格 </td></tr>
    <tr><td class="paramname">isCanceled</td><td>是否已撤销 </td></tr>
  </table>
  </dd>
</dl>

<p>实现了 <a class="el" href="classExecuteUnit.html#a3941116e2babb85d87182ec1d5e5056f">ExecuteUnit</a>.</p>

<p class="definition">在文件 <a class="el" href="WtDiffMinImpactExeUnit_8cpp_source.html">WtDiffMinImpactExeUnit.cpp</a> 第 <a class="el" href="WtDiffMinImpactExeUnit_8cpp_source.html#l00117">117</a> 行定义.</p>

</div>
</div>
<a id="ac40590d319ad81eba8fc8f5e20db54a3" name="ac40590d319ad81eba8fc8f5e20db54a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac40590d319ad81eba8fc8f5e20db54a3">&#9670;&#160;</a></span>on_tick()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WtDiffMinImpactExeUnit::on_tick </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classWTSTickData.html">WTSTickData</a> *&#160;</td>
          <td class="paramname"><em>newTick</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>行情数据回调处理 </p>
<p>处理行情数据</p>
<p>处理最新的行情数据，更新内部状态并触发核心交易逻辑 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">newTick</td><td>最新的tick行情数据，包含最新价、买卖盟、成交量等信息</td></tr>
  </table>
  </dd>
</dl>
<p>处理新到的行情数据，更新内部状态，判断是否撤销过期订单，并触发交易计算 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">newTick</td><td>最新的市场行情数据 </td></tr>
  </table>
  </dd>
</dl>

<p>实现了 <a class="el" href="classExecuteUnit.html#aae14fca80e2a9ec990a0f4e2d5513a75">ExecuteUnit</a>.</p>

<p class="definition">在文件 <a class="el" href="WtDiffMinImpactExeUnit_8cpp_source.html">WtDiffMinImpactExeUnit.cpp</a> 第 <a class="el" href="WtDiffMinImpactExeUnit_8cpp_source.html#l00214">214</a> 行定义.</p>

</div>
</div>
<a id="a65f08a207fefff61a217511607011f8f" name="a65f08a207fefff61a217511607011f8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65f08a207fefff61a217511607011f8f">&#9670;&#160;</a></span>on_trade()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WtDiffMinImpactExeUnit::on_trade </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>localid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isBuy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>vol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>price</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>成交回报处理 </p>
<p>处理订单成交信息，更新差量仓位信息 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">localid</td><td>本地订单号 </td></tr>
    <tr><td class="paramname">stdCode</td><td>合约代码 </td></tr>
    <tr><td class="paramname">isBuy</td><td>买卖方向，true表示买入，false表示卖出 </td></tr>
    <tr><td class="paramname">vol</td><td>成交数量，这里没有正负区分，通过isBuy确定买入还是卖出 </td></tr>
    <tr><td class="paramname">price</td><td>成交价格</td></tr>
  </table>
  </dd>
</dl>
<p>处理订单成交信息，更新差量仓位信息 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">localid</td><td>本地订单号 </td></tr>
    <tr><td class="paramname">stdCode</td><td>合约代码 </td></tr>
    <tr><td class="paramname">isBuy</td><td>买卖方向，true表示买入，false表示卖出 </td></tr>
    <tr><td class="paramname">vol</td><td>成交数量 </td></tr>
    <tr><td class="paramname">price</td><td>成交价格 </td></tr>
  </table>
  </dd>
</dl>

<p>实现了 <a class="el" href="classExecuteUnit.html#a60f353b0a5c19a18c95929d6bc364999">ExecuteUnit</a>.</p>

<p class="definition">在文件 <a class="el" href="WtDiffMinImpactExeUnit_8cpp_source.html">WtDiffMinImpactExeUnit.cpp</a> 第 <a class="el" href="WtDiffMinImpactExeUnit_8cpp_source.html#l00266">266</a> 行定义.</p>

</div>
</div>
<a id="a48cb7611c38804fea9dc40cf02063ecc" name="a48cb7611c38804fea9dc40cf02063ecc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48cb7611c38804fea9dc40cf02063ecc">&#9670;&#160;</a></span>set_position()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void WtDiffMinImpactExeUnit::set_position </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stdc_8h.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>stdCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>newDiff</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>设置新的目标仓位 </p>
<p>设置新的目标仓位差量</p>
<p>设置合约的新目标仓位并计算差量，触发执行计算 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>合约代码 </td></tr>
    <tr><td class="paramname">newVol</td><td>新的目标仓位数量，正数表示多头持仓，负数表示空头持仓</td></tr>
  </table>
  </dd>
</dl>
<p>更新差量最小冲击执行单元的目标仓位差量，并在差量发生变化时触发交易计算 注意该执行单元不支持清仓命令（newDiff = DBL_MAX） </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">stdCode</td><td>合约代码 </td></tr>
    <tr><td class="paramname">newDiff</td><td>新的目标仓位差量 </td></tr>
  </table>
  </dd>
</dl>

<p>实现了 <a class="el" href="classExecuteUnit.html#a84d1f03b16fcd9bbcfbf65d132f2e0c1">ExecuteUnit</a>.</p>

<p class="definition">在文件 <a class="el" href="WtDiffMinImpactExeUnit_8cpp_source.html">WtDiffMinImpactExeUnit.cpp</a> 第 <a class="el" href="WtDiffMinImpactExeUnit_8cpp_source.html#l00490">490</a> 行定义.</p>

</div>
</div>
<h2 class="groupheader">类成员变量说明</h2>
<a id="a514c13a3d74e1ddc8f50fa232cdc921f" name="a514c13a3d74e1ddc8f50fa232cdc921f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a514c13a3d74e1ddc8f50fa232cdc921f">&#9670;&#160;</a></span>_by_rate</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool WtDiffMinImpactExeUnit::_by_rate</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>是否按照对手挂单数的比例下单，true则使用rate字段，false则使用lots字段 </p>

<p class="definition">在文件 <a class="el" href="WtDiffMinImpactExeUnit_8h_source.html">WtDiffMinImpactExeUnit.h</a> 第 <a class="el" href="WtDiffMinImpactExeUnit_8h_source.html#l00160">160</a> 行定义.</p>

</div>
</div>
<a id="a0319f23fa0be389cb89321aa24d96725" name="a0319f23fa0be389cb89321aa24d96725"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0319f23fa0be389cb89321aa24d96725">&#9670;&#160;</a></span>_cancel_cnt</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t WtDiffMinImpactExeUnit::_cancel_cnt</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>当前正在撤销的订单数量 </p>

<p class="definition">在文件 <a class="el" href="WtDiffMinImpactExeUnit_8h_source.html">WtDiffMinImpactExeUnit.h</a> 第 <a class="el" href="WtDiffMinImpactExeUnit_8h_source.html#l00169">169</a> 行定义.</p>

</div>
</div>
<a id="a72c695c740f68f852760d8c1fa5109be" name="a72c695c740f68f852760d8c1fa5109be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72c695c740f68f852760d8c1fa5109be">&#9670;&#160;</a></span>_cancel_times</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t WtDiffMinImpactExeUnit::_cancel_times</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>撤单次数，用于动态调整下单价格 </p>

<p class="definition">在文件 <a class="el" href="WtDiffMinImpactExeUnit_8h_source.html">WtDiffMinImpactExeUnit.h</a> 第 <a class="el" href="WtDiffMinImpactExeUnit_8h_source.html#l00171">171</a> 行定义.</p>

</div>
</div>
<a id="a7a9e08d39411715564a524e2b1d2746c" name="a7a9e08d39411715564a524e2b1d2746c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a9e08d39411715564a524e2b1d2746c">&#9670;&#160;</a></span>_comm_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWTSCommodityInfo.html">WTSCommodityInfo</a>* WtDiffMinImpactExeUnit::_comm_info</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>品种信息，包含合约属性、价格精度等 </p>

<p class="definition">在文件 <a class="el" href="WtDiffMinImpactExeUnit_8h_source.html">WtDiffMinImpactExeUnit.h</a> 第 <a class="el" href="WtDiffMinImpactExeUnit_8h_source.html#l00145">145</a> 行定义.</p>

</div>
</div>
<a id="abdf9374c3e998042124e11651ad8b9e3" name="abdf9374c3e998042124e11651ad8b9e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdf9374c3e998042124e11651ad8b9e3">&#9670;&#160;</a></span>_entrust_span</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t WtDiffMinImpactExeUnit::_entrust_span</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>发单时间间隔，单位毫秒，控制发单频率 </p>

<p class="definition">在文件 <a class="el" href="WtDiffMinImpactExeUnit_8h_source.html">WtDiffMinImpactExeUnit.h</a> 第 <a class="el" href="WtDiffMinImpactExeUnit_8h_source.html#l00158">158</a> 行定义.</p>

</div>
</div>
<a id="a49eaad8e53c1d0f51c60e33d2d165dc5" name="a49eaad8e53c1d0f51c60e33d2d165dc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49eaad8e53c1d0f51c60e33d2d165dc5">&#9670;&#160;</a></span>_expire_secs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t WtDiffMinImpactExeUnit::_expire_secs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>订单超时秒数，超过该时间未成交的订单会被撤销 </p>

<p class="definition">在文件 <a class="el" href="WtDiffMinImpactExeUnit_8h_source.html">WtDiffMinImpactExeUnit.h</a> 第 <a class="el" href="WtDiffMinImpactExeUnit_8h_source.html#l00154">154</a> 行定义.</p>

</div>
</div>
<a id="a18b6692c2e5525bc11ee5c2d1966027a" name="a18b6692c2e5525bc11ee5c2d1966027a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18b6692c2e5525bc11ee5c2d1966027a">&#9670;&#160;</a></span>_in_calc</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;bool&gt; WtDiffMinImpactExeUnit::_in_calc</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>是否正在计算中的标志，防止重复计算 </p>

<p class="definition">在文件 <a class="el" href="WtDiffMinImpactExeUnit_8h_source.html">WtDiffMinImpactExeUnit.h</a> 第 <a class="el" href="WtDiffMinImpactExeUnit_8h_source.html#l00179">179</a> 行定义.</p>

</div>
</div>
<a id="aa2e6714986329f575f70b72add48fd45" name="aa2e6714986329f575f70b72add48fd45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2e6714986329f575f70b72add48fd45">&#9670;&#160;</a></span>_last_place_time</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t WtDiffMinImpactExeUnit::_last_place_time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>上次下单时间，用于控制下单频率 </p>

<p class="definition">在文件 <a class="el" href="WtDiffMinImpactExeUnit_8h_source.html">WtDiffMinImpactExeUnit.h</a> 第 <a class="el" href="WtDiffMinImpactExeUnit_8h_source.html#l00174">174</a> 行定义.</p>

</div>
</div>
<a id="a6daaf0a48b2a58616990f2eca512d7fd" name="a6daaf0a48b2a58616990f2eca512d7fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6daaf0a48b2a58616990f2eca512d7fd">&#9670;&#160;</a></span>_last_tick</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWTSTickData.html">WTSTickData</a>* WtDiffMinImpactExeUnit::_last_tick</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>最近的行情数据 </p>

<p class="definition">在文件 <a class="el" href="WtDiffMinImpactExeUnit_8h_source.html">WtDiffMinImpactExeUnit.h</a> 第 <a class="el" href="WtDiffMinImpactExeUnit_8h_source.html#l00138">138</a> 行定义.</p>

</div>
</div>
<a id="a160ced3ead67b1ac1f6d8dc97167574a" name="a160ced3ead67b1ac1f6d8dc97167574a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a160ced3ead67b1ac1f6d8dc97167574a">&#9670;&#160;</a></span>_last_tick_time</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t WtDiffMinImpactExeUnit::_last_tick_time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>上次行情时间戳，用于判断行情是否更新 </p>

<p class="definition">在文件 <a class="el" href="WtDiffMinImpactExeUnit_8h_source.html">WtDiffMinImpactExeUnit.h</a> 第 <a class="el" href="WtDiffMinImpactExeUnit_8h_source.html#l00176">176</a> 行定义.</p>

</div>
</div>
<a id="a17a8d6a7550c2a7b190eddda06cf8dc2" name="a17a8d6a7550c2a7b190eddda06cf8dc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17a8d6a7550c2a7b190eddda06cf8dc2">&#9670;&#160;</a></span>_left_diff</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double WtDiffMinImpactExeUnit::_left_diff</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>未执行完的差量，正数表示待买入，负数表示待卖出 </p>

<p class="definition">在文件 <a class="el" href="WtDiffMinImpactExeUnit_8h_source.html">WtDiffMinImpactExeUnit.h</a> 第 <a class="el" href="WtDiffMinImpactExeUnit_8h_source.html#l00140">140</a> 行定义.</p>

</div>
</div>
<a id="a672baa7860bfc6420227a0afe99c3cfc" name="a672baa7860bfc6420227a0afe99c3cfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a672baa7860bfc6420227a0afe99c3cfc">&#9670;&#160;</a></span>_mtx_calc</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MutexUtils.html#gaff888cdcc14f5ebb7a1a9c9f7b52846f">StdUniqueMutex</a> WtDiffMinImpactExeUnit::_mtx_calc</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>计算互斥锁，防止多线程同时执行计算逻辑 </p>

<p class="definition">在文件 <a class="el" href="WtDiffMinImpactExeUnit_8h_source.html">WtDiffMinImpactExeUnit.h</a> 第 <a class="el" href="WtDiffMinImpactExeUnit_8h_source.html#l00142">142</a> 行定义.</p>

</div>
</div>
<a id="adb4de9e8657ddabb96c134fbcce0978c" name="adb4de9e8657ddabb96c134fbcce0978c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb4de9e8657ddabb96c134fbcce0978c">&#9670;&#160;</a></span>_order_lots</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double WtDiffMinImpactExeUnit::_order_lots</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>单次发单手数，当by_rate=false时使用 </p>

<p class="definition">在文件 <a class="el" href="WtDiffMinImpactExeUnit_8h_source.html">WtDiffMinImpactExeUnit.h</a> 第 <a class="el" href="WtDiffMinImpactExeUnit_8h_source.html#l00162">162</a> 行定义.</p>

</div>
</div>
<a id="a2a1088c99bd3dde0db5285b4c7d27d72" name="a2a1088c99bd3dde0db5285b4c7d27d72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a1088c99bd3dde0db5285b4c7d27d72">&#9670;&#160;</a></span>_orders_mon</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWtOrdMon.html">WtOrdMon</a> WtDiffMinImpactExeUnit::_orders_mon</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>订单监控器，用于管理本地订单 </p>

<p class="definition">在文件 <a class="el" href="WtDiffMinImpactExeUnit_8h_source.html">WtDiffMinImpactExeUnit.h</a> 第 <a class="el" href="WtDiffMinImpactExeUnit_8h_source.html#l00167">167</a> 行定义.</p>

</div>
</div>
<a id="acae063c7613fc17abd792b0e3b0814a4" name="acae063c7613fc17abd792b0e3b0814a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acae063c7613fc17abd792b0e3b0814a4">&#9670;&#160;</a></span>_price_mode</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t WtDiffMinImpactExeUnit::_price_mode</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>价格类型：0-最新价, -1-最优价, 1-对手价, 2-自动 </p>

<p class="definition">在文件 <a class="el" href="WtDiffMinImpactExeUnit_8h_source.html">WtDiffMinImpactExeUnit.h</a> 第 <a class="el" href="WtDiffMinImpactExeUnit_8h_source.html#l00156">156</a> 行定义.</p>

</div>
</div>
<a id="af5905601658939b3324643e0d99b19d9" name="af5905601658939b3324643e0d99b19d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5905601658939b3324643e0d99b19d9">&#9670;&#160;</a></span>_price_offset</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t WtDiffMinImpactExeUnit::_price_offset</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>价格偏移跳数，一般和订单同方向，用于设置委托价格 </p>

<p class="definition">在文件 <a class="el" href="WtDiffMinImpactExeUnit_8h_source.html">WtDiffMinImpactExeUnit.h</a> 第 <a class="el" href="WtDiffMinImpactExeUnit_8h_source.html#l00152">152</a> 行定义.</p>

</div>
</div>
<a id="a4616a67c1c48d8aa726fa799c18fcde7" name="a4616a67c1c48d8aa726fa799c18fcde7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4616a67c1c48d8aa726fa799c18fcde7">&#9670;&#160;</a></span>_qty_rate</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double WtDiffMinImpactExeUnit::_qty_rate</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>下单手数比例，当by_rate=true时，按对手盘挂单量的比例计算下单量 </p>

<p class="definition">在文件 <a class="el" href="WtDiffMinImpactExeUnit_8h_source.html">WtDiffMinImpactExeUnit.h</a> 第 <a class="el" href="WtDiffMinImpactExeUnit_8h_source.html#l00164">164</a> 行定义.</p>

</div>
</div>
<a id="a21e4c5c40abc579841d463b52d543948" name="a21e4c5c40abc579841d463b52d543948"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21e4c5c40abc579841d463b52d543948">&#9670;&#160;</a></span>_sess_info</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classWTSSessionInfo.html">WTSSessionInfo</a>* WtDiffMinImpactExeUnit::_sess_info</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>交易时段信息，用于判断是否在交易时段内 </p>

<p class="definition">在文件 <a class="el" href="WtDiffMinImpactExeUnit_8h_source.html">WtDiffMinImpactExeUnit.h</a> 第 <a class="el" href="WtDiffMinImpactExeUnit_8h_source.html#l00147">147</a> 行定义.</p>

</div>
</div>
<hr/>该类的文档由以下文件生成:<ul>
<li>src/WtExeFact/<a class="el" href="WtDiffMinImpactExeUnit_8h_source.html">WtDiffMinImpactExeUnit.h</a></li>
<li>src/WtExeFact/<a class="el" href="WtDiffMinImpactExeUnit_8cpp_source.html">WtDiffMinImpactExeUnit.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classWtDiffMinImpactExeUnit.html">WtDiffMinImpactExeUnit</a></li>
    <li class="footer">制作者 <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
